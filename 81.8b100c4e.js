(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{161:function(t,e,r){"use strict";e.a={EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12}},167:function(t,e,r){"use strict";e.a={VERTICAL:0,HORIZONTAL:1}},170:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var i,n=r(140),o=r.n(n);try{i=o.a.createContext({})}catch(h){i=null}o.a.Component;function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(t){var e,r;function i(e){var r;return"object"!=typeof(r=t.call(this,e)||this).context&&(r.context={}),e&&"object"==typeof e.context&&(r.context=a(a({},r.context),e.context)),r}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(o.a.Component);l(c,"contextType",i)},175:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"e",(function(){return s})),r.d(e,"g",(function(){return a})),r.d(e,"f",(function(){return l})),r.d(e,"h",(function(){return c})),r.d(e,"d",(function(){return h})),r.d(e,"i",(function(){return p})),r.d(e,"j",(function(){return m})),r.d(e,"l",(function(){return f})),r.d(e,"n",(function(){return g})),r.d(e,"m",(function(){return y})),r.d(e,"o",(function(){return u})),r.d(e,"k",(function(){return d}));var i={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_ON_THE_RIGHT:"SHOW_ON_THE_RIGHT",SHOW_ON_THE_LEFT:"SHOW_ON_THE_LEFT"},n=function(t){return String(t).indexOf(i.SHOW_ABOVE)>=0},o=function(t){return String(t).indexOf(i.SHOW_BELOW)>=0},s=function(t){return String(t).indexOf(i.SHOW_ON_HOVER)>=0},a=function(t){return String(t).indexOf(i.SHOW_ON_THE_RIGHT)>=0},l=function(t){return String(t).indexOf(i.SHOW_ON_THE_LEFT)>=0},c=function(t){return n(t)||o(t)},h=function(t){return a(t)||l(t)},u=function(t){return(n(t)||o(t))&&!h(t)&&!s(t)},d=function(t){return(a(t)||l(t))&&!c(t)&&!s(t)},p=function(t){return String(t)===i.SHOW_ABOVE},m=function(t){return String(t)===i.SHOW_BELOW},f=function(t){return String(t)===i.SHOW_ON_HOVER},g=function(t){return String(t)===i.SHOW_ON_THE_RIGHT},y=function(t){return String(t)===i.SHOW_ON_THE_LEFT};e.a=i},237:function(t,e,r){"use strict";(function(t){var i=r(412),n=r(267),o=r(304);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(){function e(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}var r=e.prototype;return r.shouldUseCache=function(){return!Object(o.a)()&&!Object(o.d)()&&!this.isSSR()},r.isUndefined=function(t){return void 0===t},r.dumpCache=function(){this._cache={}},r.getOrPutFromCache=function(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()},r.hashToInt=function(t,e,r){var i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(var n=0;n<t.length;n++)i+=t.charCodeAt(n);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(r)?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e},r.parseGetParam=function(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];var r="",i=[],n=location;if(e&&(n={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),n.search.substr(1).split("&").forEach((function(e){(i=e.split("="))[0]===t&&(r=decodeURIComponent(i[1]))})),!r){var o=decodeURIComponent(n.pathname).split("?")[1];if(!o)return"";o.split("&").forEach((function(e){(i=e.split("="))[0]===t&&(r=decodeURIComponent(i[1]))}))}return this._params[t]=r,r}catch(s){return!1}},r.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},r.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(r){}return e},r.hashCode=function(t){var e,r=0;if(0===t.length)return r;for(e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return r},r.isMobileByProps=function(){var t=this;return this.getOrPutFromCache("isMobileByProps",(function(){var e=t.parseGetParam("deviceType")||n.a.deviceType,r="true"===t.parseGetParam("showMobileView"),i=Object(o.b)();return!!r||(e?String(e).toLowerCase().indexOf("mobile")>=0:i||void 0)}))},r.isUserAgentMobile=function(){try{return this.getOrPutFromCache("isUserAgentMobile",(function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||n.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e}))}catch(t){return!1}},r.isMobile=function(){var t=this;return this.getOrPutFromCache("isMobile",(function(){var e=t.isMobileByProps(),r=t.isUserAgentMobile();return t.isUndefined(e)?r:e}))},r.isTest=function(){try{return n.a.isTest}catch(t){return!1}},r.isLocal=function(){try{var t=n.a.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(e){return!1}},r.isDev=function(){var t=this;return this.getOrPutFromCache("isDev",(function(){return t.shouldDebug("ph_local")||t.isOOI()&&!1||"true"===(t.safeLocalStorage()||{}).forceDevMode}))},r.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},r.isStoreGallery=function(){var t=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return n.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(e){return t.isDev()&&console.error("cant find window",e),!1}}))},r.isSSR=function(){return void 0===t.window},r.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},r.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))},r.isExternalUrl=function(t){return/(^https?)|(^data)|(^blob)/.test(t)},r.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.a.MSStream}catch(t){return!1}}))},r.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!n.a.MSStream}catch(t){return!1}}))},r.isLandscape=function(){var t=this;return this.getOrPutFromCache("isLandscape",(function(){if(!t.isMobile())return!1;try{if(t.isUndefined(n.a.orientation)){var e=n.a.matchMedia("(orientation: landscape)");return!(!e||!0!==e.matches)}return 90===n.a.orientation||-90===n.a.orientation}catch(r){return!1}}))},r.safeLocalStorage=function(){try{return localStorage||n.a}catch(t){return n.a}},r.shouldDebug=function(t){try{return!!this.safeLocalStorage()[t]||(n.a.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(e){return!1}},r.deviceHasMemoryIssues=function(){return this.isiOS()},r.getTabIndex=function(t){var e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1},r.setStateAndLog=function(t,e,r,i){var n=this;if(this.isVerbose()){console.log("State Change Called ("+e+")",r);var o=a({},t.state);t.setState(r,(function(){var r=a({},t.state),s=n.printableObjectsDiff(o,r,"state");Object.keys(s).length>0&&console.log("State Change Completed ("+e+")",s),n.isFunction(i)&&i.bind(t)()}))}else t.setState(r,(function(){n.isFunction(i)&&i.bind(t)()}))},r.printableObjectsDiff=function(t,e,r){var i=this;void 0===r&&(r="");var n=function(t){return""===t?t="''":i.isUndefined(t)&&(t="undefined"),String(t)};return function t(e,r,o,s){return void 0===s&&(s=1),s>3?{}:Object.entries(e).reduce((function(e,a){var l=a[0],c=a[1];return i.isEqual(c,r[l])||(Array.isArray(r[l])?(c.length!==r[l].length&&(e[l+".length"]="["+c.length+"] => ["+r[l].length+"]"),e=Object.assign(e,t(c,r[l],(o?o+".":"")+l,s+1))):"object"==typeof r[l]?e=Object.assign(e,t(c,r[l],(o?o+".":"")+l,s+1)):e[(o?o+".":"")+l]=n(c)+" => "+n(r[l])),e}),{})}(t,e,r,1)},r.getScreenWidth=function(){if(Object(o.d)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(n.a.screen.width,n.a.screen.height):n.a.screen.width}catch(t){return 1920}},r.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(n.a.screen.width,n.a.screen.height):n.a.screen.height}catch(t){return 1200}},r.getWindowWidth=function(){try{return n.a.innerWidth||980}catch(t){return 980}},r.getMobileEnabledClick=function(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}},r.getTopUrlParam=function(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((function(e){var r=e.split("=");return r[0]===t&&r[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]},r.scrollTo=function(t,e,r,i,n){this.isMobile()&&(r=0);var o=i?t.scrollLeft:t.scrollTop,s=e-o,a=0;t.setAttribute("data-scrolling","true"),function e(){var l=function(t,e,r,i){return 0===i?r+e:(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e}(a+=20,o,s,r);a<r?setTimeout(e,20):(t.setAttribute("data-scrolling",""),"function"==typeof n&&n()),i?t.scrollLeft=l:t.scrollTop=l}()},r.formatColor=function(t){var e="inherit";if(!t)return e;var r=t.value?t.value:t,i=/(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6})\b|(?:rgb|hsl)a?\([^\)]*\)/.exec(r);return i&&i[0]?r:e},r.logPlaygroundLink=function(t,e){void 0===e&&(e=!1);try{if(this.isVerbose()){var r=Object.entries(t).filter((function(t){var e=t[0];return"object"!=typeof t[1]&&-1===String(e).indexOf("Expand")&&-1===String(e).indexOf("Color")})).map((function(t){var e=t[0],r=t[1];return e+"="+encodeURI(r)})).join("&");console.log("Gallery Playground link:","https://pro-gallery.surge.sh?useBlueprints="+e+"&"+r)}}catch(i){}},e}();e.a=new c}).call(this,r(29))},263:function(t,e,r){"use strict";e.a={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE",NEVER_SHOW:"NEVER_SHOW"}},267:function(t,e,r){"use strict";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function(){return{}},a=2560,l=1440,c={y:0,x:0,width:a,height:l,innerWidth:a,innerHeight:l,outerWidth:a,outerHeight:l,clientWidth:a,clientHeight:l},h=n(n({},c),{},{getBoundingClientRect:function(){return c}}),u=n({addEventListener:s,removeEventListener:s,createEvent:s,getElementById:function(){return h},getElementsByClassName:function(){return[h]},getElementsByTagName:function(){return[h]},querySelector:function(){return[h]},documentElement:h,activeElement:h,style:c},c);u.body=u;var d=n({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:s,removeEventListener:s,createEvent:s,CustomEvent:s,screen:c,open:s,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:s,requestAnimationFrame:s,dispatchEvent:s,document:u,getComputedStyle:s,localStorage:{},frames:[]},c);d.parent=d;var p=d,m=(new(function(){function t(){this.reset()}var e=t.prototype;return e.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(t){return!1}},e.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?p:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},t}())).window;e.a=m},274:function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return a}));var i=r(237);function n(t){var e,r,n=t.scrollMarginCorrection,o=void 0===n?0:n,s=t.durationInMS,a=t.horizontalElement,l=t.scrollingElement,h=t.isRTL,u=t.oneRow,d=t.galleryWidth,p=t.galleryHeight,m=t.totalWidth,f=t.top,g=t.items,y=t.itemIdx,b=t.fixedScroll,v=h?-1:1;if(u?(r=a.scrollLeft*v,e=r+y*d/2):(r=f,e=f+y*p/2),!0!==b){i.a.isVerbose()&&console.log("Scrolling to items #"+y);var I=g.find((function(t){return t.idx===y}));if(e=u?i.a.get(I,"offset.left"):i.a.get(I,"offset.top"),i.a.isVerbose()&&console.log("Scrolling to position "+e,I),!(e>=0))return i.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(t){return t()}));if(u){var O=(d-I.width)/2;O>0&&(e-=O),e=Math.max(0,e),e=Math.min(e,m-d+o),e*=v,r*=v,i.a.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return u?c(a,Math.round(r),Math.round(e),s,h):new Promise((function(t){l.vertical().scrollTo(0,e),t(e)}))}function o(t){var e,r,n=t.scrollMarginCorrection,o=void 0===n?0:n,s=t.durationInMS,a=t.horizontalElement,l=t.scrollingElement,h=t.isRTL,u=t.oneRow,d=t.galleryWidth,p=t.galleryHeight,m=t.totalWidth,f=t.top,g=t.groups,y=t.groupIdx,b=t.fixedScroll;if(u?(r=a.scrollLeft,e=h?r-y*d/2:r+y*d/2):(r=f,e=f+y*p/2),!0!==b){i.a.isVerbose()&&console.log("Scrolling to groups #"+y);var v=g.find((function(t){return t.idx===y}));if(e=u?i.a.get(v,"left"):i.a.get(v,"top"),v&&h&&(e+=v.width),i.a.isVerbose()&&console.log("Scrolling to position "+e,v),!(e>=0))return i.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(t){return t()}));if(u){var I=(d-v.width)/2;I>0&&(h?e+=I:e-=I),h&&(e=m-e),e=Math.max(0,e),e=Math.min(e,m-d+o),i.a.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return u?c(a,Math.round(r),Math.round(e),s,h):new Promise((function(t){l.vertical().scrollTo(0,e),t(e)}))}function s(t){var e=t.offset,r=t.scroll,i=t.itemStart;return{before:r-e-t.itemEnd,after:e+i-t.screenSize-r}}function a(t){var e=t.target,r=t.scrollBase,i=t.top,n=t.bottom,o=t.screenHeight,a=t.padding,l=s({offset:r||0,scroll:e.scrollY,itemStart:i,itemEnd:n,screenSize:o});return l.before<a&&l.after<a}function l(t){var e=t.target,r=t.left,i=t.right,n=t.screenWidth,o=t.padding,a=s({offset:0,scroll:e.scrollLeft,itemStart:r,itemEnd:i,screenSize:n});return a.before<o&&a.after<o}function c(t,e,r,i,n){var o=r-e,s=t.firstChild;return t.setAttribute("data-scrolling","true"),Object.assign(t.style,{"scroll-snap-type":"none"}),Object.assign(s.style,{transition:"margin "+i+"ms linear","-webkit-transition":"margin "+i+"ms linear"},n?{marginRight:o+"px"}:{marginLeft:-1*o+"px"}),new Promise((function(e){setTimeout((function(){Object.assign(s.style,{transition:"none","-webkit-transition":"none"},n?{marginRight:0}:{marginLeft:0}),t.style.removeProperty("scroll-snap-type"),t.scrollLeft=r,t.setAttribute("data-scrolling",""),e(r)}),i)}))}},293:function(t,e,r){"use strict";e.a={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},294:function(t,e,r){"use strict";e.a={SMART:"smart",PIXELS:"px",RATIO:"ratio"}},295:function(t,e,r){"use strict";e.a={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"}},296:function(t,e,r){"use strict";e.a={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"}},297:function(t,e,r){"use strict";e.a={PICKED_COLOR:"PICKED_COLOR",MAIN_COLOR:"MAIN_COLOR"}},298:function(t,e,r){"use strict";e.a={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"}},299:function(t,e,r){"use strict";e.a={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"}},300:function(t,e,r){"use strict";e.a={SCROLL:"SCROLL",FADE:"FADE"}},301:function(t,e,r){"use strict";e.a={PERCENT:"PERCENT",MANUAL:"MANUAL"}},302:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n}));var i={RESIZED:"resized",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample"},n={HIGH_RES:"img",LOW_RES:"thumb",SEO:"seoLink",VIDEO:"video"}},303:function(t,e,r){"use strict";e.a={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",PRERENDER:"PRERENDER",SEO:"SEO"}},304:function(t,e,r){"use strict";r.d(e,"g",(function(){return o})),r.d(e,"f",(function(){return s})),r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return u}));var i=r(303),n=r(293),o=new(function(){function t(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPrerenderMode=this.isPrerenderMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setFormFactor=this.setFormFactor.bind(this),this.isFormFactorDesktop=this.isFormFactorDesktop.bind(this),this.isFormFactorMobile=this.isFormFactorMobile.bind(this),this.isFormFactorTablet=this.isFormFactorTablet.bind(this),this.isFormFactorTouch=this.isFormFactorTouch.bind(this),this._viewMode=i.a.SITE,this._formFactor=n.a.DESKTOP}var e=t.prototype;return e.setViewMode=function(t){this._viewMode=t},e.setFormFactor=function(t){this._formFactor=t},e.isFormFactorMobile=function(){return this._formFactor===n.a.MOBILE},e.isFormFactorTablet=function(){return this._formFactor===n.a.TABLET},e.isFormFactorDesktop=function(){return this._formFactor===n.a.DESKTOP},e.isFormFactorTouch=function(){return this.isMobile()||this.isTablet()},e.isSiteMode=function(){return this._viewMode===i.a.SITE},e.isEditMode=function(){return this._viewMode===i.a.EDIT},e.isPreviewMode=function(){return this._viewMode===i.a.PREVIEW},e.isPrerenderMode=function(){return this._viewMode===i.a.PRERENDER},e.isSEOMode=function(){return this._viewMode===i.a.SEO},t}()),s=o.isSiteMode,a=o.isEditMode,l=o.isPreviewMode,c=o.isSEOMode,h=o.isFormFactorMobile,u=(o.isFormFactorTablet,o.isFormFactorDesktop,o.isFormFactorTouch,o.isPrerenderMode)},305:function(t,e,r){t.exports=r(414)},412:function(t,e,r){"use strict";r.r(e),r.d(e,"pick",(function(){return n})),r.d(e,"throttle",(function(){return o})),r.d(e,"debounce",(function(){return s})),r.d(e,"get",(function(){return a})),r.d(e,"isFunction",(function(){return l})),r.d(e,"isEqual",(function(){return c})),r.d(e,"isNumber",(function(){return h}));var i=void 0,n=function(t,e){var r={};return Object.entries(t||{}).forEach((function(t){var i=t[0],n=t[1];e.indexOf(i)>=0&&(r[i]=n)})),r},o=function(t,e){var r=!1,n=!1;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];r?n=!0:(n=!1,t.apply(i,s),r=!0,setTimeout((function(){n&&t.apply(i,s),r=!1}),e))}},s=function(t,e){var r;return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];clearTimeout(r),r=setTimeout((function(){t.apply(i,o)}),e)}},a=function(t,e,r){var i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce((function(t,e){return null!=t?t[e]:t}),t);return void 0===i||i===t?r:i},l=function(t){return"function"==typeof t},c=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(r){return!1}},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},413:function(t,e,r){"use strict";var i=function(){function t(){this.styles={},this.container={},this.domId="",this._cache={}}var e=t.prototype;return e.getOrPutInCache=function(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]},e.dumpCache=function(){this._cache={}},e.updateParams=function(t){var e=t.styles,r=t.container,i=t.domId;this.dumpCache(),this.domId=i||this.domId,this.styles=e||this.styles,this.container=r||this.container},e.getGalleryDimensions=function(){var t=this;return this.getOrPutInCache("galleryDimensions",(function(){var e={galleryWidth:Math.ceil(t.getGalleryWidth()),galleryHeight:Math.ceil(t.getGalleryHeight()),scrollBase:t.container.scrollBase?Math.ceil(t.container.scrollBase):0,height:Math.ceil(t.container.height),width:Math.ceil(t.container.width)};if(t.container.externalScrollBase&&(e.scrollBase+=t.container.externalScrollBase),t.styles.hasThumbnails){var r=t.styles.thumbnailSize+t.styles.galleryMargin+3*t.styles.thumbnailSpacings;switch(t.styles.galleryThumbnailsAlignment){case"top":case"bottom":e.galleryHeight-=r;break;case"left":case"right":e.galleryWidth-=r}}else t.styles.isSlideshow&&(e.galleryHeight-=t.styles.slideshowInfoSize);return e}))},e.getGalleryWidth=function(){var t=this;return this.getOrPutInCache("galleryWidth",(function(){var e=Math.floor(t.container.width)+2*t.getDimensionFix();return t.styles.arrowsPosition&&t.styles.oneRow&&(e-=2*(t.styles.arrowsSize+40+t.styles.imageMargin)),e}))},e.getGalleryHeight=function(){var t=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((t.container.height>0?t.container.height:0)+(t.styles.oneRow?t.getDimensionFix():0))}))},e.getDimensionFix=function(){var t=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(t.styles.imageMargin)-Number(t.styles.galleryMargin)}))},e.getGalleryRatio=function(){var t=this;return this.getOrPutInCache("galleryRatio",(function(){var e=t.getGalleryDimensions();return e.galleryWidth/e.galleryHeight}))},t}();e.a=new i},414:function(t,e,r){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),n=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=n&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=r(415),n)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(s){i.regeneratorRuntime=void 0}},415:function(t,e){!function(e){"use strict";var r,i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof t,h=e.regeneratorRuntime;if(h)c&&(t.exports=h);else{(h=e.regeneratorRuntime=c?t.exports:{}).wrap=I;var u="suspendedStart",d="suspendedYield",p="executing",m="completed",f={},g={};g[s]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==i&&n.call(b,s)&&(g=b);var v=P.prototype=w.prototype=Object.create(g);S.prototype=v.constructor=P,P.constructor=S,P[l]=S.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(v),t},h.awrap=function(t){return{__await:t}},E(x.prototype),x.prototype[a]=function(){return this},h.AsyncIterator=x,h.async=function(t,e,r,i){var n=new x(I(t,e,r,i));return h.isGeneratorFunction(e)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},E(v),v[l]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},h.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=r),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;T(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:k(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=r),f}}}function I(t,e,r,i){var n=e&&e.prototype instanceof w?e:w,o=Object.create(n.prototype),s=new j(i||[]);return o._invoke=function(t,e,r){var i=u;return function(n,o){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===n)throw o;return D()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===u)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=O(t,e,r);if("normal"===l.type){if(i=r.done?m:d,l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}(t,r,s),o}function O(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}function w(){}function S(){}function P(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){function e(r,i,o,s){var a=O(t[r],t,i);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}var r;this._invoke=function(t,i){function n(){return new Promise((function(r,n){e(t,i,r,n)}))}return r=r?r.then(n,n):n()}}function C(t,e){var i=t.iterator[e.method];if(i===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,C(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=O(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},440:function(t,e,r){"use strict";r.r(e),r.d(e,"ProGallery",(function(){return xi})),r.d(e,"ProBlueprintsGallery",(function(){return Gi})),r.d(e,"LayoutingProGallery",(function(){return tn})),r.d(e,"LeanGallery",(function(){return li})),r.d(e,"LayoutFixer",(function(){return en})),r.d(e,"createLayoutFixer",(function(){return fn})),r.d(e,"isEligibleForLeanGallery",(function(){return bi})),r.d(e,"notEligibleReasons",(function(){return vi})),r.d(e,"cssScrollHelper",(function(){return Ve})),r.d(e,"addLayoutStyles",(function(){return Br})),r.d(e,"GALLERY_CONSTS",(function(){return o.a})),r.d(e,"addPresetStyles",(function(){return Nt})),r.d(e,"defaultStyles",(function(){return s}));var i=r(140),n=r.n(i),o=r(441),s={isRTL:!1,isVertical:!1,gallerySize:30,minItemSize:120,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",rotatingGroupTypes:"",collageDensity:.8,cubeImages:!1,cubeType:"fill",cubeRatio:1,cropOnlyFill:!1,smartCrop:!1,rotatingCubeRatio:"",gallerySliderImageRatio:16/9,fixedColumns:0,numberOfImagesPerRow:3,numberOfImagesPerCol:1,groupsPerStrip:0,borderRadius:0,boxShadow:0,imageMargin:10,galleryMargin:0,scatter:0,gridStyle:0,mobilePanorama:!1,placeGroupsLtr:!1,viewMode:"preview",oneRow:!1,showArrows:!0,enableInfiniteScroll:!0,thumbnailSpacings:4,galleryThumbnailsAlignment:o.a.thumbnailsAlignment.BOTTOM,enableScroll:!0,hasThumbnails:!1,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,isAutoSlideshow:!1,slideshowLoop:!1,autoSlideshowInterval:4,bottomInfoHeight:0,titlePlacement:o.a.placements.SHOW_ON_HOVER,galleryTextAlign:"center",scrollSnap:!1,itemClick:o.a.itemClick.EXPAND,fullscreen:!0,videoPlay:o.a.videoPlay.HOVER,scrollAnimation:o.a.scrollAnimations.NO_EFFECT,slideAnimation:o.a.slideAnimations.SCROLL,scrollDirection:0,overlayAnimation:o.a.overlayAnimations.NO_EFFECT,arrowsPosition:0,arrowsSize:23,watermarkOpacity:40,watermarkSize:40,useWatermark:!0,watermarkDock:o.a.watermarkDock.RIGHT_DOWN,loadMoreAmount:o.a.loadMoreAmount.ALL,defaultShowInfoExpand:1,allowLinkExpand:!0,expandInfoPosition:0,allowFullscreenExpand:!0,fullscreenLoop:!1,galleryAlignExpand:"left",addToCartBorderWidth:1,addToCartButtonText:"",slideshowInfoSize:200,playButtonForAutoSlideShow:!1,allowSlideshowCounter:!1,hoveringBehaviour:o.a.infoBehaviourOnHover.APPEARS,thumbnailSize:120,magicLayoutSeed:1,imageHoverAnimation:o.a.imageHoverAnimations.NO_EFFECT,imagePlacementAnimation:o.a.imagePlacementAnimations.NO_EFFECT,calculateTextBoxWidthMode:o.a.textBoxWidthCalculationOptions.PERCENT,textBoxHeight:200,textBoxWidth:200,textBoxWidthPercent:50,textImageSpace:10,textBoxBorderRadius:0,textBoxBorderWidth:0,loadMoreButtonText:"",loadMoreButtonBorderWidth:1,loadMoreButtonBorderRadius:0,imageInfoType:o.a.infoType.NO_BACKGROUND,itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,imageLoadingMode:o.a.loadingMode.BLUR,expandAnimation:o.a.expandAnimations.NO_EFFECT,imageQuality:90,usmToggle:!1,usm_a:0,usm_r:0,usm_t:0,videoSound:!1,videoSpeed:"1",videoLoop:!0},a=r(413),l=r(161),c=r(175),h=r(167),u=r(237),d=r(267);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=new(function(){function t(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}var e,r,i;return t.prototype.updateFeatures=function(){var t=this;this.supports=Object.entries(this.features).reduce((function(e,r){var i,n=r[0],o=r[1].releaseDate;return m(m({},e),{},((i={})[n]=t.freezeDate>=o,i))}))},e=t,(r=[{key:"freezeDate",get:function(){return this._dateCreated||new Date},set:function(t){"object"==typeof t&&"function"==typeof t.getTime&&(this._dateCreated=t,this.updateFeatures())}}])&&g(e.prototype,r),i&&g(e,i),t}()),b=r(263),v=r(296),I=r(297),O=r(299),w=r(300),S=r(294),P=r(295),E=r(301),x=function(t,e){return void 0===e&&(e=!1),t.gallerySizeType===S.a.PIXELS&&t.gallerySizePx>0?t.gallerySizePx:t.gallerySizeType===S.a.RATIO&&t.gallerySizeRatio>0?(d.a&&d.a.innerWidth||980)*(t.gallerySizeRatio/100):e||t.gallerySize};var C=function(t,e){var r=t;r.isSlideshowFont=function(t){var e=t.galleryLayout;if(e===l.a.SLIDESHOW)return!0;if(Object(c.h)(t.titlePlacement)){if(4===e||6===e||7===e)return!0;if(1===e&&t.isVertical)return!0;if(2===e&&1!==t.scrollDirection)return!0}return!1}(r),r.oneRow=r.oneRow||r.scrollDirection===h.a.HORIZONTAL;var i=function(t,e){r[t].value=r[t].value.replace(/^font\s*:\s*/,""),r[t].value=r[t].value.replace(/;$/,""),r[t].value.indexOf("underline")>-1||!0===r[t].style.underline?(r[t].value=r[t].value.replace("underline",""),r[e]="underline"):!1===r[t].style.underline&&(r[e]="none")};if(u.a.isMobile()&&(r.isSlideshowFont?(u.a.isUndefined(r.itemFontSlideshow)||i("itemFontSlideshow","textDecorationTitle"),u.a.isUndefined(r.itemDescriptionFontSlideshow)||i("itemDescriptionFontSlideshow","textDecorationDesc")):(u.a.isUndefined(r.itemFont)||i("itemFont","textDecorationTitle"),u.a.isUndefined(r.itemDescriptionFont)||i("itemDescriptionFont","textDecorationDesc"))),r.isVertical&&!(r.groupSize>1)&&!0!==r.oneRow||r.isSlider||r.isColumns||(r.titlePlacement=c.a.SHOW_ON_HOVER),Object(c.e)(r.titlePlacement)||r.hoveringBehaviour===b.a.NEVER_SHOW||(r.hoveringBehaviour=b.a.APPEARS),r.imageLoadingMode===v.a.COLOR&&r.imageLoadingWithColorMode===I.a.MAIN_COLOR&&(r.imageLoadingMode=v.a.MAIN_COLOR),"fit"===r.cubeType&&(r.isGrid||r.hasThumbnails||r.isSlider||r.isSlideshow)&&(r.itemBorderWidth=0,r.itemBorderRadius=0,r.itemEnableShadow=!1),r.itemEnableShadow&&(r.oneRow?r.itemEnableShadow=!1:r.galleryMargin=Math.max(r.galleryMargin,(r.itemShadowSize||0)+(r.itemShadowBlur||0))),r.oneRow?(r.isVertical=!1,r.scrollAnimation=O.a.NO_EFFECT):r.slideshowLoop=!1,(!r.oneRow||r.groupSize>1||!r.cubeImages)&&(r.slideAnimation=w.a.SCROLL),r.imageMargin>0&&(u.a.isMobile()&&(r.imageMargin=Math.min(r.imageMargin,50)),r.imageMargin/=2),r.loadMoreButtonFont&&u.a.isMobile()&&(r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace(/;$/,""),r.loadMoreButtonFont.value.indexOf("underline")>-1?(r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace("underline",""),r.textDecorationLoadMore="underline"):r.textDecorationLoadMore="none"),(r.isGrid&&!r.oneRow||y.supports.fixedColumnsInMasonry&&r.isMasonry&&r.isVertical)&&(r.fixedColumns="1"===String(r.gridStyle)?Number(r.numberOfImagesPerRow):0,r.groupTypes="1",r.groupSize=1,r.collageAmount=0,r.collageDensity=0),!u.a.isUndefined(r.numberOfImagesPerCol)&&r.isGrid&&r.oneRow)switch(r.fixedColumns=0,r.numberOfImagesPerCol){case 1:default:r.groupTypes="1",r.groupSize=1,r.collageAmount=0,r.collageDensity=0;break;case 2:r.groupTypes="2v",r.groupSize=2,r.collageAmount=1,r.collageDensity=1;break;case 3:r.groupTypes="3v",r.groupSize=3,r.collageAmount=1,r.collageDensity=1}return r.forceMobileCustomButton&&(r.targetItemSize=Math.round(405),r.titlePlacement=c.a.SHOW_BELOW,r.galleryLayout=2,r.fixedColumns=1,r.numberOfImagesPerRow=1),r.fixedColumns>0&&u.a.isMobile()&&void 0===r.m_numberOfImagesPerRow&&(r.fixedColumns=1),r.gallerySizeType===S.a.PIXELS&&r.gallerySizePx>0?r.targetItemSize=r.gallerySizePx:r.gallerySizeType===S.a.RATIO&&r.gallerySizeRatio>0&&(r.targetItemSize=(d.a&&d.a.innerWidth||980)*(r.gallerySizeRatio/100)),r.textBoxHeight=function(t,e){if(!function(t,e){return Object(c.h)(t.titlePlacement)&&e}(t,e))return 0;return t.textBoxHeight}(r,e),r.externalInfoHeight=function(t,e){var r=e;e>0&&Object(c.h)(t.titlePlacement)&&t.imageInfoType===P.a.SEPARATED_BACKGROUND&&(r+=t.textImageSpace,r+=2*t.textBoxBorderWidth);return r}(r,r.textBoxHeight),r.externalInfoWidth=function(t,e){if(!function(t,e){var r=t.oneRow,i=t.isVertical,n=t.groupSize,o=t.titlePlacement;return!r&&i&&1===n&&Object(c.d)(o)&&e}(t,e))return 0;var r=t.targetItemSize,i=t.calculateTextBoxWidthMode,n=t.textBoxWidth,o=t.textBoxWidthPercent,s=0;s=i===E.a.PERCENT?Math.min(100,Math.max(0,o))/100:Math.min(r,n);return s}(r,e),"auto"===r.videoPlay&&"nothing"===r.itemClick&&u.a.isiOS()&&(r.videoPlay="onClick"),r};function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k={galleryLayout:l.a.ALTERNATE,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.48,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",gallerySize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,2h,1,2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"",slideshowLoop:!1};function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A={galleryLayout:l.a.BRICKS,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.8,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",slideshowLoop:!1,gallerySize:400,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"0.707,1.414,1.414,0.707"};function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){G(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function G(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H={galleryLayout:l.a.COLLAGE,cubeImages:!1,titlePlacement:c.a.SHOW_ON_HOVER,groupSize:3,hasThumbnails:!1,groupTypes:"1,2h,2v,3t,3b,3l,3r",slideshowLoop:!1,targetItemSize:0,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1},z=function(t){return N(N(N({},t),H),{},{targetItemSize:x(t,Math.round(5*t.gallerySize+500))})};function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var V={galleryLayout:l.a.FULLSIZE,cubeImages:!0,cubeRatio:"100%/100%",cubeType:"fill",oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0};function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q={galleryLayout:l.a.COLUMN,cubeType:"fill",cubeImages:!0,cubeRatio:.35,oneRow:!0,scrollDirection:h.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Strips",fixedColumns:0,enableScroll:!0,isGrid:!1,isColumns:!0,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1},X=function(t){return K(K(K({},t),q),{},{targetItemSize:x(t)})};function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Q={galleryLayout:l.a.GRID,cubeImages:!0,isVertical:!0,groupSize:1,hasThumbnails:!1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Columns",fixedColumns:0,targetItemSize:0,enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isMasonry:!1,isSlideshow:!1,minItemSize:50},tt=function(t){return Z(Z(Z({},t),Q),{},{targetItemSize:x(t,Math.round(8.5*t.gallerySize+150))})};function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nt={galleryLayout:l.a.MAGIC,cubeImages:void 0,cubeRatio:void 0,isVertical:void 0,targetItemSize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,scatter:void 0,galleryMargin:void 0,chooseBestGroup:void 0,smartCrop:void 0,cubeType:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlideshow:void 0,isSlider:void 0,isColumns:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0,slideshowLoop:!1},ot=function(t){!t>0&&(t=999999),t=Math.floor(t);var e=function(e,r,i){var n,o,s=function(t){t=String(t);for(var e=0,r=0;r<t.length;r++)e+=t.charCodeAt(r);return e}(i),a=r-e+1;return n=t,o=s,Math.floor(1e7*(n/o-Math.floor(n/o)))%a+e},r=function(t){return!!e(0,1,t)},i={cubeImages:r("cubeImages"),cubeRatio:e(1,25,"cubeRatio")/5,isVertical:r("isVertical"),targetItemSize:e(300,800,"gallerySize"),collageAmount:e(5,10,"collageAmount")/10,collageDensity:(y.supports.spacingCalculation?e(1,100,"collageDensity"):e(5,10,"collageDensity"))/100,groupTypes:["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(t,e){return r("groupTypes"+e)}))),oneRow:r("oneRow"),imageMargin:e(0,y.supports.spacingCalculation?e(300,800,"gallerySize")/5:5,"imageMargin"),galleryMargin:y.supports.spacingCalculation?0:e(0,5,"imageMargin"),scatter:0,chooseBestGroup:r("chooseBestGroup"),smartCrop:r("smartCrop"),cubeType:"fill",enableScroll:!0,isGrid:!1,isSlideshow:!1,isSlider:!1,isColumns:!1,cropOnlyFill:!1,fixedColumns:0,enableInfiniteScroll:1};return i.oneRow?(i.isVertical=!1,i.scrollDirection=h.a.HORIZONTAL):i.scrollDirection=h.a.VERTICAL,i.galleryType=i.isVertical?"Columns":"Strips",i.groupSize=parseInt(i.groupTypes.slice(-1)[0]),i.groupTypes=i.groupTypes.join(","),i.minItemSize=i.targetItemSize/i.groupSize/2,i};function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?st(Object(r),!0).forEach((function(e){lt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ct={galleryLayout:l.a.MASONRY,cubeImages:!1,scrollDirection:h.a.VERTICAL,groupSize:1,groupTypes:"1",slideshowLoop:!1,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1},ht=function(t){return at(at(at({},t),ct),{},{targetItemSize:x(t,t.isVertical?8*t.gallerySize+200:5*t.gallerySize+200)})};function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mt={galleryLayout:l.a.MIX,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",collageDensity:.48,targetItemSize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,3l,1,3r",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:""};function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bt={galleryLayout:l.a.PANORAMA,cubeImages:!1,scrollDirection:h.a.VERTICAL,isVertical:!0,groupSize:1,groupTypes:"1",galleryType:"Columns",oneRow:!1,fixedColumns:1,enableScroll:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,slideshowLoop:!1},vt=function(t){return gt(gt(gt({},t),bt),{},{targetItemSize:x(t)})};function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach((function(e){wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var St={galleryLayout:l.a.SLIDER,enableInfiniteScroll:!0,cubeImages:!0,oneRow:!0,scrollDirection:h.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!0,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!0};function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){xt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ct={galleryLayout:l.a.SLIDESHOW,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,hoveringBehaviour:b.a.NEVER_SHOW,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",itemBorderWidth:0,itemBorderRadius:0,itemBorderColor:void 0,smartCrop:!1,targetItemSize:550,galleryType:"Strips",fixedColumns:1,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,scatter:0,imageMargin:0},Lt=function(t){return Et(Et(Et({},t),Ct),{},{targetItemSize:x(t)})};function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dt={galleryLayout:l.a.THUMBNAIL,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!0,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0};function Rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _t={galleryLayout:l.a.EMPTY},Nt=function(t){var e=t.galleryType,r=t.galleryType,i=t.galleryLayout;if(void 0!==r&&void 0===i)switch(e){case"1":return z(t);case"2":return tt(t);case"3":case"4":return ht(t);case"5":return vt(t);case"6":return X(t);case"7":return Lt(t);case"0":default:return z(t)}else switch(t.galleryLayout){case l.a.MASONRY:return ht(t);case l.a.GRID:return tt(t);case l.a.THUMBNAIL:return function(t){return jt(jt(jt({},t),Dt),{},{targetItemSize:x(t)})}(t);case l.a.SLIDER:return function(t){return Ot(Ot(Ot({},t),St),{},{targetItemSize:x(t)})}(t);case l.a.SLIDESHOW:return Lt(t);case l.a.PANORAMA:return vt(t);case l.a.COLUMN:return X(t);case l.a.MAGIC:return function(t){return rt(rt(rt({},t),nt),ot(t.magicLayoutSeed))}(t);case l.a.FULLSIZE:return function(t){return F(F(F({},t),V),{},{targetItemSize:x(t)})}(t);case l.a.BRICKS:return function(t){return R(R(R({},t),A),{},{targetItemSize:x(t)})}(t);case l.a.MIX:return function(t){return dt(dt(dt({},t),mt),{},{targetItemSize:x(t)})}(t);case l.a.ALTERNATE:return function(t){return T(T(T({},t),k),{},{targetItemSize:x(t)})}(t);case l.a.EMPTY:return function(t){return Mt(Mt(Mt({},t),_t),{},{targetItemSize:x(t,Math.round(9*t.gallerySize+100))})}(t);case l.a.COLLAGE:default:return z(t)}},Gt={alternate:k,bricks:A,collage:H,fullsize:V,column:q,grid:Q,magic:nt,masonry:ct,mix:mt,panorama:bt,slider:St,slideshow:Ct,thumbnails:Dt,empty:_t},Ht=r(304);function zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ft=new(function(){function t(){this._hash2int={}}var e=t.prototype;return e.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},e.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(r){}return e},e.hashToInt=function(t,e,r){var i=0;if(void 0===t||0===t.length)return i;if(!this._hash2int[t]){for(var n=0;n<t.length;n++)i+=t.charCodeAt(n);this._hash2int[t]=i}return void 0===e||void 0===r?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e},e.insertIfDefined=function(t,e,r){void 0!==r&&(t[e]=r)},e.convertStyleParams=function(t){var e=Object.assign({cubeImages:!1,cubeType:"fill",cubeRatio:1,rotatingCropRatios:"",smartCrop:!1,imageMargin:10,galleryMargin:0,scatter:0,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",rotatingGroupTypes:"",isVertical:!0,minItemSize:120,oneRow:!1,targetItemSize:500,collageDensity:50,fixedColumns:0,columnWidths:""},t);return this.insertIfDefined(e,"cubeImages",e.cropItems),this.insertIfDefined(e,"cubeType",e.cropType),this.insertIfDefined(e,"cubeRatio",e.cropRatio),this.insertIfDefined(e,"rotatingCropRatios",Array.isArray(e.rotatingCropRatios)?e.rotatingCropRatios.join(","):void 0),this.insertIfDefined(e,"smartCrop",e.smartCrop),this.insertIfDefined(e,"imageMargin",e.itemSpacing),this.insertIfDefined(e,"galleryMargin",e.layoutSpacing),this.insertIfDefined(e,"scatter",e.randomSpacings),this.insertIfDefined(e,"chooseBestGroup",e.smartGrouping),this.insertIfDefined(e,"groupSize",e.itemsPerGroup),this.insertIfDefined(e,"groupTypes",Array.isArray(e.allowedGroupTypes)?e.allowedGroupTypes.join(","):void 0),this.insertIfDefined(e,"rotatingGroupTypes",Array.isArray(e.rotatingGroupTypes)?e.rotatingGroupTypes.join(","):void 0),this.insertIfDefined(e,"isVertical",e.isColumnsLayout),this.insertIfDefined(e,"minItemSize",e.minItemSize),this.insertIfDefined(e,"oneRow",e.isVerticalScroll),this.insertIfDefined(e,"targetItemSize",e.rowSize||e.columnSize),this.insertIfDefined(e,"collageDensity",e.collageDensity),this.insertIfDefined(e,"fixedColumns",e.fixedColumns),this.insertIfDefined(e,"columnWidths",Array.isArray(e.columnWidths)?e.columnWidths.join(","):void 0),e},e.convertContainer=function(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(r.galleryWidth=t.width+2*((e.imageMargin||0)-(e.galleryMargin||0)),delete r.width),t.height>=0&&!(t.galleryHeight>=0)&&(r.galleryHeight=t.height+((e.imageMargin||0)-(e.galleryMargin||0)),delete r.height),e.externalInfoHeight>=0&&e.oneRow&&(r.galleryHeight-=e.externalInfoHeight),r},t}());function Wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(r),!0).forEach((function(e){Ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kt(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Yt=function(){function t(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="fill",t.styleParams){var e=t.styleParams;this.cubeType=e.cubeType,this.cubeImages=e.cubeImages,this._cubeRatio=e.cubeRatio,this.rotatingCropRatios=e.rotatingCropRatios,this.smartCrop=e.smartCrop,this.cropOnlyFill=e.cropOnlyFill,this.imageMargin=e.imageMargin,this.galleryMargin=e.galleryMargin,this.scatter=e.scatter,this.smartCrop=e.smartCrop}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}var e,r,i,n=t.prototype;return n.fixMetadataVerticalVideoRatio=function(t){if(t.qualities&&t.qualities[0]){var e=t.qualities,r=e[e.length-1],i=r.height,n=r.width;t.height=i,t.width=n}},n.resize=function(t){var e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t){if(t.width)e=Math.max(1,t.width)/this.width;else if(t.height){e=Math.max(1,t.height)/this.height}}return this.width*=e,this.height*=e,this.resized=!0,this}},n.pinToCorner=function(t,e){var r=this;void 0===e&&(e=!1);var i=t.indexOf("top")>=0,n=t.indexOf("left")>=0;this.style.top=i?0:"auto",this.style.bottom=i?"auto":0,this.style.left=n?0:"auto",this.style.right=n?"auto":0,this.pin=t,this.isPinnedTop=i,this.isPinnedLeft=n,this.pinAfter=e,this.pinAfterType=i?"top":n?"left":"",this.calcPinOffset=function(t,e){if(r.pinAfter){if(r.pin===e){var i=r.imageMargin;return"top"===e?r.pinAfter.height+2*i:"left"===e?r.pinAfter.width+2*i:0}return 0}return 0}},n.setPosition=function(t){this.style.position=t},n.getPosition=function(t){return parseInt(t,10)>=0?t:"auto"},n.calcScatter=function(t){if(this.scatter>0){var e=this.imageMargin,r=this.galleryMargin,i=t.left>0?e:r,n=this.container.galleryWidth-t.right>2*e?e:r,o=t.top>0?e:r,s=this.container.galleryHeight-t.bottom>2*e?e:r;return{x:Ft.hashToInt(this.hash+t.right+"x",-1*i,n)*(this.scatter/100),y:Ft.hashToInt(this.hash+t.top+"y",-1*o,s)*(this.scatter/100)}}return{x:0,y:0}},e=t,(r=[{key:"top",get:function(){return this.getPosition(this.style.top)}},{key:"left",get:function(){return this.getPosition(this.style.left)}},{key:"right",get:function(){return this.getPosition(this.style.right)}},{key:"bottom",get:function(){return this.getPosition(this.style.bottom)}},{key:"group",set:function(t){Object.assign(this._group,t)},get:function(){return this._group}},{key:"groupOffset",set:function(t){Object.assign(this._groupOffset,t)}},{key:"offset",get:function(){var t={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0},e=this.calcScatter(t),r=e.x,i=e.y;return t.left+=r,t.top+=i,t.right=t.left+this.width,t.bottom=t.top+this.height,t}},{key:"id",get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(t){this.dto.itemId=this.dto.photoId=this.dto.id=t}},{key:"hash",get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id}},{key:"maxWidth",get:function(){return this.dto.width||this.dto.w},set:function(t){this.dto.width=t}},{key:"outerWidth",get:function(){return this.width+2*this.margins}},{key:"infoWidth",get:function(){return this.Group?this.Group.infoWidth:0}},{key:"orgWidth",get:function(){return this.style.width||this.dto.width||this.dto.w||1}},{key:"width",get:function(){var t;return t=this.cubeImages&&this.ratio>=this.cubeRatio?this.style.cubedWidth||this.orgHeight*this.cubeRatio:this.orgWidth,Math.max(t,1)},set:function(t){this.style.cubedWidth=this.style.width=Math.max(1,t)}},{key:"outerHeight",get:function(){return this.height+2*this.margins}},{key:"orgHeight",get:function(){return this.style.height||this.dto.height||this.dto.h||1}},{key:"height",get:function(){var t;return t=this.cubeImages&&this.ratio<this.cubeRatio?this.style.cubedHeight||this.orgWidth/this.cubeRatio:this.orgHeight,Math.max(t,1)},set:function(t){this.style.cubedHeight=this.style.height=Math.max(1,t)}},{key:"maxHeight",get:function(){return this.dto.height||this.dto.h},set:function(t){this.dto.height}},{key:"infoHeight",get:function(){return this.Group?this.Group.infoHeight:0}},{key:"margins",get:function(){return this.imageMargin||0},set:function(t){this.imageMargin=t}},{key:"cubeRatio",get:function(){var t,e=this;if(this.rotatingCropRatio)t=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var r=String(this.rotatingCropRatios).split(",");t=this.rotatingCropRatio=r[this.idx%r.length]}if(t||"function"!=typeof this._cubeRatio||(t=this._cubeRatio()),!t&&this.cropOnlyFill&&"fit"===this.cubeType&&(t=this.ratio),t||(t=this._cubeRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){var i=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=i?t.split("/").map((function(t,e){return t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))}})):null}if(this.dynamicCropRatios){var n=this.dynamicCropRatios.map((function(t){if("%"===t.type){var r=e.container[t.dim]+("galleryHeight"===t.dim?e.imageMargin:0);return t.val*r-2*e.imageMargin}return t.val}));t=n[0]/n[1]}}return t=Number(t),!0===this.smartCrop&&(t=this.isPortrait?Math.min(t,1/t):Math.max(t,1/t)),"min"===this.cubeType?t=Math.max(t,this.orgRatio):"max"===this.cubeType&&(t=Math.min(t,this.orgRatio)),t},set:function(t){"number"==typeof this._cubeRatio&&(this._cubeRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)}},{key:"orientation",get:function(){return this.ratio<.999?"portrait":"landscape"}},{key:"isPortrait",get:function(){return"portrait"===this.orientation}},{key:"isLandscape",get:function(){return"landscape"===this.orientation}},{key:"ratio",get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(t){this.orgRatio=t}},{key:"roundedStyle",get:function(){return Vt(Vt({},this.style),{},{width:Math.floor(this.style.width),height:Math.floor(this.style.height)})}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,cropRatio:this.cubeRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}}}])&&Kt(e.prototype,r),i&&Kt(e,i),t}();function qt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Xt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function Jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Zt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Qt={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},te={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},ee={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},re=function(){function t(t){var e=this;if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.targetItemSize=t.targetItemSize,this.items=t.items.map((function(t){return t.Group=e,t})),t.styleParams){var r=t.styleParams;this.oneRow=r.oneRow,this.cubeType=r.cubeType,this.cubeImages=r.cubeImages,this.isVertical=r.isVertical,this.minItemSize=r.minItemSize,this.collageAmount=r.collageAmount,this.collageDensity=r.collageDensity,this.groupTypes=String(r.groupTypes),this.rotatingGroupTypes=String(r.rotatingGroupTypes),this.rotatingCropRatios=String(r.rotatingCropRatios),this.chooseBestGroup=r.chooseBestGroup,this.layoutsVersion=r.layoutsVersion,this.externalInfoHeight=r.externalInfoHeight,this.externalInfoWidth=r.externalInfoWidth,this.imageMargin=r.imageMargin,this.groupSize=r.groupSize}this.visible=!0,this.rendered=!0,this.required=!0;for(var i=this.items.length;!this.isWithinMinItemSize&&i>0;)this.placeItems(i),this.resize(),i--}var e,r,i,n=t.prototype;return n.resize=function(){this.isVertical?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)},n.safeGetItem=function(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];var e=new Yt(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(r),!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.items[this.items.length-1].config));return e.idx=e.config.idx+t-(this.items.length-1),e.type="dummy",this.dummyItems[t]=e,e},n.setCubedHeight=function(t){var e=this.cubeImages&&1===this.groupSize&&["fill","fit"].includes(this.cubeType)&&0===this.rotatingGroupTypes.length&&0===this.rotatingCropRatios.length;this.cubedHeight=e?t:null},n.round=function(){this.isLastGroup&&!this.oneRow?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(var t,e=qt(this.items);!(t=e()).done;){var r=t.value;r.width=Math.round(r.width),r.height=Math.round(r.height),r.group={width:this.width,height:this.height}}var i=2*this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-i,this.safeGetItem(0).height=this.height-i;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-i,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-i,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i;break;case"3t":this.safeGetItem(0).width=this.width-i,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*i,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(2).width=this.width-i;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*i,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(0).height=this.height-i;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(2).height=this.height-i;break;case"3v":this.safeGetItem(0).width=this.width-i,this.safeGetItem(1).width=this.width-i,this.safeGetItem(2).width=this.width-i,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*i;break;case"3h":this.safeGetItem(0).height=this.height-i,this.safeGetItem(1).height=this.height-i,this.safeGetItem(2).height=this.height-i,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*i}},n.getGroupType=function(t){if(this.rotatingGroupTypes){var e=String(this.rotatingGroupTypes).split(",");return e[this.idx%e.length]}var r,i=this.isVertical;if(this.chooseBestGroup){var n=this.items.map((function(t){return t.orientation.slice(0,1)})).join("");r=(i?Qt:te)[n]}else 3!==this.items.length&&3!==t||(r=i?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(r=i?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(r="1");var o=r.length>0?r.split(","):[];if(this.groupTypes){var s=this.groupTypes.split(",");s.length>1?0===(o=o.filter((function(t){return s.indexOf(t)>=0}))).length&&(o=["1"]):o=s}if(this.layoutsVersion>1&&this.collageDensity>=0){var a=this.collageDensity,l=parseInt(o[o.length-1]),c=ee[l],h=c[Math.floor(a*(c.length-1))];0===(o=o.filter((function(t){return h.indexOf(parseInt(t))>=0}))).length&&(o=["1"])}return o[this.calculateRandomSeed(o.length)]||"1"},n.calculateRandomSeed=function(t){var e;return e=this.isVertical?Ft.hashToInt(this.items[0].hash)%t:(this.inStripIdx+this.stripIdx)%t,1===this.layoutsVersion&&this.collageAmount>=0&&(e+=(this.collageAmount-.5)*t),Math.round(Math.min(Math.max(0,e),t-1))},n.placeItems=function(t){this.type=this.getGroupType(t);var e,r=[],i=0,n=0;switch(this.type){default:case"1":(e=this.safeGetItem(0)).pinToCorner("top-left"),r.push(e),i=e.width,n=e.height;break;case"2v":(e=this.safeGetItem(0)).pinToCorner("top-left"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(i/e.width),n+=e.height,r.push(e);break;case"2h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.innerOffset=[0,0],r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(n/e.height),i+=e.width,r.push(e);break;case"3b":(e=this.safeGetItem(0)).pinToCorner("top-left"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.resize(n/e.height),i+=e.width,r.push(e),(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.resize(i/e.width),n+=e.height,r.push(e);break;case"3t":(e=this.safeGetItem(1)).pinToCorner("bottom-left"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(n/e.height),i+=e.width,r.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(i/e.width),n+=e.height,r=[e].concat(r);break;case"3r":(e=this.safeGetItem(0)).pinToCorner("top-left"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(i/e.width),n+=e.height,r.push(e),(e=this.safeGetItem(2)).pinToCorner("top-right"),e.resize(n/e.height),i+=e.width,r.push(e);break;case"3l":(e=this.safeGetItem(1)).pinToCorner("top-right"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(i/e.width),n+=e.height,r.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(n/e.height),i+=e.width,r=[e].concat(r);break;case"3v":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(i/e.width),n+=e.height,r.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(i/e.width),n+=e.height,e.pinToCorner("top",r[0]),r=[r[0],e,r[1]];break;case"3h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),r.push(e),i=e.width,n=e.height,(e=this.safeGetItem(2)).pinToCorner("top-right"),e.setPosition("relative"),e.resize(n/e.height),i+=e.width,r.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(n/e.height),i+=e.width,e.pinToCorner("left",r[0]),r=[r[0],e,r[1]]}this.width=i,this.height=n,this.items=r,this.placed=!0},n.resizeToHeight=function(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()},n.resizeToWidth=function(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()},n.resizeItems=function(){var t=this,e=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;e.forEach((function(r,i){r.resize(t.getItemDimensions(e,i)),r.group={top:t.top,left:t.left,width:t.width,height:t.height},r.groupOffset={bottom:t.top+t.height,right:t.left+t.width}}))},n.getItemDimensions=function(t,e){var r=2*this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-r};case"2h":case"3h":return{height:this.height-r};case"3t":case"3b":return 0===e?{width:this.width-r}:{height:this.height-t[0].height-2*r};case"3r":case"3l":return 0===e?{height:this.height-r}:{width:this.width-t[0].width-2*r}}},n.getHeightByWidth=function(t){var e=1,r=1,i=2*this.imageMargin,n=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":r=1-(e=1/n[0]);break;case"2h":r=1-2*(e=1/(n[0]+n[1]));break;case"2v":r=2-(e=1/n[0]+1/n[1]);break;case"3h":r=1-3*(e=1/(n[0]+n[1]+n[2]));break;case"3v":r=3-(e=1/n[0]+1/n[1]+1/n[2]);break;case"3t":e=1/(n[2]+n[1])+1/n[0],r=2-2/(n[2]+n[1])+1/n[0];break;case"3b":e=1/(n[0]+n[1])+1/n[2],r=2-2/(n[0]+n[1])+1/n[2];break;case"3l":r=2-(e=(n[1]+n[2])/(n[0]*n[1]+n[1]*n[2]+n[0]*n[2]))*(2+n[0]);break;case"3r":r=2-(e=(n[0]+n[1])/(n[0]*n[1]+n[1]*n[2]+n[0]*n[2]))*(2+n[2])}return t*e+i*r},n.getWidthByHeight=function(t){var e=1,r=1,i=2*this.imageMargin,n=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":r=1-(e=n[0]);break;case"2h":r=2-(e=n[0]+n[1]);break;case"2v":r=1-2*(e=1/(1/n[0]+1/n[1]));break;case"3h":r=3-(e=n[0]+n[1]+n[2]);break;case"3v":r=1-3*(e=1/(1/n[0]+1/n[1]+1/n[2]));break;case"3t":e=1/(1/(n[2]+n[1])+1/n[0]),r=(2/(n[2]+n[1])+1/n[0]-2)*e;break;case"3b":e=1/(1/(n[0]+n[1])+1/n[2]),r=(2/(n[0]+n[1])+1/n[2]-2)*e;break;case"3l":e=(n[0]*n[1]+n[1]*n[2]+n[0]*n[2])/(n[1]+n[2]),r=2+n[0]-2*e;break;case"3r":e=(n[0]*n[1]+n[1]*n[2]+n[0]*n[2])/(n[0]+n[1]),r=2+n[2]-2*e}return t*e+i*r},n.setTop=function(t){this.top=t||0;for(var e,r=qt(this.items);!(e=r()).done;){e.value.groupOffset={top:t,bottom:t+this.height}}},n.setLeft=function(t){this.left=t||0;for(var e,r=qt(this.items);!(e=r()).done;){e.value.groupOffset={left:t,right:t+this.width}}},e=t,(r=[{key:"id",get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id}},{key:"ratio",get:function(){return this.width/this.height}},{key:"height",get:function(){return this.cubedHeight||this._height},set:function(t){this._height=t}},{key:"totalHeight",get:function(){return this.height+this.infoHeight}},{key:"infoHeight",get:function(){return this.externalInfoHeight||0}},{key:"infoWidth",get:function(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"items",set:function(t){this._items=t},get:function(){return this._items}},{key:"realItems",get:function(){return this._items.filter((function(t){return"dummy"!==t.type}))}},{key:"isWithinMinItemSize",get:function(){var t=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(e,r){var i=Math.min(r.width,r.height)>=t.minItemSize;return e&&i}),!0))}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(t){return t.scheme})),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}}}])&&$t(e.prototype,r),i&&$t(e,i),t}();function ie(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ne(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function oe(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var se=function(){function t(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.oneRow=t.oneRow,this.targetItemSize=t.targetItemSize,this.container=t.container}var e,r,i,n=t.prototype;return n.addGroup=function(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,t.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},n.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},n.canRemainIncomplete=function(){return 1.5*this.targetItemSize<this.height},n.setWidth=function(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)},n.resizeToHeight=function(t){this.height=t;for(var e,r=0,i=0,n=ie(this.groups);!(e=n()).done;){var o=e.value;o.setLeft(r),o.width+=i,o.resizeToHeight(t),i=o.width,o.round(),i-=o.width,r+=o.width}},n.isFull=function(t,e){if(!this.hasGroups)return!1;var r=this.groupsPerStrip,i=this.oneRow,n=this.targetItemSize;if(r>0)return this.groups.length>=r;var o,s=this.container.galleryWidth;if(i)o=!1;else{var a=s/(this.ratio+t.ratio)-n,l=s/this.ratio-n;(o=!isNaN(a)&&!isNaN(l)&&(l<0||a<0&&Math.abs(l)<Math.abs(a)))&&e&&(o=Number(Math.abs(l))<Math.abs(a))}return o},e=t,(r=[{key:"hasGroups",get:function(){return this.groups.length>0}},{key:"lastGroup",get:function(){return this.groups[this.groups.length-1]}},{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}}}])&&oe(e.prototype,r),i&&oe(e,i),t}();function ae(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var le=function(){function t(t,e,r,i,n){this.idx=t,this.groups=[],this.height=0,this.width=e,this.left=r,this.cubedHeight=i,this.infoWidth=n||0}var e,r,i,n=t.prototype;return n.addGroup=function(t){this.addGroups([t])},n.addGroups=function(t){var e=this;this.groups=this.groups.concat(t),t.forEach((function(t){t.columnIdx=e.idx,t.Column=e}))},e=t,(r=[{key:"totalWidth",get:function(){return this.width+this.infoWidth}},{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height}}}])&&ae(e.prototype,r),i&&ae(e,i),t}();function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function he(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ue(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var de=new(function(){function t(){}var e,r,i;return e=t,(r=[{key:"layout",set:function(t){this._layout=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach((function(e){he(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t)},get:function(){return this._layout}}])&&ue(e.prototype,r),i&&ue(e,i),t}());function pe(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return me(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function fe(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ge=function(){function t(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}var e,r,i,n=t.prototype;return n.updateParams=function(t){this.srcItems=t.items,this.styleParams=Ft.convertStyleParams(t.styleParams),this.container=Ft.convertContainer(t.container,this.styleParams);var e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.useLayoutStore=!!e.useLayoutStore},n.verifyGalleryState=function(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")},n.calcNumberOfColumns=function(t,e){var r=1;if(this.styleParams.isVertical)if(this.styleParams.fixedColumns>0)r=this.styleParams.fixedColumns;else if(this.styleParams.columnWidths)r=this.styleParams.columnWidths.split(",").length;else{var i=t/e,n=[Math.floor,Math.ceil],o=n.map((function(t){return t(i)})).map((function(e){return Math.round(t/e)})).map((function(t){return Math.abs(e-t)}));r=(0,n[o.indexOf(Math.min.apply(Math,o))])(i)||1}else r=1;return r},n.findShortestColumn=function(t,e){var r=t[0];if(this.styleParams.placeGroupsLtr)r=t[e%t.length];else for(var i,n=-1,o=pe(t);!(i=o()).done;){var s=i.value,a=s.height;(a<n||n<0)&&(n=a,r=s)}return r},n.saveExistingLayout=function(){this.useLayoutStore&&(de.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})},n.prepareLayoutParams=function(){var t=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,de.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(e){var r=t.columns[e.columnIdx];r&&(r.height-=e.totalHeight,r.groups.splice(-1,1)),t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--}))}else{if(this.styleParams.oneRow){this.groups.slice(-1).forEach((function(e){var r=t.columns[0];r&&r.groups.splice(-1,1);var i=t.strips[0];i&&(i.setWidth(i.width-e.width),i.ratio=i.width/i.height,i.groups.splice(-1,1),t.strip=i),t.strips=[],t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})),this.galleryHeight=0}else{var e=this.strips.slice(-2);e&&(e.forEach((function(e){e&&(t.strips.splice(-1,1),e.groups.forEach((function(e){t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(t,e){return t+e.height}),0),this.strip=new se({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{var r;if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else r="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(r)+Math.ceil(2*(this.styleParams.imageMargin-this.styleParams.galleryMargin));this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new se({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;var i,n=this.styleParams,o=n.columnWidths,s=n.cubeRatio,a=n.externalInfoWidth,l=n.imageMargin,c=!!(o&&o.length>0)&&o.split(","),h=0,u=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map((function(e,r){var n=c?c[r]:Math.round(u/(t.numOfCols-r)),o=h;h+=n,u-=n;var d=Math.round(a>1?a:a*n)||0;return n-=d,i=i||(t.targetItemSize-d-2*l)/s+2*l,new le(r,n,o,i,d)})),this.maxLoops=10*this.srcItems.length}},n.createLayout=function(t){for(void 0!==t&&this.updateParams(t),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new Yt({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new re({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var e=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(e.cubedHeight),this.group.resizeToWidth(e.width),this.group.round(),this.group.setTop(e.height),this.group.setLeft(e.left),e.addGroup(this.group),e.height+=this.group.totalHeight,this.galleryHeight<e.height&&(this.galleryHeight=e.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new se({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(this.styleParams.oneRow?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin-this.styleParams.galleryMargin):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var r=this.container.galleryHeight/this.galleryHeight;this.items.map((function(t){return t.cubeImages=!0,t.cubeRatio=t.ratio=t.width/(t.height*r),t.height*=r,t})),this.groups.map((function(t){return t.height*=r,t.setTop(t.top*r),t.resizeItems(),t}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin-this.styleParams.galleryMargin),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme},n.lastVisibleItemIdxInHeight=function(t){for(var e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1},n.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},n.findNeighborItem=function(t,e){var r,i=this,n=this.layoutItems[t],o=function(t,e,r){var n,o,s,a=null,l={};return i.layoutItems.forEach((function(i){n=i.offset.top+i.height/2,o=i.offset.left+i.width/2,s=Math.sqrt(Math.pow(n-e,2)+Math.pow(o-t,2)),(null===a||s>0&&s<a)&&r(t,e,o,n)&&(a=s,l=i)})),l};switch(e){case"up":r=o(n.offset.left+n.width/2,n.offset.top,(function(t,e,r,i){return i<e}));break;case"left":r=o(n.offset.left,n.offset.top+n.height/2,(function(t,e,r){return r<t}));break;case"down":r=o(n.offset.left+n.width/2,n.offset.bottom,(function(t,e,r,i){return i>e}));break;default:case"right":r=o(n.offset.right,n.offset.top+n.height/2,(function(t,e,r){return r>t}))}return r.idx>=0?r.idx:(console.warn("Could not find offset for itemIdx",t,e),t)},n.getMaxGroupSize=function(){var t=1;try{var e="string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes;t=e.length>0?e.reduce((function(t,e){return Math.max(t,parseInt(e))}),1):Number(e),t=Math.min(t,this.styleParams.groupSize)}catch(r){console.error("couldn't calculate max group size - returing 3 (?)",r),t=3}return t},e=t,(r=[{key:"isLastImage",get:function(){return!this.srcItems[this.pointer+1]}},{key:"isLastImages",get:function(){return this.styleParams.layoutsVersion>1?!this.srcItems[this.pointer+1]:!this.srcItems[this.pointer+3]}},{key:"imagesLeft",get:function(){return this.srcItems.length-this.pointer-1}},{key:"items",get:function(){return this.layoutItems}},{key:"scheme",get:function(){return{items:this.items.map((function(t){return t.scheme})),groups:this.groups.map((function(t){return t.scheme})),strips:this.strips.map((function(t){return t.scheme})),columns:this.columns.map((function(t){return t.scheme})),height:this.height,width:this.width}}}])&&fe(e.prototype,r),i&&fe(e,i),t}(),ye=r(298),be=r(302);function ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ie(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(r),!0).forEach((function(e){Oe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Se=function(){function t(t){this.uniqueId=u.a.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.update(t)}var e,r,i,n=t.prototype;return n.update=function(t){if(this.resizeMediaUrl=t.resizeMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,u.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Ie({},t.dto),t.scheme)this.processScheme(t.scheme);else{var e={};Object.assign(e,this.dto,this.metadata),this.processScheme(new Yt({dto:e}).scheme)}if(this.dto){var r=this.dto.metaData||this.dto.metadata;r&&(this.dto.metaData=u.a.parseStringObject(r))}this.sharpParams=Ie({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=t.thumbnailSize||120,this.resetUrls(),this.updateSharpParams()},n.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.infoWidth=t.infoWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.infoHeight=t.infoHeight,this.margins=t.margins,this.ratio=t.ratio,this.cubeRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||ye.a.FILL,this.offset=t.offset,this.group=t.group,this.orientation=t.orientation,this.visibility=t.visibility},n.renderProps=function(t){return Ie({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,url:this.url,alt:this.alt,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cubeRatio:this.cubeRatio,offset:this.offset,style:Ie({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},t)},n.getDataForShop=function(){var t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.resizedUrl(ye.a.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}},n.getHighestMp4Resolution=function(t){var e=t.filter((function(t){return"mp4"===t.formats[0]})).sort((function(t,e){return e.width-t.width}))[0];return{width:e.width,height:e.height}},n.resizedUrl=function(t,e,r,i){var n=this,o=function(t,e){var r;if("function"==typeof n.resizeMediaUrl)try{for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];var a=String(u.a.hashCode(JSON.stringify(Ie({url:e},o))));n._cachedUrls[a]||(n._cachedUrls[a]=String(n.resizeMediaUrl.apply(n,[t,e].concat(o))||"")),r=n._cachedUrls[a]}catch(l){r=String(e)}else r=String(e);return r};e=Math.ceil(e),r=Math.ceil(r);var s=t===ye.a.FILL&&this.isCropped&&this.focalPoint,a={},l=this.url;return this.isText?Object.assign.apply(Object,[{}].concat(Object.values(be.b).map((function(t){var e;return(e={})[t]=function(){return""},e})))):((this.isVideo||this.isVideoPlaceholder)&&(l=this.poster,u.a.isExternalUrl(this.url)?a[be.b.VIDEO]=function(){return n.url}:a[be.b.VIDEO]=function(){return o(n,n.url,ye.a.VIDEO,e,r)}),a[be.b.HIGH_RES]=function(){return o(n,l,t,e,r,i,s)},a[be.b.LOW_RES]=function(){return o(n,l,t,250,250*r/e,Ie(Ie({},i),{},{quality:30,blur:30}),s)},a[be.b.SEO]=function(){return a[be.b.HIGH_RES]().replace(/\.webp$/i,"."+n.fileType)},a)},n.resetUrls=function(){var t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},n.createUrl=function(t,e){try{return this[t+"_url"][e]()}catch(r){return""}},n.createDownloadUrl=function(t){var e=this;return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){var t=e.urls.download_url._img();return t+(t.includes("?")?"&":"?")+"dn="+e.fileName}),this.urls.download_url},n.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}},n.updateId=function(t){this.dto.itemId=this.id=t},n.updateOrderIndex=function(t){var e=this.orderIndex!==t;return this.orderIndex=t,e},e=t,(r=[{key:"resized_url",get:function(){return this.urls.resized_url||(this.urls.resized_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url}},{key:"pixel_url",get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.resizedUrl(ye.a.FILL,1,1,{quality:5})),this.urls.pixel_url}},{key:"thumbnail_url",get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.resizedUrl(ye.a.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url}},{key:"square_url",get:function(){return this.urls.square_url||(this.urls.square_url=this.resizedUrl(ye.a.FILL,100,100,{quality:80})),this.urls.square_url}},{key:"full_url",get:function(){return this.urls.full_url||(this.urls.full_url=this.resizedUrl(ye.a.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url}},{key:"sample_url",get:function(){return this.urls.sample_url||(this.urls.sample_url=this.resizedUrl(ye.a.FIT,500,500,this.sharpParams)),this.urls.sample_url}},{key:"preload_url",get:function(){return this.urls.preload_url||(this.urls.preload_url=this.resized_url),this.urls.preload_url}},{key:"download_url",get:function(){return this.createDownloadUrl(this.full_url)}},{key:"download_sample_url",get:function(){return this.createDownloadUrl(this.sample_url)}},{key:"itemId",get:function(){return this.id}},{key:"metadata",get:function(){var t=this.dto.metaData||this.dto.metadata;return u.a.isUndefined(t)&&(t={}),t}},{key:"metaData",get:function(){return this.metadata}},{key:"bgColor",get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"}},{key:"isCropped",get:function(){return this.cubeImages&&this.cubeType===ye.a.FILL}},{key:"focalPoint",get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(t){this.metadata.focalPoint=t}},{key:"photoId",get:function(){return this.id}},{key:"key",get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key}},{key:"orderIndex",get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(t){this.dto.orderIndex=t}},{key:"url",get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src}},{key:"fileType",get:function(){return this.url.split(".").pop()}},{key:"mediaUrl",get:function(){return this.url}},{key:"html",get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text}},{key:"lastModified",get:function(){return this.metadata.lastModified}},{key:"seed",get:function(){return u.a.hashToInt(this.url)}},{key:"isImage",get:function(){return"image"===this.type}},{key:"isImportant",get:function(){return!!this.dto.i}},{key:"videoUrl",get:function(){return this.metadata.videoUrl}},{key:"poster",get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster.url||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1].url:null)}},{key:"qualities",get:function(){return this.metadata.qualities}},{key:"isExternalVideo",get:function(){return this.metadata.isExternal}},{key:"isExternal",get:function(){return!0===this.metadata.isExternal}},{key:"type",set:function(t){this._type=t},get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}}},{key:"isVideoPlaceholder",get:function(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)}},{key:"alt",get:function(){return this.metadata.alt||this.title||this.description}},{key:"title",get:function(){return this.metadata.title||""},set:function(t){this.metadata.title=t}},{key:"fileName",get:function(){return this.metadata.fileName||"file"},set:function(t){this.metadata.fileName=t}},{key:"description",get:function(){return this.metadata.description||""},set:function(t){this.metadata.description=t}},{key:"exif",get:function(){return this.metadata.exif||""}},{key:"hasLink",get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}}},{key:"link",get:function(){return this.metadata.link||{}}},{key:"linkData",get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t}},{key:"linkType",get:function(){return this.metadata.link&&!u.a.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"defaultLinkText",get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return"Go to Page "+t.pageName;case"AnchorLink":return"Scroll to "+t.anchorName;case"ExternalLink":return""+t.url;case"EmailLink":return"Email "+t.recipient;case"PhoneLink":return"Call "+t.phoneNumber;case"DocumentLink":return"Open "+t.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"defaultLinkValue",get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?"PAGE - "+t.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+t.anchorName;case"ExternalLink":return"LINK - "+t.url;case"EmailLink":return"EMAIL - "+t.recipient;case"PhoneLink":return"PHONE - "+t.phoneNumber;case"DocumentLink":return"DOCUMENT - "+t.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"linkText",get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t}},{key:"linkTitle",get:function(){return this.metadata.link&&this.metadata.link.title},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t}},{key:"linkUrl",get:function(){return this.metadata.link&&this.metadata.link.url},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t}},{key:"isWixUrl",get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")}},{key:"linkTitleFromUrl",get:function(){var t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]}},{key:"unprotectedLinkOpenType",get:function(){return u.a.get(this,"metadata.link.target")}},{key:"linkOpenType",get:function(){return this.metadata.link&&!u.a.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!u.a.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t}},{key:"initialLinkObject",get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"isDemo",get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(t){this.metadata.isDemo=t}},{key:"isText",get:function(){return"text"===this.type}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isVisible",get:function(){return!0}},{key:"isRendered",get:function(){return!0}},{key:"isDimensionless",get:function(){return!(this.maxWidth>1||this.maxHeight>1)}},{key:"isTransparent",get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)}},{key:"directLink",get:function(){return this.dto.directLink||""}},{key:"directShareLink",get:function(){return this.dto.directShareLink||""}}])&&we(e.prototype,r),i&&we(e,i),t}();function Pe(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ee=function(){function t(t){this.uniqueId=u.a.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,u.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new re({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}var e,r,i,n=t.prototype;return n.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required},n.renderProps=function(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}},e=t,(r=[{key:"key",get:function(){return"group_"+this.id}}])&&Pe(e.prototype,r),i&&Pe(e,i),t}();function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Le(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Te=function(){function t(){}return t.convertDtoToLayoutItem=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData,r="object"==typeof e?e:u.a.parseStringObject(e)||{};return Ce({id:t.itemId||t.photoId,width:r.width,height:r.height},t)},t.convertToGalleryItems=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=[]),t.galleryItems=[];for(var i=0;i<t.columns.length;i++){var n=t.columns[i];n.galleryGroups=[];for(var o=n.groups||n,s=0;s<o.length;s++){for(var a=o[s],l=[],c=0;c<a.items.length;c++){var h=a.items[c],u=Ce({scheme:h,dto:h.dto},e),d=r[h.idx],p=void 0;d&&d.id&&d.id===h.id?(p=d).update(u):p=new Se(u),l[c]=p,t.galleryItems[h.idx]=l[c]}n.galleryGroups[s]=new Ee({scheme:a,dto:a.dto,items:l})}}return t},t.convertExistingStructureToGalleryItems=function(t,e,r){void 0===r&&(r={}),u.a.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);var i=t.columns.slice(-1)[0].galleryGroups.pop();i&&t.galleryItems.splice(-i.items.length);for(var n=0;n<e.columns.length;n++){var o=e.columns[n],s=t.columns[n]||o;s.galleryGroups||(s.galleryGroups=[]);for(var a=o.groups||o,l=0;l<a.length;l++){for(var c=a[l],h=[],d=0;d<c.items.length;d++){var p=c.items[d];t.galleryItems[p.idx]?t.galleryItems[p.idx].processScheme(p):(h[d]=new Se(Object.assign({scheme:p,dto:p.dto},r)),t.galleryItems[p.idx]=h[d])}s.galleryGroups[l]?s.galleryGroups[l].processScheme(c):s.galleryGroups[l]=new Ee({scheme:c,dto:c.dto,items:h})}o.galleryGroups=s.galleryGroups}return e.galleryItems=t.galleryItems,u.a.isVerbose()&&console.timeEnd("convertToGalleryItems"),e},t}(),je=r(170);var ke=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.render=function(){if("true"!==u.a.getTopUrlParam("pgdebug"))return!1;var t=n.a.createElement("div",{className:"version-header "},"Pro Gallery Version #",d.a.staticsVersion),e="";try{e=" psw"+d.a.top.screen.width+" piw"+d.a.top.innerWidth+" pbw"+d.a.top.document.body.clientWidth}catch(i){}var r=n.a.createElement("div",{className:"version-header "},u.a.isLandscape()?"land":"port"," sw",d.a.screen.width,"sh",d.a.screen.height," iw",d.a.innerWidth," bw",d.a.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,e,"www",this.props.maxGalleryWidth);return n.a.createElement("div",null,t,r)},i}(je.a);function De(){return(De=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function Re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(r),!0).forEach((function(e){Ae(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ne=function(t){var e,r;function i(e){var r;return(r=t.call(this,e)||this).getImageContainer=r.getImageContainer.bind(_e(r)),r.getImageContainerClassNames=r.getImageContainerClassNames.bind(_e(r)),r.getImageElement=r.getImageElement.bind(_e(r)),r.state={isHighResImageLoaded:!1},r.removeLowResImageTimeoutId=void 0,r.handleHighResImageLoad=r.handleHighResImageLoad.bind(_e(r)),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(t){console.error(t)}},s.handleHighResImageLoad=function(t){var e=this,r=t.target;this.removeLowResImageTimeoutId=setTimeout((function(){e.setState({isHighResImageLoaded:!0}),e.removeLowResImageTimeoutId=void 0}),1e3);try{r.style.opacity="1",this.props.actions.setItemLoaded()}catch(i){console.error("Failed to load high res image",i)}},s.componentWillUnmount=function(){void 0!==this.removeLowResImageTimeoutId&&clearTimeout(this.removeLowResImageTimeoutId)},s.getImageContainerClassNames=function(){var t=this.props.styleParams;return["gallery-item-content","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",t.cubeImages&&"fit"===t.cubeType?"grid-fit":"",t.imageLoadingMode===o.a.loadingMode.COLOR?"load-with-color":""].join(" ")},s.getImageContainer=function(t,e,r){var i=this.props,o=i.imageDimensions,s=i.id,a=i.actions;return n.a.createElement("div",{className:e,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,key:"image_container-"+s,"data-hook":"image-item",style:o.borderRadius?{borderRadius:o.borderRadius}:{}},t(),r)},s.getImageElement=function(){var t=this,e=this.props,r=e.alt,i=e.imageDimensions,s=e.createUrl,a=e.id,l=e.settings,c=e.styleParams,h=this.state.isHighResImageLoaded,d=l&&l.imageProps&&"function"==typeof l.imageProps?l.imageProps(a):{},p=i||{},m=(p.marginLeft,p.marginTop,function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(p,["marginLeft","marginTop"]));return function(){var e=[],i=u.a.isMobile()&&!t.props.styleParams.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{};if(!h){var l=null,p=Me({className:"gallery-item-visible gallery-item gallery-item-preloaded",key:"gallery-item-image-img-preload","data-hook":"gallery-item-image-img-preload",loading:"eager"},d),f=Object(Ht.c)()?{width:"100%",height:"100%"}:{};switch(c.imageLoadingMode){case o.a.loadingMode.BLUR:var g=Me(Me({},m),{},{backgroundSize:"0.3px",backgroundRepeat:"repeat"});l=n.a.createElement("img",De({alt:"",key:"image_preload_blur-"+a,src:s(o.a.urlSizes.RESIZED,Object(Ht.e)()?o.a.urlTypes.SEO:o.a.urlTypes.LOW_RES),style:Me(Me(Me({},g),f),i)},p));break;case o.a.loadingMode.MAIN_COLOR:l=n.a.createElement("img",De({alt:"",key:"image_preload_main_color-"+a,src:s(o.a.urlSizes.PIXEL,Object(Ht.e)()?o.a.urlTypes.SEO:o.a.urlTypes.LOW_RES),style:Me(Me(Me({},m),f),i)},p))}e.push(l)}if(!Object(Ht.c)()&&!u.a.isSSR()){var y=n.a.createElement("img",De({key:"image_highres-"+a,className:"gallery-item-visible gallery-item gallery-item-preloaded "+(Object(Ht.e)()?"":"gallery-item-hidden"),"data-hook":"gallery-item-image-img",alt:r||"untitled image",src:s(o.a.urlSizes.RESIZED,Object(Ht.e)()?o.a.urlTypes.SEO:o.a.urlTypes.HIGH_RES),loading:"lazy",onLoad:t.handleHighResImageLoad,style:Me(Me(Me({},m),t.state.isHighResImageLoaded&&{opacity:1}),i)},d));e.push(y)}return e}},s.render=function(){var t=this.getImageElement(),e=this.getImageContainerClassNames();return this.getImageContainer(t,e)},i}(je.a);function Ge(){return(Ge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function He(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?He(Object(r),!0).forEach((function(e){Be(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Be(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fe=function(t){var e,r;function i(e){var r;return"function"==typeof(r=t.call(this,e)||this).props.actions.setItemLoaded&&r.props.actions.setItemLoaded(),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.getTextDimensions=function(){var t=this.props,e=t.style,r=t.styleParams,i=t.cubeRatio,n=e.ratio<i-.01,o=(n?e.height/e.maxHeight:e.width/e.maxWidth)*e.maxHeight,s="fit"===r.cubeType?0:(e.height-o)/2,a="translate(0, 0) scale("+(n?e.height/e.maxHeight:e.width/e.maxWidth)+")";return{marginTop:s,width:e.maxWidth+"px",height:e.maxHeight+"px",transformOrigin:"0 0",WebkitTransform:a,MsTransform:a,OTransform:a,transform:a}},o.processInnerhtml=function(t){try{return t.replace(/class="font_\d+"/gm,"")}catch(e){return t}},o.render=function(){var t=this.props,e=t.id,r=t.styleParams,i=t.html,o=t.style,s=t.actions,a=t.imageDimensions,l=this.processInnerhtml(i),c=this.getTextDimensions(),h={dangerouslySetInnerHTML:{__html:l}},u={style:Object.assign(c,"fit"===r.cubeType?{backgroundColor:o.bgColor}:{})},d=ze(ze({},h),u),p={height:a?a.height:"inherit",backgroundColor:"fit"!==r.cubeType?o.bgColor:"inherit"};return a&&a.borderRadius&&(p.borderRadius=a.borderRadius),n.a.createElement("div",{className:"gallery-item-content",style:p},n.a.createElement("div",Ge({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+e,onTouchStart:s.handleItemMouseDown,onTouchEnd:s.handleItemMouseUp,"data-hook":"text-item"},d)))},i}(je.a);var We=function(t){var e,r;function i(){return t.apply(this,arguments)||this}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.getHoverClass=function(){var t=this.props,e=t.styleParams,r=t.forceShowHover,i=["gallery-item-hover"];return i.push("fullscreen-"+(e.fullscreen?"enabled":"disabled")),u.a.isUndefined(e.itemOpacity)&&i.push("default"),r?i.push("force-hover"):u.a.isMobile()&&i.push("hide-hover"),i.join(" ")},s.shouldRenderHoverInnerIfExist=function(){var t=this.props,e=t.itemWasHovered,r=t.styleParams,i=r.hoveringBehaviour,n=r.overlayAnimation,s=r.alwaysShowHover,a=o.a.infoBehaviourOnHover.APPEARS,l=o.a.overlayAnimations.NO_EFFECT;return!!s||(i!==a||n===l||e)},s.render=function(){var t=this.props,e=t.imageDimensions,r=t.actions,i=t.idx,o=t.renderCustomInfo,s=this.getHoverClass();return n.a.createElement("div",{className:s,key:"item-hover-"+i,"data-hook":"item-hover-"+i,"aria-hidden":!0,style:e&&e.borderRadius?{borderRadius:e.borderRadius}:{}},n.a.createElement("div",{style:{height:"100%"},onTouchStart:r.handleItemMouseDown,onTouchEnd:r.handleItemMouseUp},this.shouldRenderHoverInnerIfExist()&&o?n.a.createElement("div",{className:"gallery-item-hover-inner"},o()):null))},i}(je.a),Ve=new(function(){function t(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(d.a.screen.width,d.a.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}var e=t.prototype;return e.calcScrollPaddings=function(){var t=this;this.allPagePadding=function(){return[1/0,1/0]},this.inScreenPadding=function(){return[0,0]},this.aboveScreenPadding=function(){return[0,1/0]},this.justBelowScreenPadding=function(e){return[1/0,-1*(e+t.screenSize)]},this.justBelowAndAboveScreenPadding=function(){return[2560,1/0]},this.justBelowAndInScreenPadding=function(){return[5120,0]},this.belowScreenPadding=function(){return[1/0,0]},this.highResPadding=function(){return[5120,1/0]},this.lowResPadding=function(){return[10240,1/0]}},e.getSellectorDomId=function(t){var e=t.id,r=t.idx;return"pgi"+String(e).replace(/[\W]+/g,"")+"_"+r},e.buildScrollClassName=function(t,e,r){var i=String(t).replace(/[\W]+/g,"").slice(-8);return this.pgScrollClassName+"_"+i+"_"+r+"-"+(this.pgScrollSteps[e]+Number(r))},e.calcScrollClasses=function(t,e){var r=this;return this.pgScrollClassName+"-"+e+" "+this.pgScrollSteps.map((function(i,n){return r.buildScrollClassName(t,n,Math.floor(e/i)*i)})).join(" ")},e.calcScrollCss=function(t){var e=this,r=t.domId,i=t.items,n=t.styleParams;if(!i||!i.length)return[];var s=n.scrollAnimation;if(!s||s===o.a.scrollAnimations.NO_EFFECT)return[];this.screenSize=n.oneRow?Math.min(d.a.outerWidth,d.a.screen.width):Math.min(d.a.outerHeight,d.a.screen.height),!n.oneRow&&u.a.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings();var a=i.slice(-1)[0].offset,l=a.top,c=a.right,h=this.pgScrollSteps[0];return this.minHeight=0-h,this.maxHeight=(Math.ceil(((n.oneRow?c:l)+this.screenSize)/h)+1)*h,i.map((function(t){return e.calcScrollCssForItem({domId:r,item:t,styleParams:n})}))},e.shouldCalcScrollCss=function(t){var e=t.type;return"video"!==e&&"text"!==e},e.createScrollSelectorsFunction=function(t){var e=this,r=t.domId,i=t.item,n=t.styleParams,o=n.oneRow?i.offset.left-this.screenSize:i.offset.top-this.screenSize,s=n.oneRow?i.offset.left+i.width:i.offset.top+i.height,a=this.pgScrollSteps[this.pgScrollSteps.length-1],l=this.getSellectorDomId(i);return function(t,i){var n=t[0],c=t[1];if(n===1/0&&c===1/0)return"#pro-gallery-"+r+" #"+l+" "+i;for(var h,u,d=(h=o-n,u=a,Math.floor(Math.max(e.minHeight,h)/u)*u),p=function(t,r){return Math.ceil(Math.min(e.maxHeight,t)/r)*r}(s+c,a),m=[];d<p;){var f=e.pgScrollSteps.findIndex((function(t){return d%t==0&&d+t<=p}));if(-1===f){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",d,"\nto =",p,"\npadding[0] =",t[0],"\npadding[1] =",t[1]);break}m.push("."+e.buildScrollClassName(r,f,d)+" ~ div #"+l+" "+i),d+=e.pgScrollSteps[f]}return m.join(", ")}},e.calcScrollCssForItem=function(t){var e=t.domId,r=t.item,i=t.styleParams,n=r.idx,o="",s=this.createScrollSelectorsFunction({domId:e,item:r,styleParams:i});return o+=this.createScrollAnimationsIfNeeded({idx:n,item:r,styleParams:i,createScrollSelectors:s}),this.scrollCss[n]=o||this.scrollCss[n],this.scrollCss[n]},e.createScrollAnimationsIfNeeded=function(t){var e=t.idx,r=t.styleParams,i=t.createScrollSelectors,n=r.scrollAnimation;if(!n||n===o.a.scrollAnimations.NO_EFFECT)return"";var s=100*(e%3+1),a=100*(e%3+1),l=this.allPagePadding(),c=this.aboveScreenPadding(),h="";if(n===o.a.scrollAnimations.MAIN_COLOR&&(h+=i(l," .image-item")+"{background-size: 1px; background-repeat: repeat;}",h+=i(l," img")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in "+s+"ms !important;}",h+=i(c," img")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.BLUR&&(h+=i(l," img")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in "+s+"ms !important;}",h+=i(c," img")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.FADE_IN&&(h+=i(l," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.GRAYSCALE&&(h+=i(l," .gallery-item-wrapper")+"{filter: grayscale(100%); transition: filter 1."+(200+a)+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),n===o.a.scrollAnimations.SLIDE_UP&&(h+=i(l,"")+"{transform: translateY(100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}",h+=i(c,"")+"{transform: translateY(0) !important;}"),n===o.a.scrollAnimations.EXPAND&&(h+=i(l,"")+"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c,"")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.SHRINK&&(h+=i(l,"")+"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c,"")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.ZOOM_OUT&&(h+=i(l," .gallery-item-wrapper")+"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.ONE_COLOR){var u=r.oneColorAnimationColor&&r.oneColorAnimationColor.value?r.oneColorAnimationColor.value:"transparent";h+=i(l,"")+"{background-color: "+u+";}",h+=i(l," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 0."+(600+a)+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return h},t}());function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach((function(e){Ye(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qe(t){return Ke({},(t.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND||o.a.hasHoverPlacement(t.titlePlacement))&&Ke(Ke({},Je(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor)),function(t){var e={};if(t.itemEnableShadow){var r=t.itemShadowBlur,i=t.itemShadowDirection,n=t.itemShadowSize,o=-1*(Number(i)-90)/360*2*Math.PI;e={boxShadow:Math.round(n*Math.cos(o))+"px "+Math.round(-1*n*Math.sin(o))+"px "+r+"px "+u.a.formatColor(t.itemShadowOpacityAndColor)}}return e}(t)))}function Xe(t){return Ke({},!o.a.hasHoverPlacement(t.titlePlacement)&&(t.imageInfoType===o.a.infoType.NO_BACKGROUND||t.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND)&&Ke({},Je(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor)))}function Je(t,e,r){return Ke({overflow:"hidden",borderRadius:t,borderWidth:e+"px",borderColor:u.a.formatColor(r)},e&&{borderStyle:"solid"})}function Ze(t,e,r,i){var n=Ke(Ke({},o.a.hasHorizontalPlacement(t)&&{height:r,float:o.a.isRightPlacement(t)?"right":"left"}),o.a.hasVerticalPlacement(t)&&{height:i,boxSizing:"content-box"});return e.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND?Ke(Ke(Ke(Ke({},n),Je(e.textBoxBorderRadius,e.textBoxBorderWidth,e.textBoxBorderColor)),o.a.hasAbovePlacement(t)&&{marginBottom:e.textImageSpace}),o.a.hasBelowPlacement(t)&&{marginTop:e.textImageSpace}):n}function $e(t,e,r,i){var n=Ke(Ke({},(e.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND||e.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND)&&e.textBoxFillColor&&e.textBoxFillColor.value&&{backgroundColor:e.textBoxFillColor.value}),{},{overflow:"hidden",boxSizing:"border-box"}),s=o.a.hasVerticalPlacement(t),a=o.a.hasHorizontalPlacement(t);return Ke(Ke(Ke({},n),s&&function(t,e){return{width:"100%",height:e}}(0,r)),a&&function(t,e){return{height:"100%",width:e}}(0,i))}var Qe=r(305),tr=r.n(Qe);function er(){return(er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var rr=function(t){var e=t.size,r=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,["size"]);return n.a.createElement("svg",er({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},r),n.a.createElement("path",{d:"M30,0c16.6,0,30,13.4,30,30S46.6,60,30,60C13.4,60,0,46.6,0,30S13.4,0,30,0z",fillRule:"evenodd",clipRule:"evenodd"}))};rr.displayName="play_background";var ir=rr;function nr(){return(nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var or=function(t){var e=t.size,r=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,["size"]);return n.a.createElement("svg",nr({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},r),n.a.createElement("path",{d:"M41.5,30l-17,10V20L41.5,30z"}))};or.displayName="play_triangle";var sr=or;var ar=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.render=function(){var t=this.props.videoControls,e=this.getImageContainerClassNames()+" video-item gallery-item-video",r=this.getImageElement();return this.getImageContainer(r,e,t)},i}(Ne);function lr(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(c){return void r(c)}a.done?e(l):Promise.resolve(l).then(i,n)}function cr(){return(cr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ur=[n.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},n.a.createElement(sr,null)),n.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},n.a.createElement(ir,null))],dr=function(t){var e,i;function o(e){var r;return(r=t.call(this,e)||this).shouldPlayVideo=r.shouldPlayVideo.bind(hr(r)),r.createVideoItemPlaceholder=r.createVideoItemPlaceholder.bind(hr(r)),r.state={VideoItemLoaded:!1},r}i=t,(e=o).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=o.prototype;return s.shouldPlayVideo=function(){var t=this.props.styleParams,e=t.videoPlay,r=t.itemClick,i=this.props.hasLink;if(this.props.isVideoPlaceholder)return!1;if(this.props.idx===this.props.playingVideoIdx||this.props.idx===this.props.nextVideoIdx){if("hover"===e||"auto"===e)return!0;if("nothing"===r)return!0;if("link"===r&&!i)return!0}return!1},s.createVideoItemPlaceholder=function(t){var e=u.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings","actions"]);return n.a.createElement(ar,cr({},e,{key:"videoPlaceholder",imageDimensions:this.props.imageDimensions,isThumbnail:!!this.props.thumbnailHighlightId,id:this.props.idx,videoControls:t&&ur}))},s.componentDidMount=function(){var t,e=(t=tr.a.mark((function t(){var e;return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.e(78).then(r.bind(null,1021));case 3:e=t.sent,this.VideoItem=e.default,this.shouldPlayVideo()&&this.setState({VideoItemLoaded:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Failed to fetch VideoItem");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){lr(o,i,n,s,a,"next",t)}function a(t){lr(o,i,n,s,a,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}(),s.render=function(){var t=this.props.hover,e=!this.props.hidePlay&&this.props.styleParams.showVideoPlayButton,r=this.createVideoItemPlaceholder(e),i=this.VideoItem;return this.shouldPlayVideo()&&i?n.a.createElement(i,cr({},this.props,{videoControls:e&&ur})):[r,t]},o}(Ne);function pr(){return(pr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function mr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mr(Object(r),!0).forEach((function(e){yr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var br=function(t){var e,r;function i(e){var r;return yr(gr(r=t.call(this,e)||this),"shouldUseDirectLink",(function(){var t=r.props.directLink||{},e=t.url,i=t.target,n=!(!e||!i||"link"!==r.props.styleParams.itemClick);return r.shouldShowHoverOnMobile()&&r.isClickOnCurrentHoveredItem()&&n?(r.props.actions.eventsListener(o.a.events.HOVER_SET,-1),!0):!(!n||r.shouldShowHoverOnMobile())})),yr(gr(r),"isClickOnCurrentHoveredItem",(function(){return r.state.isCurrentHover})),r.props.actions.eventsListener(o.a.events.ITEM_CREATED,r.props),r.init(),r.state={isCurrentHover:!1,itemWasHovered:!1},r.activeElement="",r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.init=function(){this.onItemClick=this.onItemClick.bind(this),this.onItemWrapperClick=this.onItemWrapperClick.bind(this),this.onItemInfoClick=this.onItemInfoClick.bind(this),this.onContainerKeyDown=this.onContainerKeyDown.bind(this),this.onAnchorKeyDown=this.onAnchorKeyDown.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.isHighlight=this.isHighlight.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.changeActiveElementIfNeeded=this.changeActiveElementIfNeeded.bind(this),this.checkIfCurrentHoverChanged=this.checkIfCurrentHoverChanged.bind(this),this.getCustomInfoRendererProps=this.getCustomInfoRendererProps.bind(this)},s.setItemLoaded=function(){this.props.actions.eventsListener(o.a.events.ITEM_LOADED,this.props),this.setState({loaded:!0})},s.isIconTag=function(t){return["button","i","a","svg","path"].indexOf(t.toLowerCase())>=0},s.onMouseOver=function(){u.a.isMobile()||this.props.actions.eventsListener(o.a.events.HOVER_SET,this.props.idx)},s.onMouseOut=function(){u.a.isMobile()||this.props.actions.eventsListener(o.a.events.HOVER_SET,-1)},s.onContainerKeyDown=function(t){switch(t.keyCode||t.charCode){case 32:case 13:t.stopPropagation();return this.onItemClick(t,"item-container",!1),this.shouldUseDirectLink()&&this.itemAnchor.click(),!1;default:return!0}},s.onAnchorKeyDown=function(t){switch(t.keyCode||t.charCode){case 32:case 13:t.stopPropagation();return this.onItemClick(t,"item-container",!1),!1;default:return!0}},s.handleGalleryItemAction=function(t){this.props.actions.eventsListener(o.a.events.ITEM_ACTION_TRIGGERED,this.props,t)},s.onItemWrapperClick=function(t){this.onItemClick(t,"item-media")},s.onItemInfoClick=function(t){this.onItemClick(t,"item-info")},s.onItemClick=function(t,e,r){void 0===r&&(r=!0),u.a.isFunction(u.a.get(d.a,"galleryWixCodeApi.onItemClicked"))&&d.a.galleryWixCodeApi.onItemClicked(this.props),this.props.actions.eventsListener(o.a.events.ITEM_CLICKED,fr(fr({},this.props),{},{clickTarget:e}),t),this.shouldUseDirectLink()||(r&&t.preventDefault(),this.shouldShowHoverOnMobile()?this.handleHoverClickOnMobile(t):this.handleGalleryItemAction(t))},s.handleHoverClickOnMobile=function(t){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemAction(t),this.props.actions.eventsListener(o.a.events.HOVER_SET,-1)):this.props.actions.eventsListener(o.a.events.HOVER_SET,this.props.idx)},s.handleItemMouseDown=function(){return!0},s.handleItemMouseUp=function(){return u.a.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0},s.shouldShowHoverOnMobile=function(){if(u.a.isMobile()){var t=this.props.styleParams,e=t.titlePlacement,r=t.hoveringBehaviour,i=t.itemClick,n=t.alwaysShowHover,s=t.previewHover,a=t.allowDescription,l=t.allowTitle,c=t.isStoreGallery,h=y.supports.mobileSettings;if(r===o.a.infoBehaviourOnHover.NEVER_SHOW)return!1;if("nothing"===i&&"video"!==this.props.type)return!0;if(this.props.customHoverRenderer&&o.a.hasHoverPlacement(e)&&r!==o.a.infoBehaviourOnHover.NEVER_SHOW&&h&&(a||l||c))return!0;if(n)return!0;if(Object(Ht.a)()&&s)return!0}return!1},s.isHighlight=function(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id},s.shouldHover=function(){var t=this.props.styleParams,e=t.alwaysShowHover,r=t.previewHover,i=t.hoveringBehaviour,n=t.overlayAnimation,s=o.a.infoBehaviourOnHover,a=s.NEVER_SHOW,l=s.APPEARS,c=o.a.overlayAnimations.NO_EFFECT;return i!==a&&(!0===e||(!(!Object(Ht.a)()||!r)||!(i===l&&n===c&&!this.state.itemWasHovered)&&(!u.a.isMobile()||this.shouldShowHoverOnMobile())))},s.getImageDimensions=function(){var t=this.props,e=t.styleParams,r=t.cubeRatio,i=t.style,n=i.ratio>=r,o=Math.round((i.height*i.ratio-i.width)/-2),s=Math.round((i.width/i.ratio-i.height)/-2),a=e.cubeImages&&"fit"===e.cubeType,l={};return a?a&&n?l={height:i.height-2*s,width:i.width,margin:s+"px 0"}:a&&!n&&(l={width:i.width-2*o,height:i.height,margin:"0 "+o+"px"}):l={width:i.width,height:i.height},e.itemBorderRadius&&(l.borderRadius=e.itemBorderRadius+"px"),l},s.getItemHover=function(t){var e=this,r=this.props,i=r.customHoverRenderer,o=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(r,["customHoverRenderer"]);return this.shouldHover()&&n.a.createElement(We,pr({},o,{forceShowHover:this.simulateOverlayHover(),imageDimensions:t,itemWasHovered:this.state.itemWasHovered,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},renderCustomInfo:i?function(){return i(e.getCustomInfoRendererProps())}:null}))},s.getCustomInfoRendererProps=function(){return fr(fr({},this.props),{isMobile:u.a.isMobile()})},s.getImageItem=function(t){var e=u.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings"]);return n.a.createElement(Ne,pr({},e,{key:"imageItem",imageDimensions:t,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},s.getVideoItem=function(t,e){return n.a.createElement(dr,pr({},this.props,{playing:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:e,imageDimensions:t,hasLink:this.itemHasLink(),actions:fr(fr({},this.props.actions),{},{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))},s.getTextItem=function(t){var e=u.a.pick(this.props,["id","styleParams","style","html","cubeRatio"]);return n.a.createElement(Fe,pr({},e,{key:"textItem",imageDimensions:t,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},s.getItemInner=function(){var t,e=this,r=this.props,i=r.styleParams,o=r.type,s=this.getImageDimensions(),a={width:s.width,height:s.height},l=null;switch((this.shouldHover()||i.isSlideshow)&&(l=this.getItemHover(a)),o){case"dummy":t=n.a.createElement("div",null);break;case"video":t=this.getVideoItem(a,l);break;case"text":t=[this.getTextItem(a),l];break;case"image":case"picture":default:t=this.props.isVideoPlaceholder?this.getVideoItem(a,l):[this.getImageItem(a),l]}if(i.isSlideshow){var c=this.props.customSlideshowInfoRenderer,h={height:i.slideshowInfoSize+"px",bottom:"-"+i.slideshowInfoSize+"px"},u=c?c(this.getCustomInfoRendererProps()):null,d=this.props,p=d.photoId,m=d.id,f=d.idx;t=n.a.createElement("div",null,n.a.createElement("a",pr({ref:function(t){return e.itemAnchor=t},"data-id":p,"data-idx":f,key:"item-container-link-"+m},this.getLinkParams(),{tabIndex:-1}),t),n.a.createElement("div",{className:"gallery-slideshow-info","data-hook":"gallery-slideshow-info-buttons",style:h},u))}return t},s.getRightInfoElementIfNeeded=function(){return o.a.hasRightPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ON_THE_RIGHT,"gallery-item-right-info"):null},s.getLeftInfoElementIfNeeded=function(){return o.a.hasLeftPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ON_THE_LEFT,"gallery-item-left-info"):null},s.getBottomInfoElementIfNeeded=function(){return o.a.hasBelowPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_BELOW,"gallery-item-bottom-info"):null},s.getTopInfoElementIfNeeded=function(){return o.a.hasAbovePlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ABOVE,"gallery-item-top-info"):null},s.getExternalInfoElement=function(t,e){var r=this.props,i=r.styleParams,o=r.customInfoRenderer,s=r.style;if(!o)return null;var a=i.textBoxHeight+(this.hasRequiredMediaUrl?0:s.height),l=s.infoWidth+(this.hasRequiredMediaUrl?0:s.width),c=o(this.getCustomInfoRendererProps(),t);return n.a.createElement("div",{style:Ze(t,i,s.height,i.textBoxHeight)},n.a.createElement("div",{style:$e(t,i,a,l),className:"gallery-item-common-info "+e,"aria-hidden":!0,onClick:this.onItemInfoClick},c))},s.simulateHover=function(){return this.state.isCurrentHover||!0===this.props.styleParams.alwaysShowHover||Object(Ht.a)()&&this.props.styleParams.previewHover},s.simulateOverlayHover=function(){return this.simulateHover()||this.props.styleParams.hoveringBehaviour===o.a.infoBehaviourOnHover.NO_CHANGE},s.itemHasLink=function(){var t=this.props,e=t.linkData,r=t.linkUrl;return!(void 0===e.type&&(void 0===r||""===r))},s.getItemContainerStyles=function(){var t=this.props,e=t.idx,r=t.currentIdx,i=t.offset,n=t.style,s=t.styleParams,a=t.settings,l=void 0===a?{}:a,c=s.oneRow,h=s.imageMargin,u=s.itemClick,d=s.isRTL,p=s.slideAnimation,m=qe(s),f=!this.itemHasLink(),g={overflowY:s.isSlideshow?"visible":"hidden",position:"absolute",bottom:"auto",margin:c?h+"px":0,cursor:u===o.a.itemClick.NOTHING||u===o.a.itemClick.LINK&&f?"default":"pointer"},y=l.avoidInlineStyles,b=void 0===y||y?{}:{top:i.top,left:d?"auto":i.left,right:d?i.left:"auto",width:n.width+n.infoWidth,height:n.height+n.infoHeight},v=p===o.a.slideAnimations.FADE?{left:d?"auto":0,right:d?0:"auto",opacity:r===e?1:0,pointerEvents:r===e?"auto":"none",transition:r===e?"none":"opacity .8s ease .2s",zIndex:r===e?0:1}:{},I=this.state.loaded&&(Object(Ht.a)()||Object(Ht.d)())?{transition:"all .4s ease",transitionProperty:"top, left, width, height, opacity"}:{transition:"none"};return fr(fr(fr(fr(fr({},g),b),m),I),v)},s.getItemWrapperStyles=function(){var t=this.props,e=t.styleParams,r=t.style,i=t.type,n=r.height,o={};o.backgroundColor="text"===i?"fit"!==e.cubeType?"transparent":"inherit":("fit"!==e.cubeType?r.bgColor:"inherit")||"transparent",o.margin=-e.itemBorderWidth+"px",o.height=n+"px";var s=this.getImageDimensions();return fr(fr({},o),s)},s.getItemAriaLabel=function(){var t,e=this.props,r=e.type,i=e.alt,n=e.styleParams;switch(r){case"dummy":t="";break;case"text":t="Text item";break;case"video":t=i||"Untitled video";break;default:t=i||"Untitled image"}return t+(n.isStoreGallery?", Buy Now":"")},s.getItemContainerClass=function(){var t=this.props.styleParams,e=!t.isSlideshow,r=t.imagePlacementAnimation,i=t.overlayAnimation,n=t.imageHoverAnimation,s={"gallery-item-container":!0,visible:!0,highlight:this.isHighlight(),clickable:"nothing"!==t.itemClick,"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&u.a.isMobile(),"invert-hover":t.hoveringBehaviour===o.a.infoBehaviourOnHover.DISAPPEARS,"animation-slide":e&&r===o.a.imagePlacementAnimations.SLIDE,"hover-animation-fade-in":e&&i===o.a.overlayAnimations.FADE_IN,"hover-animation-expand":e&&i===o.a.overlayAnimations.EXPAND,"hover-animation-slide-up":e&&i===o.a.overlayAnimations.SLIDE_UP,"hover-animation-slide-right":e&&i===o.a.overlayAnimations.SLIDE_RIGHT,"zoom-in-on-hover":e&&n===o.a.imageHoverAnimations.ZOOM_IN,"blur-on-hover":e&&n===o.a.imageHoverAnimations.BLUR,"grayscale-on-hover":e&&n===o.a.imageHoverAnimations.GRAYSCALE,"shrink-on-hover":e&&n===o.a.imageHoverAnimations.SHRINK,"invert-on-hover":e&&n===o.a.imageHoverAnimations.INVERT,"color-in-on-hover":e&&n===o.a.imageHoverAnimations.COLOR_IN,"darkened-on-hover":e&&n===o.a.imageHoverAnimations.DARKENED,"pro-gallery-mobile-indicator":u.a.isMobile()};return Object.entries(s).map((function(t){var e=t[0];return!!t[1]&&e})).filter(Boolean).join(" ")},s.getItemWrapperClass=function(){var t=this.props,e=t.styleParams,r=t.type,i=["gallery-item-wrapper","visible"];return e.cubeImages&&i.push("cube-type-"+e.cubeType),"text"===r&&i.push("gallery-item-wrapper-text"),i.join(" ")},s.getItemContainerTabIndex=function(){return this.isHighlight()?u.a.getTabIndex("currentThumbnail"):this.props.currentIdx===this.props.idx?u.a.getTabIndex("currentGalleryItem"):-1},s.changeActiveElementIfNeeded=function(t){var e=this;try{if((Object(Ht.f)()||Object(Ht.e)())&&!u.a.isMobile()&&d.a.document&&d.a.document.activeElement&&d.a.document.activeElement.className){var r=d.a.document.activeElement;(String(r.className).indexOf("gallery-item-container")>=0&&d.a.document.querySelector("#pro-gallery-"+e.props.domId+" #"+String(r.id))||String(r.className).indexOf("show-more")>=0&&d.a.document.querySelector("#pro-gallery-"+e.props.domId+" #"+String(r.id)))&&(this.props.thumbnailHighlightId!==t.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id||this.props.currentIdx!==t.currentIdx&&this.props.currentIdx===this.props.idx)&&this.itemContainer.focus()}}catch(i){console.error("Could not set focus to active element",i)}},s.componentDidMount=function(){if(u.a.isMobile())try{n.a.initializeTouchEvents(!0)}catch(t){}d.a.addEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},s.componentWillUnmount=function(){clearTimeout(this.itemLoadedTimeout),d.a.removeEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},s.componentDidUpdate=function(t){this.changeActiveElementIfNeeded(t)},s.checkIfCurrentHoverChanged=function(t){t.domId===this.props.domId&&(this.state.isCurrentHover||t.currentHoverIdx!==this.props.idx?this.state.isCurrentHover&&t.currentHoverIdx!==this.props.idx&&this.setState({isCurrentHover:!1}):this.setState({isCurrentHover:!0,itemWasHovered:!0}))},s.onContextMenu=function(t){u.a.isDev()||this.props.styleParams.allowContextMenu||t.preventDefault(t)},s.getItemAriaRole=function(){switch(this.props.styleParams.itemClick){case"expand":case"fullscreen":return"button";case"link":return"link";default:return""}},s.getLinkParams=function(){var t=this.props,e=t.directLink,r=t.styleParams,i=t.directShareLink,n=Object(Ht.e)();if(r.itemClick===o.a.itemClick.LINK){var s=e||{},a=s.url,l=s.target,c=this.props.noFollowForSEO;return!(!a||!l)?fr({href:a,target:l},n&&c?{rel:"nofollow"}:{}):{}}if(r.itemClick===o.a.itemClick.FULLSCREEN||r.itemClick===o.a.itemClick.EXPAND){return!!i?{href:i,"data-cancel-link":!0}:{}}},s.composeItem=function(){var t=this,e=this.props,r=e.photoId,i=e.id,s=e.hash,a=e.idx,l=e.styleParams,c=e.type,h=e.url;this.hasRequiredMediaUrl=h||"text"===c;var u=l.titlePlacement!==o.a.placements.SHOW_ON_HOVER&&!this.hasRequiredMediaUrl,d=n.a.createElement("div",{className:this.getItemContainerClass(),onContextMenu:function(e){return t.onContextMenu(e)},id:Ve.getSellectorDomId(this.props),ref:function(e){return t.itemContainer=e},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onKeyDown:this.onContainerKeyDown,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":s,"data-id":r,"data-idx":a,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+i,style:this.getItemContainerStyles()},this.getTopInfoElementIfNeeded(),this.getLeftInfoElementIfNeeded(),n.a.createElement("div",{style:fr(fr(fr({},!this.props.styleParams.isSlideshow&&Xe(this.props.styleParams)),o.a.hasRightPlacement(this.props.styleParams.titlePlacement)&&{float:"left"}),o.a.hasLeftPlacement(this.props.styleParams.titlePlacement)&&{float:"right"})},!u&&n.a.createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+i,style:this.getItemWrapperStyles(),onClick:this.onItemWrapperClick},this.getItemInner())),this.getRightInfoElementIfNeeded(),this.getBottomInfoElementIfNeeded());return l.isSlideshow?d:n.a.createElement("a",pr({ref:function(e){return t.itemAnchor=e},"data-id":r,"data-idx":a,key:"item-container-link-"+i},this.getLinkParams(),{tabIndex:-1,onKeyDown:function(e){t.onAnchorKeyDown(e)}}),d)},s.render=function(){return this.composeItem()},i}(je.a);function vr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vr(Object(r),!0).forEach((function(e){Or(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Sr=function(t){var e,r;function i(e){var r;return(r=t.call(this,e)||this).handleArrowKeys=r.handleArrowKeys.bind(wr(r)),r.showMoreItems=r.showMoreItems.bind(wr(r)),r.createGalleryConfig=r.createGalleryConfig.bind(wr(r)),r.screenLogs=r.screenLogs.bind(wr(r)),r.createGallery=r.createGallery.bind(wr(r)),r.id=Date.now()+"|"+Math.floor(1e4*Math.random()),r.state={currentIdx:0},r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.handleArrowKeys=function(t){var e=d.a.document.activeElement.getAttribute("data-idx");if(e){var r=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||function(){},i=Number(e),n=-1;switch(t.keyCode||t.charCode){case 38:n=r(i,"up");break;case 37:n=r(i,this.props.styleParams.isRTL?"right":"left");break;case 40:n=r(i,"down");break;case 39:n=r(i,this.props.styleParams.isRTL?"left":"right")}if(n>this.lastVisibleItemIdx()&&(n=i),n>=0)return t.preventDefault(),t.stopPropagation(),u.a.setStateAndLog(this,"Set Gallery Current Item",{currentIdx:n}),!1}return!0},o.lastVisibleItemIdxInHeight=function(t){for(var e=this.props.galleryStructure.items.length-1;e>=0;e--){if(this.props.galleryStructure.items[e].offset.top<t)return e}return this.items.length-1},o.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)},o.showMoreItems=function(){var t=this;if(this.props.styleParams.isAccessible)try{var e=this.lastVisibleItemIdx();u.a.setStateAndLog(this,"Focus on Last Gallery Item",{currentIdx:e+1},(function(){t.props.actions.toggleLoadMoreItems()}))}catch(r){console.warn("Cannot find item to focus",r)}else this.props.actions.toggleLoadMoreItems()},o.createGallery=function(t){var e,r=this.props,i=r.itemsLoveData,o=r.styleParams,s=r.container,a=r.galleryStructure,l=r.getVisibleItems,c=this.createGalleryConfig(),h=n.a.createElement(ke,this.props.debug);e=t?s.galleryHeight-138:a.height+"px";var u=l(a.galleryItems,s).map((function(t,e){return n.a.createElement(br,t.renderProps(Ir(Ir(Ir({},c),i[t.id]),{},{visible:t.isVisible,key:"itemView-"+t.id+"-"+e})))}));return n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles "+(o.oneRow?" one-row slider hide-scrollbars ":"")+(o.isAccessible?" accessible ":"")+(o.isRTL?" rtl ":" ltr "),style:{height:e,overflowX:"hidden"},onKeyDown:this.handleArrowKeys},n.a.createElement("div",{id:"pro-gallery-margin-container",style:{margin:o.galleryMargin+"px",height:e,width:this.props.container.galleryWidth-2*o.imageMargin,overflow:"visible",position:"relative"}},h,u))},o.createGalleryConfig=function(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,styleParams:this.props.styleParams,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,domId:this.props.domId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,actions:{eventsListener:this.props.actions.eventsListener}}},o.screenLogs=function(){return u.a.shouldDebug("screenLogs")?n.a.createElement("div",{className:"screen-logs"},"URL width: ",u.a.parseGetParam("width"),", Container:"," ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",d.a.innerWidth,", window.screen.width:"," ",d.a.screen.width):""},o.returnButtonStyle=function(t){var e={};return u.a.isMobile()&&(void 0!==t.loadMoreButtonFont&&(e.font=t.loadMoreButtonFont.value,e.textDecoration=t.textDecorationLoadMore),void 0!==t.loadMoreButtonFontColor&&(e.color=t.loadMoreButtonFontColor.value,e.textDecorationColor=t.loadMoreButtonFontColor.value),void 0!==t.loadMoreButtonColor&&(e.background=t.loadMoreButtonColor.value),void 0!==t.loadMoreButtonBorderColor&&(e.borderColor=t.loadMoreButtonBorderColor.value),void 0!==t.loadMoreButtonBorderRadius&&(e.borderRadius=t.loadMoreButtonBorderRadius),void 0!==t.loadMoreButtonBorderWidth&&(e.borderWidth=t.loadMoreButtonBorderWidth)),e},o.createShowMoreButton=function(){if("function"==typeof this.props.customLoadMoreRenderer)return n.a.createElement("div",{onClick:this.showMoreItems},this.props.customLoadMoreRenderer(this.props));var t=this.props.styleParams,e=!1,r=this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height,i=this.returnButtonStyle(t);if(r){var o=t.loadMoreButtonText||"Load More";e=n.a.createElement("div",{className:"show-more-container"+(u.a.isMobile()?" pro-gallery-mobile-indicator":"")},n.a.createElement("button",{tabIndex:u.a.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.domId,className:"show-more",onClick:this.showMoreItems,onMouseDown:function(t){return t.preventDefault()},"data-hook":"show-more","aria-label":o,style:i},o))}return e},o.render=function(){u.a.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView styleParams",this.props.styleParams),console.log("[DEBUG_RENDER] GalleryView props changed",u.a.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=Ir({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",u.a.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=Ir({},this.state),this.renderCount=(this.renderCount||0)+1);var t=this.createShowMoreButton(),e=this.createGallery(t);u.a.isVerbose()&&console.timeEnd("Rendering Gallery took ");var r=this.screenLogs();return n.a.createElement("div",{className:"pro-gallery-parent-container",key:"pro-gallery-"+this.id,role:"region","aria-label":this.props.proGalleryRegionLabel},r,e,t)},i}(je.a);function Pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(r),!0).forEach((function(e){xr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cr=function(t){var e,r;function i(e){var r;return(r=t.call(this,e)||this).displayName="GroupView",r.dom=[],r.state={},r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.createDom=function(t){var e=this;return this.props.items.map((function(r){return n.a.createElement(br,Er(Er({},r.renderProps(Er(Er({},e.props.galleryConfig),{},{visible:t}))),e.props.itemsLoveData[r.id]))}))},o.shouldRender=function(){var t=this.props.items;return!!(t&&t.length&&t[0])},o.isVisible=function(){var t=this.props,e=t.items,r=t.galleryConfig;if(this.props.allowLoop){var i=e[e.length-1].idx,n=r.currentIdx,o=r.totalItemsCount,s=n-i,a=Math.floor(o/2);return Math.abs(s)<=a}return!0},o.render=function(){return this.shouldRender()?n.a.createElement("div",{key:"group_"+this.props.idx+"_"+this.props.items[0].id,"data-hook":"group-view"},this.createDom(this.isVisible())):null},i}(je.a);function Lr(t){try{var e=!!(t&&Number.isInteger(t.scrollBase)&&Number.isInteger(t.galleryHeight)&&d.a&&d.a.document&&d.a.document.documentElement&&(Number.isInteger(d.a.document.documentElement.scrollTop)||d.a.document.scrollingElement&&Number.isInteger(d.a.document.scrollingElement.scrollTop))&&Number.isInteger(d.a.document.documentElement.offsetHeight)),r=e&&t.scrollBase+t.galleryHeight>d.a.document.documentElement.scrollTop,i=e&&t.scrollBase<(d.a.document.documentElement.scrollTop||d.a.document.scrollingElement.scrollTop)+d.a.document.documentElement.offsetHeight;return r&&i||!e}catch(n){return console.warn("Could not calculate viewport",n),!0}}function Tr(){return(Tr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var jr=function(t){var e=t.size,r=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,["size"]);return n.a.createElement("svg",Tr({viewBox:"0 0 11 14",fill:"currentColor",width:e||"11",height:e||"14"},r),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};jr.displayName="play";var kr=jr;function Dr(){return(Dr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var Rr=function(t){var e=t.size,r=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,["size"]);return n.a.createElement("svg",Dr({viewBox:"0 0 10 14",fill:"currentColor",width:e||"10",height:e||"14"},r),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};Rr.displayName="pause";var Mr=Rr;function Ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(r),!0).forEach((function(e){Gr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hr=function(t){var e,r;function i(e){var r;return Gr(Nr(r=t.call(this,e)||this),"autoScrollToNextItem",(function(){Object(Ht.a)()||!Lr(r.props.container)&&!Object(Ht.d)()||r._next({direction:1,isAutoTrigger:!0,scrollDuration:800})})),r.navigationOutHandler=r.navigationOutHandler.bind(Nr(r)),r.navigationInHandler=r.navigationInHandler.bind(Nr(r)),r.scrollToThumbnail=r.scrollToThumbnail.bind(Nr(r)),r.stopAutoSlideshow=r.stopAutoSlideshow.bind(Nr(r)),r.onAutoSlideShowButtonClick=r.onAutoSlideShowButtonClick.bind(Nr(r)),r.startAutoSlideshowIfNeeded=r.startAutoSlideshowIfNeeded.bind(Nr(r)),r.handleSlideshowKeyPress=r.handleSlideshowKeyPress.bind(Nr(r)),r.onAutoSlideshowAutoPlayKeyPress=r.onAutoSlideshowAutoPlayKeyPress.bind(Nr(r)),r.setCurrentItemByScroll=r.setCurrentItemByScroll.bind(Nr(r)),r._setCurrentItemByScroll=u.a.throttle(r.setCurrentItemByScroll,600).bind(Nr(r)),r._next=u.a.throttle(r.next.bind(Nr(r)),400).bind(Nr(r)),r.state={currentIdx:e.currentIdx||0,isInView:!0,shouldStopAutoSlideShow:!1,hideLeftArrow:!e.isRTL,hideRightArrow:e.isRTL},r.lastCurrentItem=void 0,r.shouldCreateSlideShowPlayButton=!1,r.shouldCreateSlideShowNumbers=!1,r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.isFirstItem=function(){return 0===this.state.currentIdx},s.isScrollStart=function(){return this.props.styleParams.slideAnimation!==o.a.slideAnimations.FADE&&(!!this.container&&this.getScrollLeft()<=1)},s.isScrollEnd=function(){var t=this.props,e=t.items,r=t.totalItemsCount,i=this.props.styleParams,n=i.slideshowLoop,s=i.slideAnimation;if(n||s===o.a.slideAnimations.FADE)return!1;if(this.container){var a=this.container,l=a.scrollWidth,c=a.clientWidth,h=this.getScrollLeft();return e.length>=r&&h+c>=l-1}return!1},s.isFirstItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollStart()},s.isLastItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollEnd()},s.isLastItem=function(){return!this.props.styleParams.slideshowLoop&&this.state.currentIdx>=this.props.totalItemsCount-1},s.createNewItemsForSlideshowLoopThumbnails=function(){var t=this.props.items,e=[],r=Math.ceil(this.props.container.galleryWidth/this.props.styleParams.thumbnailSize);Object.keys(t).forEach((function(i){var n,o=Number(i);e[n=o+r]=_r({},t[i]),o>t.length-r-1&&(n=o-t.length+r,e[n]=_r({},t[i])),o<r&&(n=o+r+t.length,e[n]=_r({},t[i]))})),e.forEach((function(t,e){t.loopIndex=e})),this.ItemsForSlideshowLoopThumbnails=e,this.numOfThumbnails=r},s.next=function(t){var e=t.direction,r=t.isAutoTrigger,i=t.scrollDuration,n=void 0===i?400:i,s=t.isKeyboardNavigation,a=void 0!==s&&s,l=document.activeElement,c=l.className&&l.className.includes("gallery-item-container"),h=!a||!(this.props.styleParams.isAccessible&&c),u=!1;this.props.styleParams.slideAnimation===o.a.slideAnimations.FADE&&(n=0,u=!0),e*=this.props.styleParams.isRTL?-1:1,h&&this.props.styleParams.groupSize>1?this.nextGroup({direction:e,isAutoTrigger:r,scrollDuration:n}):(h&&this.props.styleParams.isGrid&&this.props.styleParams.numberOfImagesPerCol&&(e*=this.props.styleParams.numberOfImagesPerCol),this.nextItem({direction:e,isAutoTrigger:r,scrollDuration:n,avoidIndividualNavigation:h,ignoreScrollPosition:u})),this.removeArrowsIfNeeded()},s.nextItem=function(t){var e=this,r=t.direction,i=t.isAutoTrigger,n=t.scrollDuration,o=t.avoidIndividualNavigation,s=t.ignoreScrollPosition;if(!this.isSliding){this.isSliding=!0;var a=(s?this.state.currentIdx:!o||this.props.styleParams.groupSize>1?i?this.setCurrentItemByScroll():this.state.currentIdx:this.getCenteredItemIdxByScroll())+r;this.props.styleParams.slideshowLoop||(a=Math.min(this.props.galleryStructure.items.length-1,a),a=Math.max(0,a));var l=this.props.actions.scrollToItem;if(this.isAutoScrolling=!0,i)this.isLastItem()&&(a=0,n=0);else if(this.startAutoSlideshowIfNeeded(this.props.styleParams),r>=1&&this.isLastItem()||r<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var c=!i&&(r>=1&&this.isLastItemFullyVisible()||r<=-1&&this.isFirstItemFullyVisible()),h=this.getStyles().margin||0;(!c&&l(s?0:a,!1,!0,n,h)).then((function(){if(1===e.props.styleParams.groupSize){var t=Math.round(1.5*e.props.totalItemsCount),r=t-e.props.totalItemsCount;a>=t&&(a=r,l(a))}u.a.setStateAndLog(e,"Next Item",{currentIdx:a},(function(){e.onCurrentItemChanged(),e.isSliding=!1})),s&&(e.props.getMoreItemsIfNeeded(e.props.galleryStructure.galleryItems[a].offset.left),e.props.setGotFirstScrollIfNeeded())}))}catch(d){return console.error("Cannot proceed to the next Item",d),void this.stopAutoSlideshow()}}},s.nextGroup=function(t){var e=this,r=t.direction,i=t.isAutoTrigger,n=t.scrollDuration,o=void 0===n?400:n;if(!this.isSliding){this.isSliding=!0;var s=this.getCenteredGroupIdxByScroll()+r,a=this.props.actions.scrollToGroup;if(this.isAutoScrolling=!0,i)this.isLastItem()&&(s=0,o=0);else if(r>=1&&this.isLastItem()||r<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var l=!i&&(r>=1&&this.isLastItemFullyVisible()||r<=-1&&this.isFirstItemFullyVisible()),c=this.getStyles().margin||0;!l&&a(s,!1,!0,o,c),u.a.setStateAndLog(this,"Next Item",{currentIdx:this.getCenteredItemIdxByScroll()+r},(function(){e.onCurrentItemChanged(),e.isSliding=!1}))}catch(h){return console.error("Cannot proceed to the next Group",h),void this.stopAutoSlideshow()}}},s.onCurrentItemChanged=function(){this.lastCurrentItem!==this.state.currentIdx&&(this.lastCurrentItem=this.state.currentIdx,this.props.actions.eventsListener(o.a.events.CURRENT_ITEM_CHANGED,this.props.items[this.state.currentIdx])),this.removeArrowsIfNeeded()},s.stopAutoSlideshow=function(){clearInterval(this.autoSlideshowInterval)},s.startAutoSlideshowIfNeeded=function(t){var e=t.isAutoSlideshow,r=t.autoSlideshowInterval,i=t.oneRow;this.stopAutoSlideshow(),i&&e&&r>0&&this.state.isInView&&!this.state.shouldStopAutoSlideShow&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem.bind(this),1e3*r))},s.scrollToThumbnail=function(t,e){var r=this;void 0===e&&(e=400),this.props.actions.eventsListener(o.a.events.THUMBNAIL_CLICKED,this.props),this.isAutoScrolling=!0,this.startAutoSlideshowIfNeeded(this.props.styleParams),u.a.setStateAndLog(this,"Scroll to Item",{currentIdx:t},(function(){r.onCurrentItemChanged()})),this.props.actions.scrollToItem(t,!1,!0,e,0)},s.handleSlideshowKeyPress=function(t){switch(t.charCode||t.keyCode){case 38:case 37:case 33:return t.preventDefault(),this._next({direction:-1,isKeyboardNavigation:!0}),!1;case 39:case 40:case 32:case 34:return t.preventDefault(),this._next({direction:1,isKeyboardNavigation:!0}),!1}return!0},s.createThumbnails=function(t){var e=this,r=this.props.items,i=this.state.currentIdx;this.props.styleParams.slideshowLoop&&(this.ItemsForSlideshowLoopThumbnails||this.createNewItemsForSlideshowLoopThumbnails(),i+=this.numOfThumbnails,r=this.ItemsForSlideshowLoopThumbnails),u.a.isVerbose()&&console.log("creating thumbnails for idx",i);var s,a,l,c=this.props.styleParams.thumbnailSize,h=this.props.styleParams.thumbnailSize;switch(t){case"top":case"bottom":c=this.props.container.galleryWidth+this.props.styleParams.thumbnailSpacings,h=this.props.styleParams.thumbnailSize+this.props.styleParams.thumbnailSpacings,s=!0,a=Math.ceil(c/this.props.styleParams.thumbnailSize),l=Math.floor((c+this.props.styleParams.thumbnailSpacings)/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings));break;case"left":case"right":h=this.props.container.galleryHeight+2*this.props.styleParams.thumbnailSpacings,c=this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings,s=!1,a=Math.ceil(h/this.props.styleParams.thumbnailSize),l=Math.floor(h/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings))}this.firstItemIdx=i-Math.floor(a/2)-1,this.lastItemIdx=this.firstItemIdx+a,this.firstItemIdx<0&&(this.lastItemIdx-=this.firstItemIdx,this.firstItemIdx=0),this.lastItemIdx>r.length-1&&(this.firstItemIdx-=this.lastItemIdx-(r.length-1),this.firstItemIdx<0&&(this.firstItemIdx=0),this.lastItemIdx=r.length-1),(a=this.lastItemIdx-this.firstItemIdx+1)%2==0&&r.length>a&&this.lastItemIdx<r.length-1&&(a+=1,this.lastItemIdx+=1);var d,p=a*this.props.styleParams.thumbnailSize+(2*(a-1)+1)*this.props.styleParams.thumbnailSpacings,m={width:c,height:h};if(r.length<=l||i<a/2-1)switch(t){case"top":case"bottom":m.width=p+"px",m.left=0;break;case"left":case"right":m.height=p+"px",m.marginTop=0}else if(i>a/2-1&&i<r.length-a/2)switch(t){case"top":case"bottom":m.width=p+"px",m.left=(c-p)/2+"px";break;case"left":case"right":m.height=p+"px",m.marginTop=(h-p)/2+"px"}else if(i>=r.length-a/2)switch(t){case"top":case"bottom":m.left=c-p+"px",m.overflow="visible";break;case"left":case"right":m.top=h-p+"px",m.overflow="visible"}this.props.styleParams.isRTL&&(m.right=m.left,delete m.left);var f=this.props.styleParams.thumbnailSpacings;switch(this.props.styleParams.galleryThumbnailsAlignment){case"bottom":d=f+"px -"+f+"px 0 -"+f+"px";break;case"left":d="-"+f+"px "+f+"px -"+f+"px 0";break;case"top":d="0 -"+f+"px "+f+"px -"+f+"px";break;case"right":d="-"+f+"px 0 -"+f+"px "+f+"px"}var g,y=Math.floor(a/2);g=this.props.styleParams.slideshowLoop?r.slice(this.firstItemIdx,this.lastItemIdx+1):this.props.galleryStructure.galleryItems.slice(this.firstItemIdx,this.lastItemIdx+1);var b=this.props.styleParams.thumbnailSize;return n.a.createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(s?" one-row hide-scrollbars ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr ")+(this.props.styleParams.isAccessible?" accessible ":""),style:{width:c,height:h,margin:d},"data-hook":"gallery-thumbnails"},n.a.createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign(m,{width:c,height:h})},g.map((function(t,r){var a,l,c=e.props.styleParams.slideshowLoop?(l=t.itemId||t.photoId,e.props.galleryStructure.galleryItems.find((function(t){return t.id===l}))):t,h=e.props.styleParams.slideshowLoop?r===y:c.idx===i,d={width:b,height:b,margin:f,backgroundImage:"url("+c.createUrl(o.a.urlSizes.THUMBNAIL,o.a.urlTypes.HIGH_RES)+")"},p=s?((a={})[e.props.styleParams.isRTL?"right":"left"]=b*r+2*r*f,a):{top:b*r+2*r*f};return Object.assign(d,p),n.a.createElement("div",{key:"thumbnail-"+c.id+(Number.isInteger(t.loopIndex)?"-"+t.loopIndex:""),className:"thumbnailItem"+(h?" pro-gallery-thumbnails-highlighted gallery-item-container highlight"+(u.a.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":c.id,style:d,onClick:function(){return e.scrollToThumbnail(c.idx)}})}))))},s.getCenteredItemIdxByScroll=function(){var t,e=this.getScrollLeft(),r=this.props.galleryStructure.galleryItems,i=e+this.props.container.galleryWidth/2;if(0===i)t=0;else for(var n,o=0;n=r[o];o++)if(n.offset.left>i){t=o-1;break}return t>=0||(t=r.length-1),t},s.getCenteredGroupIdxByScroll=function(){var t,e=this.getScrollLeft(),r=this.props.galleryStructure.groups,i=e+this.props.container.galleryWidth/2;if(0===i)t=0;else for(var n,o=0;n=r[o];o++)if(n.left>i){t=o-1;break}return t>=0||(t=r.length-1),t},s.setCurrentItemByScroll=function(){var t=this;if(u.a.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)this.isAutoScrolling=!1;else{if(!("true"===(this.container&&this.container.getAttribute("data-scrolling")))){this.startAutoSlideshowIfNeeded(this.props.styleParams);var e=this.getCenteredItemIdxByScroll();return u.a.isUndefined(e)||u.a.setStateAndLog(this,"Set Current Item",{currentIdx:e},(function(){t.onCurrentItemChanged()})),e}this.stopAutoSlideshow()}},s.createDebugMsg=function(){return n.a.createElement(ke,this.props.debug)},s.createNavArrows=function(){var t=this,e=this.props.styleParams,r=e.isRTL,i=e.oneRow,s=e.arrowsColor,a=e.isSlideshow,l=e.slideshowInfoSize,c=e.imageMargin,h=e.arrowsSize,d=e.arrowsPosition,p=e.showArrows,m=this.state,f=m.hideLeftArrow,g=m.hideRightArrow;if(!p||this.props.galleryStructure.columns.some((function(e){var r=(e.groups.filter((function(t){return t.rendered}))||[]).reduce((function(t,e){return t+Math.max(0,e.width)}),0);return i&&t.props.container.galleryWidth>=r})))return null;var y=this.props.styleParams.arrowsSize,b={transform:"scale("+y/23+")"},v={};u.a.isMobile()&&void 0!==s&&(v.fill=s.value);var I=(100-y)/2,O={padding:"0 "+I+"px 0 "+I+"px",top:"calc(50% - 50px + "+c/2+"px - "+(a?l:0)/2+"px)"},w=i&&d===o.a.arrowsPosition.OUTSIDE_GALLERY?"-"+(h+50+10)+"px":c+"px",S={left:w},P={right:w};return[f?null:n.a.createElement("button",{className:"nav-arrows-container prev "+(u.a.isMobile()?"pro-gallery-mobile-indicator ":""),onClick:function(){return t._next({direction:-1})},"aria-label":(r?"Next":"Previous")+" Item",tabIndex:u.a.getTabIndex("slideshowPrev"),key:"nav-arrow-back","data-hook":"nav-arrow-back",style:_r(_r({},O),S)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:b},n.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M154.994,259.522L153.477,261l-18.471-18,18.473-18,1.519,1.48L138.044,243Z",transform:"translate(-133 -225)"}))),g?null:n.a.createElement("button",{className:"nav-arrows-container next",onClick:function(){return t._next({direction:1})},"aria-label":(r?"Previous":"Next")+" Item",tabIndex:u.a.getTabIndex("slideshowNext"),key:"nav-arrow-next","data-hook":"nav-arrow-next",style:_r(_r({},O),P)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:b},n.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})))]},s.createLayout=function(){var t=this,e=this.props,r=e.itemsLoveData,i=e.getVisibleItems,o=e.galleryStructure,s=e.container,a={scrollingElement:this.props.scrollingElement,totalItemsCount:this.props.totalItemsCount,scroll:this.props.scroll,styleParams:this.props.styleParams,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,noFollowForSEO:this.props.noFollowForSEO,domId:this.props.domId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,totalWidth:this.props.galleryStructure.width,actions:{eventsListener:this.props.actions.eventsListener}};return o.columns.map((function(e,o){var l={width:e.width,height:s.galleryHeight};return t.props.styleParams.isSlideshow&&Object.assign(l,{paddingBottom:t.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{"data-hook":"gallery-column",id:"gallery-horizontal-scroll",className:"gallery-horizontal-scroll gallery-column hide-scrollbars "+(t.props.styleParams.isRTL?" rtl ":" ltr ")+" "+(t.props.styleParams.scrollSnap?" scroll-snap ":"")+" ",key:"column"+o,style:l},n.a.createElement("div",{className:"gallery-horizontal-scroll-inner"},function(e){var o=!!e.galleryGroups.length&&i(e.galleryGroups,s);return o&&o.map((function(e){return!!e.rendered&&n.a.createElement(Cr,_r({allowLoop:t.props.styleParams.slideshowLoop&&t.props.galleryStructure.width>t.props.container.width,itemsLoveData:r},e.renderProps(a)))}))}(e)))}))},s.createGallery=function(){var t=this.props.styleParams.oneRow&&this.props.styleParams.arrowsPosition===o.a.arrowsPosition.OUTSIDE_GALLERY?{overflow:"visible",left:this.props.styleParams.arrowsSize+40+this.props.styleParams.imageMargin}:{},e=_r({height:this.props.container.galleryHeight,width:this.props.container.galleryWidth},t);return this.props.styleParams.isSlideshow&&Object.assign(e,{paddingBottom:this.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.styleParams.enableScroll?" slider ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr "),style:e},this.createDebugMsg(),this.createNavArrows(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers())},s.onAutoSlideShowButtonClick=function(){var t=this,e=this.state.shouldStopAutoSlideShow;this.setState({shouldStopAutoSlideShow:!e},(function(){t.startAutoSlideshowIfNeeded(t.props.styleParams)}))},s.isFullWidthGallery=function(){return this.props.container.galleryWidth>=u.a.getWindowWidth()-10},s.onAutoSlideshowAutoPlayKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}},s.calcSlideshowCounterWidth=function(){var t=this.props.totalItemsCount;return t<10?26:t<100?43:t<1e3?60:76},s.createAutoSlideShowPlayButton=function(){var t=this;if(!this.shouldCreateSlideShowPlayButton)return!1;var e=this.props.styleParams,r=e.galleryTextAlign,i=e.slideshowInfoSize,o=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),s="right"===r?{left:o+"px"}:{right:o+(this.shouldCreateSlideShowNumbers?this.calcSlideshowCounterWidth():0)+"px"};return n.a.createElement("button",{className:"auto-slideshow-button",onClick:function(){t.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.shouldStopAutoSlideShow,tabIndex:0,style:_r({top:"calc(100% - "+i+"px + 3px)"},s)},this.state.shouldStopAutoSlideShow?n.a.createElement(kr,{width:"10px",height:"100%"}):n.a.createElement(Mr,{width:"10px",height:"100%"}))},s.createSlideShowNumbers=function(){if(!this.shouldCreateSlideShowNumbers)return!1;var t=this.props,e=t.totalItemsCount,r=t.styleParams,i=r.galleryTextAlign,o=r.slideshowInfoSize,s=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),a=this.shouldCreateSlideShowPlayButton?s+25:s,l="right"===i?{left:a+"px"}:{right:s+"px"};return n.a.createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:_r({top:"calc(100% - "+o+"px + 3px)"},l)},n.a.createElement("div",null,this.state.currentIdx%e+1+"/"+e))},s.getThumbnails=function(){var t=this.props.styleParams.hasThumbnails,e=this.props.styleParams.galleryThumbnailsAlignment,r=!!t&&this.createThumbnails(e),i=[];switch(e){case"top":case"left":i[0]=r,i[1]=!1;break;case"right":case"bottom":i[0]=!1,i[1]=r}return i},s.getClassNames=function(){var t="pro-gallery-parent-container";return this.props.styleParams.isSlideshow?t+=" gallery-slideshow":this.props.styleParams.isSlider?t+=" gallery-slider":this.props.styleParams.hasThumbnails?t+=" gallery-thumbnails":this.props.styleParams.isColumns&&(t+=" gallery-columns"),this.isFullWidthGallery()&&(t+=" streched"),t},s.getStyles=function(){return{margin:-1*(this.props.styleParams.imageMargin-this.props.styleParams.galleryMargin)}},s.getScrollLeft=function(){return this.container?(this.props.styleParams.isRTL?-1:1)*this.container.scrollLeft:0},s.componentWillReceiveProps=function(t){var e=this;t.items&&(this.ItemsForSlideshowLoopThumbnails=!1),this.props.isInDisplay!==t.isInDisplay&&this.setState({isInView:t.isInDisplay},(function(){return e.startAutoSlideshowIfNeeded(t.styleParams)})),(Object(Ht.a)()||Object(Ht.d)())&&(this.props.styleParams.isAutoSlideshow===t.styleParams.isAutoSlideshow&&this.props.styleParams.autoSlideshowInterval===t.styleParams.autoSlideshowInterval||this.startAutoSlideshowIfNeeded(t.styleParams));var r=5===t.styleParams.galleryLayout&&t.styleParams.isSlideshow&&t.styleParams.isAutoSlideshow;this.shouldCreateSlideShowPlayButton=r&&t.styleParams.playButtonForAutoSlideShow,this.shouldCreateSlideShowNumbers=r&&t.styleParams.allowSlideshowCounter},s.removeArrowsIfNeeded=function(){var t=this;Lr(this.props.container)&&setTimeout((function(){var e=t.props.styleParams.isRTL,r=t.state,i=r.hideLeftArrow,n=r.hideRightArrow,o=t.isScrollStart(),s=t.isFirstItem(),a=t.isScrollEnd(),l=t.isLastItem(),c=o||s,h=a||l,u=!e&&c||e&&h,d=e&&c||!e&&h;(!!u!=!!i||!!d!=!!n)&&t.setState({hideLeftArrow:!!u,hideRightArrow:!!d})}),50)},s.navigationOutHandler=function(){u.a.setStateAndLog(this,"Next Item",{isInView:!1}),this.stopAutoSlideshow()},s.navigationInHandler=function(){u.a.setStateAndLog(this,"Next Item",{isInView:!0}),this.startAutoSlideshowIfNeeded(this.props.styleParams)},s.componentDidMount=function(){d.a.addEventListener("gallery_navigation_out",this.navigationOutHandler),d.a.addEventListener("gallery_navigation_in",this.navigationInHandler),this.container=d.a.document.querySelector("#pro-gallery-"+this.props.domId+" #gallery-horizontal-scroll"),this.container&&this.container.addEventListener("scroll",this._setCurrentItemByScroll),this.state.currentIdx>0?(this.props.actions.scrollToItem(this.state.currentIdx),this.onCurrentItemChanged()):this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.styleParams)},s.componentWillUnmount=function(){d.a.removeEventListener("gallery_navigation_out",this.navigationOutHandler),d.a.removeEventListener("gallery_navigation_in",this.navigationInHandler),this.container&&this.container.removeEventListener("scroll",this._setCurrentItemByScroll)},s.render=function(){u.a.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));var t=this.createGallery(),e=this.getThumbnails();return u.a.isVerbose()&&console.timeEnd("Rendering Gallery took "),n.a.createElement("div",{className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress,role:"region","aria-label":this.props.proGalleryRegionLabel},e[0],t,e[1])},i}(je.a),zr={galleryType:void 0,groupSize:void 0,showArrows:void 0,cubeImages:void 0,cubeType:void 0,cubeRatio:void 0,isVertical:void 0,gallerySize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,galleryMargin:void 0,scatter:void 0,chooseBestGroup:void 0,smartCrop:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlider:void 0,isColumns:void 0,isSlideshow:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0};var Br=function(t,e){var r=t.galleryType,i=t.galleryLayout;if(!u.a.isUndefined(r)&&u.a.isUndefined(i)){(t=Object.assign(t,function(t){var e,r=t.galleryType,i=t.gallerySize,n=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*i+500),fixedColumns:0}},o=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*i+500),fixedColumns:0}},s=function(){return{cubeImages:!0,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8.5*i+150),fixedColumns:0,isGrid:!0}},l=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8*i+200),fixedColumns:0}},c=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:Math.round(5*i+200),fixedColumns:0}},h=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:function(){return a.a.getGalleryWidth()},fixedColumns:1}},u=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:function(){return a.a.getGalleryHeight()},fixedColumns:0}},d=function(){return{showArrows:!0,cubeImages:!0,cubeRatio:function(){return a.a.getGalleryRatio()},isVertical:!0,targetItemSize:function(){return a.a.getGalleryWidth()},galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:1}};switch(r){case"-1":e={};break;case"0":e=n();break;default:case"1":e=o();break;case"2":e=s();break;case"3":e=l();break;case"4":e=c();break;case"5":e=h();break;case"6":e=u();break;case"7":e=d()}return e}(t))).layoutsVersion=1;t.selectedLayout=["galleryType","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(e){return String(t[e])})).join("|")}else{u.a.isVerbose()&&console.log("Using galleryLayout for defaults",t);(t=Object.assign({},zr,t)).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(e){return String(t[e])})).join("|"),t.layoutsVersion=2,t.selectedLayoutV2=i,u.a.isVerbose()&&console.log("new selected layout",t.selectedLayout)}return t=Object.assign(t,C(t,e))},Fr=r(274);var Wr=function(t){var e,r;function i(e){var r;return(r=t.call(this)||this).state={scrollTop:0,scrollLeft:0},r.debouncedOnScroll=u.a.debounce(e.onScroll,50),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.removeScrollListener=function(){if(this.scrollEventListenerSet){var t=this.props.scrollingElement;try{t.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(e){}try{this.props.oneRow&&t.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(e){}this.scrollEventListenerSet=!1}},o.initScrollListener=function(){var t=this;this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;var e=this.props.oneRow,r=this.props.scrollingElement;this.onHorizontalScroll=function(r){t.props.setGotFirstScrollIfNeeded();var i=r.currentTarget||r.target||r,n=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);t.props.isRTL&&(o=t.props.totalWidth-o),o>=0&&e&&(t.setState({scrollTop:o,scrollLeft:o}),t.props.getMoreItemsIfNeeded(o),t.debouncedOnScroll({top:n,left:o}))};try{r.horizontal().addEventListener("scroll",this.onHorizontalScroll)}catch(i){}this.onVerticalScroll=function(r){t.props.setGotFirstScrollIfNeeded();var i=r.currentTarget||r.target||r,n=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);t.props.isRTL&&(o=t.props.totalWidth-o),n>=0&&(e||(t.setState({scrollTop:n}),t.props.getMoreItemsIfNeeded(n),t.debouncedOnScroll({top:n,left:o})))};try{r.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(i){}},o.componentWillUnmount=function(){this.removeScrollListener()},o.componentDidMount=function(){this.initScrollListener()},o.componentWillReceiveProps=function(t){for(var e=!1,r=0,i=["domId","oneRow","isRTL","totalWidth","scrollBase"];r<i.length;r++){var n=i[r];if(t[n]!==this.props[n]){e=!0;break}}e&&this.initScrollListener()},o.render=function(){var t=!this.props.oneRow&&this.props.scrollBase>0?this.props.scrollBase:0,e=this.state.scrollTop-t,r=this.props.domId;return n.a.createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":t,"data-scroll-top":this.state.scrollTop,className:Ve.calcScrollClasses(r,e),style:{display:"none"}})},i}(je.a),Vr=function(t,e,r){void 0===t&&(t="");var i=r.isRTL,n="";return e.forEach((function(e){var r=function(t,e){return"#pro-gallery-"+t+" #"+Ve.getSellectorDomId(e)}(t,e),o=function(t){return{top:t.offset.top,left:t.offset.left,width:t.width+t.infoWidth,height:t.height+t.infoHeight,innerHeight:t.height}}(e),s="top:"+o.top+"px;",a=i?"right:"+o.left+"px;left:auto;":"left:"+o.left+"px;",l="width:"+o.width+"px;",c="height:"+o.height+"px;";n+=r+" {"+s+a+l+c+"}"})),n},Ur=function(t){var e=t.galleryItems,r=t.layoutParams,i=t.domId,n=[];return n.push(Vr(i,e,r.styleParams)),n},Kr=function(){function t(t){this.setPlayingIdxState=t,this.handleEvent=function(){},this.trigger={SCROLL:function(){},INIT_SCROLL:function(){}},this.stop=function(){},this.initializePlayState=function(){}}var e=t.prototype;return e.initVideoScrollHelperIfNeeded=function(t,e){var i=this;if(e.some((function(t){return t.metaData&&"video"===t.metaData.type||t.metadata&&"video"===t.metadata.type}))){var n={setPlayingVideos:Object(Ht.a)()?function(){}:this.setPlayingIdxState};r.e(79).then(r.bind(null,1020)).then((function(e){Object.assign(i,new e.default(n)),i.updateGalleryStructure(t),i.initializePlayState()})).catch((function(t){console.error("Failed to load videoScrollHelper. error: "+t)}))}},e.updateGalleryStructure=function(t,e,r){e&&this.initVideoScrollHelperIfNeeded(t,r)},t}();function Yr(){return(Yr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function qr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(r),!0).forEach((function(e){Jr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $r=function(t){var e,r;function i(e){var r;r=t.call(this,e)||this,u.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",d.a.isMock),r.getMoreItemsIfNeeded=r.getMoreItemsIfNeeded.bind(Zr(r)),r.setGotFirstScrollIfNeeded=r.setGotFirstScrollIfNeeded.bind(Zr(r)),r.toggleLoadMoreItems=r.toggleLoadMoreItems.bind(Zr(r)),r.scrollToItem=r.scrollToItem.bind(Zr(r)),r.scrollToGroup=r.scrollToGroup.bind(Zr(r)),r._scrollingElement=r.getScrollingElement(),r.duplicateGalleryItems=r.duplicateGalleryItems.bind(Zr(r)),r.eventsListener=r.eventsListener.bind(Zr(r)),r.onGalleryScroll=r.onGalleryScroll.bind(Zr(r)),r.setPlayingIdxState=r.setPlayingIdxState.bind(Zr(r)),r.getVisibleItems=r.getVisibleItems.bind(Zr(r));var i={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};if(r.state=i,r.videoScrollHelper=new Kr(r.setPlayingIdxState),r.items=[],r.itemsDimensions={},r.preloadedItems={},r.layoutCss=[],u.a.isSSR()){r.initialGalleryState=r.reCreateGalleryExpensively(e,i);try{r.galleryInitialStateJson=JSON.stringify(r.initialGalleryState)}catch(s){r.galleryInitialStateJson=null}}else try{if(u.a.shouldDebug("no_hydrate"))r.initialGalleryState={};else{var n=JSON.parse(d.a.document.querySelector("#pro-gallery-"+e.domId+" #ssr-state-to-hydrate").innerHTML);r.reCreateGalleryFromState({items:e.items,styles:n.styles,container:n.container,gotFirstScrollEvent:i.gotFirstScrollEvent}),r.initialGalleryState=n}}catch(s){r.initialGalleryState={};var o=r.reCreateGalleryExpensively(e);Object.keys(o).length>0&&(r.initialGalleryState=o)}return r.state=Xr(Xr({},i),r.initialGalleryState),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.getVisibleItems=function(t,e){var r=this.state.gotFirstScrollEvent,i=d.a.scrollY,n=e.galleryHeight,o=e.scrollBase,s=e.galleryWidth;if(Object(Ht.e)()||Object(Ht.a)()||Object(Ht.d)()||u.a.isSSR()||r||i>0||this.props.currentIdx>0)return t;var a=t;try{var l=d.a.innerHeight,c=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:o+n,h=i+l,p=Math.min(c,h)-o;(a=p<0?[]:this.isVerticalGallery()?t.filter((function(t){return t.offset.top<=p})):t.filter((function(t){return t.left<=s+20}))).length<2&&a.length<t.length&&(a=t.slice(0,2))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=t}return a},s.componentDidMount=function(){this.loadItemsDimensionsIfNeeded(),this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(o.a.events.APP_LOADED,{}),this.getMoreItemsIfNeeded(0),this.videoScrollHelper.initializePlayState();try{"function"==typeof d.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=d.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(t){console.error("could not create 'current_hover_change' customEvent. Error =",t)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},s.componentWillReceiveProps=function(t){var e=this;!this.currentHoverChangeEvent.domId&&t.domId&&(this.currentHoverChangeEvent.domId=t.domId),this.props.currentIdx!==t.currentIdx&&this.scrollToItem(t.currentIdx,!1,!0,0);var r=function(t){return{domId:t.domId,styles:t.styles,container:t.container,items:t.items,watermark:t.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var i,n=!0;try{var o=r(this.props),s=r(t);n=JSON.stringify(o)!==JSON.stringify(s),u.a.isVerbose()&&n&&console.log("New props arrived",u.a.printableObjectsDiff(o,s))}catch(a){console.error("Cannot compare props",a)}n&&(i=e.reCreateGalleryExpensively(t),Object.keys(i).length>0&&e.setState(i,(function(){e.handleNewGalleryStructure()})),t.currentIdx&&t.currentIdx>0&&this.scrollToItem(t.currentIdx,!1,!0,0),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))},s.loadItemsDimensionsIfNeeded=function(){var t=this;if(!u.a.isSSR()&&this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0){var e=this.galleryStructure.galleryItems.filter((function(t){try{return t.isVisible&&t.isDimensionless&&!t.isPreloaded}catch(e){return!1}}));if(e.length){var r=u.a.debounce((function(){var e=t.props,r={items:e.items,styles:e.styles,container:e.container,watermark:e.watermark,resizeMediaUrl:e.resizeMediaUrl,itemsDimensions:t.itemsDimensions},i=t.reCreateGalleryExpensively(r,t.state);Object.keys(i).length>0&&t.setState(i,(function(){t.handleNewGalleryStructure()}))}),500);e.forEach((function(e,i){e.isPreloaded=!0,function(e,r){if(e&&e.itemId&&e.isGalleryItem)try{var i=e.itemId;if(t.itemsDimensions[i])return;if(void 0!==t.preloadedItems[i])return;t.preloadedItems[i]=new Image,u.a.isVerbose()&&console.log("Preloading item #"+e),"string"==typeof e.preload_url?t.preloadedItems[i].src=e.preload_url:t.preloadedItems[i].src=e.createUrl(o.a.urlSizes.PRELOAD,o.a.urlTypes.LOW_RES),"function"==typeof r&&(t.preloadedItems[i].onload=function(t){r(t)}),t.preloadedItems[i]}catch(n){return void console.error("Could not preload item",e,n)}}(e,(function(n){try{u.a.isVerbose()&&console.log("item loaded event",i,n);var o=n.srcElement,s=t.items.find((function(t){return t.itemId===e.itemId}));if(s){var a={width:o.width,height:o.height,measured:!0};Object.assign(s,a),"object"==typeof s.metaData&&Object.assign(s.metaData,a),t.itemsDimensions[s.itemId]=a,r()}}catch(l){console.error("Could not calc element dimensions",l)}}))}))}}},s.handleNavigation=function(t){t?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},s.handleNewGalleryStructure=function(){var t=this.state,e=t.container,r=t.needToHandleShowMoreClick,i=t.initialGalleryHeight,n=this.state.styles,s=this.items.length,a=this.layout.height,l=this.layout.items,c="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!c&&r){h=e.height+(i-138)}var u={numOfItems:s,container:e,styleParams:n,layoutHeight:a,layoutItems:l,isInfinite:c,updatedHeight:h};this.eventsListener(o.a.events.GALLERY_CHANGE,u),r&&this.setState({needToHandleShowMoreClick:!1})},s.reCreateGalleryFromState=function(t){var e=t.items,r=t.styles,i=t.container;this.items=e.map((function(t){return Te.convertDtoToLayoutItem(t)}));var n={items:this.items,container:i,styleParams:r,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};this.layouter=new ge(n),this.layout=this.layouter.createLayout(n),this.galleryStructure=Te.convertToGalleryItems(this.layout,{thumbnailSize:r.thumbnailSize,sharpParams:r.sharpParams,resizeMediaUrl:this.props.resizeMediaUrl}),this.videoScrollHelper.updateGalleryStructure({galleryStructure:this.galleryStructure,scrollBase:i.scrollBase,videoPlay:r.videoPlay,videoLoop:r.videoLoop,itemClick:r.itemClick,oneRow:r.oneRow},!0,this.items),!Object(Ht.e)()&&(Object(Ht.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:r}),this.createCssLayoutsIfNeeded(n),this.createDynamicStyles(r)},s.createCssLayoutsIfNeeded=function(t){var e=this.props.settings,r=(void 0===e?{}:e).avoidInlineStyles;(void 0===r||r)&&(this.layoutCss=Ur({layoutParams:t,isMobile:u.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems}))},s.reCreateGalleryExpensively=function(t,e){var r=this,i=t.items,n=t.styles,o=t.container,s=t.watermark,l=t.itemsDimensions,c=t.customInfoRenderer,h=t.resizeMediaUrl;u.a.isVerbose()&&(console.count("PROGALLERY [COUNT] reCreateGalleryExpensively"),console.time("PROGALLERY [TIME] reCreateGalleryExpensively"));var d,p,m=e||this.state||{},f=!!c,g=n&&Br(n,f),y=function(t,e){var r,i,n=t.items,o=t.styles,s=t.container,a=t.watermark,l=t.itemsDimensions,c={items:"",itemsMetadata:"",itemsAdded:"",styles:"",container:""},h={items:(r=n,i=e.items,r===e.items?(c.items="items are the same object.",!1):r?!i||i&&0===i.length?(c.items="old items do not exist.",!0):i.length!==r.length?(c.items="more new items than old items (or vice versa).",!0):r.reduce((function(t,e,r){var n=i[r];try{var o=t||!e||!n||e.itemId!==n.itemId||e.mediaUrl!==n.mediaUrl||e.metaData&&n.metaData&&e.metaData.type!==n.metaData.type;return o&&(c.items="items #"+r+" id was changed."),o}catch(s){return c.items="an error occured",!0}}),!1):(c.items="new items do not exist.",!1)),addedItems:function(t){var r=e.items;if(t===e.items)return c.itemsAdded="items are the same object.",!1;if(!t)return c.itemsAdded="new items do not exist.",!1;if(!r||r&&0===r.length)return c.itemsAdded="old items do not exist.",!1;if(r.length>=t.length)return c.itemsAdded="more old items than new items.",!1;var i=r.reduce((function(e,r,i){return e&&r.id===t[i].itemId}),!0);return i||(c.itemsAdded="items ids were changed. "),i}(n),itemsMetadata:function(t){var r=e.items;return t?e.items&&r?t.reduce((function(t,e,i){var n=r[i];try{var o=t||JSON.stringify(e.metaData)!==JSON.stringify(n.metaData);return o&&(c.itemsMetadata="item #"+i+" data was changed."),o}catch(s){return c.itemsMetadata="an error occured.",!0}}),!1):(c.itemsMetadata="old items do not exist.",!0):(c.itemsMetadata="new items do not exist.",!1)}(n),styles:function(t){if(!t)return c.styles="no new styles.",!1;if(!e.styles)return c.styles="no old styles.",!0;try{var r=JSON.stringify(Object.entries(t).sort())!==JSON.stringify(Object.entries(e.styles).sort());return r&&(c.styles="styles were changed."),r}catch(i){return console.error("Could not compare styles",i),!1}}(o),watermark:function(t){var r=e.container;if(t){if(!r)return c.watermark="first watermark arrived",!0;try{var i=JSON.stringify(Object.entries(r).sort())!==JSON.stringify(Object.entries(t).sort());return i&&(c.watermark="watermark changed."),i}catch(n){return console.error("Could not compare watermarks",n),!1}}return!1}(a),container:function(t){if(!e.styles||!e.container)return c.container="no old container or styles. ",!0;if(!t)return c.container="no new container.",!1;var r={height:!(!e.styles.oneRow&&e.styles.enableInfiniteScroll||!t.height||t.height===e.container.height),width:!e.container||!!t.width&&t.width!==e.container.width,scrollBase:!!t.scrollBase&&t.scrollBase!==e.container.scrollBase};return Object.keys(r).reduce((function(t,e){return r[e]&&(c.container+="container."+e+" has changed. "),t||r[e]}),!1)}(s),itemsDimensions:!!l};return h.str=Object.entries(h).map((function(t){var e=t[0];return t[1]?e:""})).filter((function(t){return!!t})).join("|"),h.any=h.str.length>0,h.reason=c,h}({items:i,styles:g,container:o,watermark:s,itemsDimensions:l},Xr(Xr({},m),{},{items:this.items})),b={};if(u.a.isVerbose()&&console.log("PROGALLERY reCreateGalleryExpensively",y,{items:i,styles:n,container:o,watermark:s}),!y.itemsDimensions&&!y.itemsMetadata||y.items||y.addedItems?y.items&&!y.addedItems?(this.items=i.map((function(t){return Object.assign(Te.convertDtoToLayoutItem(t),Xr({},r.itemsDimensions[t.itemId]))})),b.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):y.addedItems&&(this.items=this.items.concat(i.slice(this.items.length).map((function(t){return Te.convertDtoToLayoutItem(t)}))),b.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):(this.items=this.items.map((function(t,e){var n=Object.assign({},i[e].metaData);return Object.assign(t,{metaData:n},Xr({},r.itemsDimensions[t.itemId]))})),b.items=this.items.map((function(t){return t.itemId}))),y.styles||y.container?(n=n||m.styles,o=o||m.container,a.a.updateParams({styles:n,container:o,domId:this.props.domId}),d=Br(n,f),a.a.updateParams({styles:d}),p=Object.assign({},o,a.a.getGalleryDimensions()),a.a.updateParams({container:p}),b.styles=d,b.container=p):(d=m.styles,p=m.container),!this.galleryStructure||y.any){u.a.isVerbose()&&console.count("PROGALLERY [COUNT] - reCreateGalleryExpensively (isNew)");var v={items:this.items,container:p,styleParams:d,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};this.layouter&&y.addedItems?v.options.useExistingLayout=!0:(v.options.createLayoutOnInit=!1,this.layouter=new ge(v)),this.layout=this.layouter.createLayout(v);var I={watermark:s,sharpParams:d.sharpParams,thumbnailSize:n.thumbnailSize,resizeMediaUrl:h,lastVisibleItemIdx:this.lastVisibleItemIdx},O=this.galleryStructure||this.layout;y.addedItems?this.galleryStructure=Te.convertExistingStructureToGalleryItems(O,this.layout,I):this.galleryStructure=Te.convertToGalleryItems(this.layout,I,O.galleryItems);var w={galleryStructure:this.galleryStructure,scrollBase:p.scrollBase,videoPlay:d.videoPlay,itemClick:d.itemClick,oneRow:d.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(w,!u.a.isSSR()&&(y.addedItems||y.items),this.items),y.items&&this.loadItemsDimensionsIfNeeded(),this.createCssLayoutsIfNeeded(v),this.createDynamicStyles(d),!Object(Ht.e)()&&(Object(Ht.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:d})}return u.a.isVerbose()&&(console.log("PROGALLERY [RENDERS] - reCreateGalleryExpensively",{isNew:y},{items:i,styles:n,container:o,watermark:s}),console.timeEnd("PROGALLERY [TIME] reCreateGalleryExpensively")),y.any?b:{}},s.getScrollingElement=function(){var t=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return t.props.scrollingElement}:function(){return d.a},horizontal:function(){return d.a.document.querySelector("#pro-gallery-"+t.props.domId+" #gallery-horizontal-scroll")}}},s.scrollToItem=function(t,e,r,i,n){if(void 0===i&&(i=0),t>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Fr.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Ht.a)()," isPreviewMode =",Object(Ht.d)()," isSiteMode =",Object(Ht.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.scrollToGroup=function(t,e,r,i,n){if(void 0===i&&(i=0),t>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:t,fixedScroll:e,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Fr.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Ht.a)()," isPreviewMode =",Object(Ht.d)()," isSiteMode =",Object(Ht.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.containerInfiniteGrowthDirection=function(t){void 0===t&&(t=!1);var e=t||this.state.styles,r=this.props.styles.enableInfiniteScroll,i=this.state.showMoreClickedAtLeastOnce,n=e.oneRow,o=e.loadMoreAmount;return n?"horizontal":r||i&&"all"===o?"vertical":"none"},s.setPlayingIdxState=function(t,e){this.setState({playingVideoIdx:t,nextVideoIdx:e})},s.onGalleryScroll=function(t){var e=t.top,r=t.left;this.videoScrollHelper.trigger.SCROLL({top:e,left:r})},s.getScrollCss=function(t){var e=t.domId,r=t.items,i=t.styleParams;this.scrollCss=Ve.calcScrollCss({items:r,styleParams:i,domId:e})},s.createDynamicStyles=function(t){var e=t.overlayBackground,r=Object(Ht.c)();this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(e?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+e+" !important}":"")+"\n    ").trim()},s.toggleLoadMoreItems=function(){var t=this;this.eventsListener(o.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var e=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:e,needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}))}},s.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},s.duplicateGalleryItems=function(){var t,e=this;this.itemsToDuplicate||(this.itemsToDuplicate=this.items);var r=(t=this.items).concat.apply(t,this.itemsToDuplicate.slice(0,this.props.totalItemsCount)),i=this.reCreateGalleryExpensively(Xr(Xr({},this.props),{},{items:r}));Object.keys(i).length>0&&this.setState(i,(function(){e.handleNewGalleryStructure()}))},s.eventsListener=function(t,e,r){this.videoScrollHelper.handleEvent({eventName:t,eventData:e}),t===o.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,d.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e,r)},s.getMoreItemsIfNeeded=function(t){var e=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var r=this.state.styles.oneRow,i=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),n=d.a.screen[r?"width":"height"];i-(t+n)<(t?3*n:0)&&(this.state.items.length<this.props.totalItemsCount?(this.gettingMoreItems=!0,this.eventsListener(o.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){e.gettingMoreItems=!1}),2e3)):this.state.styles.slideshowLoop&&this.duplicateGalleryItems())}},s.canRender=function(){var t=this.state.container&&this.state.styles&&this.state.items;return!t&&u.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",this.state,t,this.state.container,this.state.styles,this.state.items),t},s.isVerticalGallery=function(){return!this.state.styles.oneRow},s.render=function(){if(!this.canRender())return null;var t=this.isVerticalGallery()?Sr:Hr;u.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.state.container.scrollBase,{state:this.state,items:this.items}));var e="none"===this.containerInfiniteGrowthDirection(),r=this.layouter?this.layouter.findNeighborItem:function(){};return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container",id:"pro-gallery-inner-container-"+this.props.domId},n.a.createElement(Wr,{domId:this.props.domId,oneRow:this.state.styles.oneRow,isRTL:this.state.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.state.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),n.a.createElement(t,Yr({isInDisplay:this.props.isInDisplay,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,items:this.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.state.styles,container:this.state.container,watermark:this.props.watermark,settings:this.props.settings,displayShowMore:e,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:Xr(Xr({},this.props.actions),{},{findNeighborItem:r,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup,duplicateGalleryItems:this.duplicateGalleryItems})},this.props.gallery)),this.galleryInitialStateJson&&n.a.createElement("div",{id:"ssr-state-to-hydrate",style:{display:"none"}},this.galleryInitialStateJson),n.a.createElement("div",{"data-key":"dynamic-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(t,e){return n.a.createElement("style",{id:"layoutCss-"+e,key:"layoutCss-"+e,dangerouslySetInnerHTML:{__html:t}})})),(this.scrollCss||[]).filter(Boolean).map((function(t,e){return n.a.createElement("style",{id:"scrollCss_"+e,key:"scrollCss_"+e,dangerouslySetInnerHTML:{__html:t}})})),!!this.dynamicStyles&&n.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})))},i}(n.a.Component);function Qr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qr(Object(r),!0).forEach((function(e){ei(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ei(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ri=function(t){var e,r;function i(e){var r;return(r=t.call(this)||this).init(e),u.a.isLocal()&&!u.a.isTest()&&console.log("PRO GALLERY DEV"),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.init=function(t){void 0!==t.viewMode&&Ht.g.setViewMode(t.viewMode),void 0!==t.formFactor&&Ht.g.setFormFactor(t.formFactor)},o.componentWillReceiveProps=function(t){this.props.viewMode!==t.viewMode&&(u.a.dumpCache(),Ht.g.setViewMode(t.viewMode)),this.props.formFactor!==t.formFactor&&(u.a.dumpCache(),Ht.g.setFormFactor(t.formFactor))},o.renderProps=function(){return ti(ti({},this.props),{},{domId:this.props.domId,items:this.props.items||[],watermarkData:this.props.watermarkData,settings:this.props.settings||{},offsetTop:this.props.offsetTop,itemsLoveData:this.props.itemsLoveData||{},proGalleryRegionLabel:this.props.proGalleryRegionLabel||"Gallery. you can navigate the gallery with keyboard arrow keys."})},o.containerProps=function(){return{id:"pro-gallery-"+this.props.domId,className:"pro-gallery"}},o.render=function(){return n.a.createElement("div",this.containerProps(),n.a.createElement($r,this.renderProps()))},i}(je.a);function ii(){return(ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function ni(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ni(Object(r),!0).forEach((function(e){si(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function si(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ai(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var li=function(t){var e,r;function i(){var e;return(e=t.call(this)||this).measureIfNeeded=e.measureIfNeeded.bind(ai(e)),e.eventsListener=e.eventsListener.bind(ai(e)),e.state={itemStyle:{},numberOfColumns:0},e}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){this.eventsListener(o.a.events.APP_LOADED,{}),this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(this.props)})},s.componentWillReceiveProps=function(t){this.props.container.galleryWidth!==t.container.galleryWidth&&(this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(t)}))},s.createGalleryStyle=function(){var t=this.props.styles,e=t.gridStyle,r=t.fixedColumns,i=t.imageMargin,n=t.cubeImages,s=this.calcItemContainerSize(),a=e===o.a.gridStyle.SET_ITEMS_PER_ROW?r:this.state.numberOfColumns;return oi({gridTemplateColumns:a>0?"repeat("+a+", 1fr)":"repeat(auto-fit, minmax("+s.width+"px, 1fr))",gridGap:i+"px"},!1===n?{gridAutoRows:"minmax(max-content, 1px)",gridGap:0,columnGap:i+"px"}:{})},s.calcNumberOfColumns=function(t){var e=t.container.galleryWidth;if(!e)return 0;var r=this.calcItemContainerSize(void 0,t),i=1;if(t.styles.fixedColumns>0)i=t.styles.fixedColumns;else{var n=e/r.width,o=[Math.floor,Math.ceil],s=o.map((function(t){return t(n)})).map((function(t){return Math.round(e/t)})).map((function(t){return Math.abs(r.width-t)}));i=(0,o[s.indexOf(Math.min.apply(Math,s))])(n)||1}return i},s.calcItemContainerSize=function(t,e){var r=e||this.props,i=r.styles,n=r.container,s=i.targetItemSize,a=i.cubeImages,l=i.titlePlacement,c=i.textBoxHeight,h=i.cubeRatio,u=i.imageMargin,d=n.width>0?Math.min(s,n.width):s,p=d/h;if(t&&!1===a){var m=ci(t,"width")/ci(t,"height");p=Math.round((d-u)/m)}return o.a.hasVerticalPlacement(l)&&(p+=c),{width:d,height:p}},s.createItemContainerStyle=function(t,e){var r=this.state.itemStyle.height,i=void 0===r?null:r,n=this.props.styles,o=n.imageMargin,s=n.cubeImages,a=this.calcItemContainerSize(e),l=!1===s?{gridRowEnd:"span "+a.height,marginBottom:o+"px",height:"fit-content"}:{};return oi(oi(oi({},this.createItemContainerBorder()),i?{height:"auto"}:{height:"auto",textAlign:"center"}),{},{cursor:t?"pointer":"default"},l)},s.createItemContainerBorder=function(){var t=this.props.styles;if(t.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND)return{borderStyle:"solid",borderWidth:t.itemBorderWidth,borderColor:u.a.formatColor(t.itemBorderColor),borderRadius:t.itemBorderRadius}},s.createImageWrapperStyle=function(t){var e=this.props.styles,r=e.cubeType,i=e.cubeImages;if(this.state.itemStyle.width&&r!==o.a.resizeMethods.FIT){var n=this.calcItemContainerSize(t);return oi({},!1===i?n:this.state.itemStyle)}if(!(this.state.itemStyle.width>0))return{width:"100%",height:"auto"};var s=this.state.itemStyle,a=s.width,l=s.height,c=ci(t,"width")/ci(t,"height");if(c>a/l){var h=a/c;return{width:a,height:h,marginTop:(l-h)/2}}var u=l*c;return{height:l,width:u,marginLeft:(a-u)/2}},s.resizeUrl=function(t){var e=t.item,r=this.props,i=r.styles,n=r.resizeMediaUrl,o=i.cubeType,s=i.imageQuality,a=i.cubeRatio,l=i.cubeImages,c=this.state.itemStyle,h=e.url,u=e.mediaUrl,d=e.src,p=h||u||d,m=this.calcItemContainerSize(e),f=!0===l&&c.width||m.width,g=!0===l&&c.height||m.height/a,y=!(c.width>0)?{quality:30,blur:30}:{quality:s};if("function"!=typeof n)return String(p);try{return n({maxWidth:ci(e,"width"),maxHeight:ci(e,"height")},p,o,f,g,y,!1,!1)||""}catch(b){return String(p)}},s.createImageStyle=function(t){var e=t.width,r=void 0===e?"100%":e,i=t.height;return oi(oi({width:r,height:void 0===i?"auto":i},u.a.isiOS()&&!this.props.styles.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{}),this.createImageBorder())},s.createImageBorder=function(){var t=this.props.styles;if(t.imageInfoType!==o.a.infoType.ATTACHED_BACKGROUND)return{boxSizing:"border-box",borderStyle:"solid",borderWidth:t.itemBorderWidth,borderColor:u.a.formatColor(t.itemBorderColor),borderRadius:t.itemBorderRadius}},s.createLinkParams=function(t){var e=this.props,r=e.noFollowForSEO,i=e.styles.itemClick,n=t.directLink||{},s=n.url,a=n.target,l=Object(Ht.e)()&&r?{rel:"nofollow"}:{};return!!!(!s||!a||i!==o.a.itemClick.LINK)&&oi({href:s,target:a},l)},s.measureIfNeeded=function(t){var e=this.props.styles;!this.node&&t&&(this.node=t),this.node&&this.node.clientWidth!==this.clientWidth&&(this.clientWidth=this.node.clientWidth,this.setState({itemStyle:{width:this.clientWidth,height:Math.round(this.clientWidth/e.cubeRatio)}}))},s.fixStylesIfNeeded=function(t){return oi(oi({},t),{},{externalInfoHeight:t.textBoxHeight})},s.isMetadataLinkExists=function(t){var e=t.metadata||t.metaData;return!(!e||!e.link)},s.eventsListener=function(t,e){"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e)},s.render=function(){var t=this,e=this.eventsListener,r=this.props,i=r.customInfoRenderer,s=r.items,a=this.fixStylesIfNeeded(r.styles),l=a.itemClick;return n.a.createElement("div",{"data-hook":"lean-gallery",className:["pro-gallery","inline-styles","lean-gallery-gallery"].join(" "),style:this.createGalleryStyle()},s.map((function(r,s){var c=t.createLinkParams(r),h=c&&l===o.a.itemClick.LINK||[o.a.itemClick.EXPAND,o.a.itemClick.FULLSCREEN].includes(l)||t.isMetadataLinkExists(r),u=oi(oi({},r),{},{id:r.itemId,idx:s}),d=r.metaData||r.metadata,p=oi(oi(oi({},u),d),{},{style:t.state.itemStyle,styleParams:a}),m=t.createImageWrapperStyle(r),f=a.textBoxHeight,g=function(t){return"function"==typeof i&&a.titlePlacement===t&&n.a.createElement("div",{className:"gallery-item-common-info gallery-item-"+(t===o.a.placements.SHOW_ABOVE?"top":"bottom")+"-info",style:$e(t,a,f)},i(p,t))};return n.a.createElement("a",ii({className:["gallery-item-container","lean-gallery-cell"].join(" "),style:t.createItemContainerStyle(h,r),ref:function(r){t.measureIfNeeded(r),e(o.a.events.ITEM_CREATED,u)},key:"item-container-"+s},c),g(o.a.placements.SHOW_ABOVE),n.a.createElement("div",{style:m,className:["gallery-item-hover","lean-gallery-image-wrapper"].join(" "),onClick:function(){return e(o.a.events.ITEM_ACTION_TRIGGERED,u)}},n.a.createElement("img",{src:t.resizeUrl({item:r}),loading:"lazy",className:["gallery-item-content","lean-gallery-image"].join(" "),alt:ci(r,"title"),style:t.createImageStyle(m),onLoad:function(){return e(o.a.events.ITEM_LOADED,u)}})),g(o.a.placements.SHOW_BELOW))})))},i}(n.a.Component),ci=function(t,e){if(void 0!==t[e])return t[e];var r=t.metadata||t.metaData;return void 0!==r&&void 0!==r[e]?r[e]:void 0},hi=function(t){return C(Nt(t),!0)},ui={numberOfImagesPerRow:3,gallerySizeType:"smart",gallerySizeRatio:1,gallerySizePx:300,gallerySize:30,cubeType:"fill",cubeRatio:1,fixedColumns:0,borderRadius:0,imageMargin:10,gridStyle:0,itemBorderWidth:0,itemBorderRadius:0,imageQuality:90,textBoxHeight:200},di={allowLeanGallery:!0,cubeImages:!0,galleryLayout:[o.a.layout.EMPTY,o.a.layout.GRID],isVertical:!0,oneRow:!1,isRTL:!1,scrollDirection:[0,void 0],groupSize:1,hoveringBehaviour:[o.a.infoBehaviourOnHover.NEVER_SHOW,o.a.infoBehaviourOnHover.APPEARS],rotatingGroupTypes:"",smartCrop:!1,rotatingCubeRatio:"",boxShadow:0,galleryMargin:0,scatter:0,placeGroupsLtr:!1,mobilePanorama:!1,enableInfiniteScroll:[!0,1],itemEnableShadow:!1,itemClick:[o.a.itemClick.NOTHING,o.a.itemClick.LINK,o.a.itemClick.FULLSCREEN,o.a.itemClick.EXPAND],scrollAnimation:o.a.scrollAnimations.NO_EFFECT,titlePlacement:function(t){return o.a.isVerticalPlacement(t.titlePlacement)||t.hoveringBehaviour===o.a.infoBehaviourOnHover.NEVER_SHOW||o.a.isHoverPlacement(t.titlePlacement)&&!t.loveButton&&!t.loveCounter&&!t.allowDownload&&!t.allowSocial&&!t.allowTitle&&!t.allowDescription},imageHoverAnimation:o.a.imageHoverAnimations.NO_EFFECT,loveButton:!1,loveCounter:!1,allowDownload:!1,allowSocial:!1,isAccessible:!1};function pi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pi(Object(r),!0).forEach((function(e){fi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gi(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return yi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function yi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var bi=function(t){var e=t.items,r=t.styles,i=t.totalItemsCount,n=void 0===i?0:i;if(!!!(r=hi(r)).allowLeanGallery)return!1;if(n>e.length)return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - not all items arrived",n,e.length),!1;var o=Math.max(e.length,n);if(o>25)return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - more than 25 items",o),!1;for(var s,a=gi(e);!(s=a()).done;){var l=s.value;if(!Ii(l))return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - an item that is not an image",l),!1}for(var c=0,h=Object.entries(r);c<h.length;c++){var d=h[c],p=d[0],m=d[1];if(!Oi(p,m,r))return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - invalid styleParam",p,m),!1}return u.a.isVerbose()&&console.log("[LEAN GALLERY] ALLOWED!",r),!0},vi=function(t){var e=t.items,r=t.styles,i=mi(mi(mi({},r),Gt.grid),{},{allowLeanGallery:!0}),n=[];"2"!==String(r.galleryLayout)&&n.push("not a Grid layout"),e.length>25&&n.push("more than 25 items");for(var o,s=0,a=gi(e);!(o=a()).done;){var l=o.value;Ii(l)||s++}s>0&&n.push(s+" items are not an image");for(var c=0,h=Object.entries(i);c<h.length;c++){var u=h[c],d=u[0],p=u[1];Oi(d,p,i)||n.push("invalid style: "+d+" => "+p)}return n},Ii=function(t){var e=t.metadata||t.metaData;return!(e.type&&"image"!==e.type||!(t.url||t.mediaUrl||t.src))},Oi=function(t,e,r){if(void 0!==ui[t])return!0;if(void 0!==di[t]){var i=di[t];return i&&"function"==typeof i?i(r):i&&i.length>0?i.includes(e):i===e}return!0};function wi(){return(wi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function Si(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(r),!0).forEach((function(e){Ei(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ei(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xi=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.render=function(){var t=this.props.domId||"default-dom-id",e=this.props,r=e.styles,i=e.options,o=e.styleParams,l=e.eventsListener,c=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(e,["styles","options","styleParams","eventsListener"]),h=Pi(Pi(Pi(Pi({},s),i),r),o),d=Pi(Pi({},c),{},{styles:h,eventsListener:function(){return"function"==typeof l&&l.apply(void 0,arguments)},domId:t}),p=bi(d),m=[t,p].join("_");if(this.props.useBlueprints);else{a.a.updateParams({domId:d.domId,container:d.container,styles:d.styles});var f=d.styles,g=f.galleryType,y=f.galleryLayout;void 0!==g&&void 0===y||(d=Pi(Pi({},d),{},{styles:Nt(d.styles)}))}var b=ri;return p&&(d.styles=hi(d.styles),b=li),u.a.logPlaygroundLink(d.styles),n.a.createElement(b,wi({key:m},d))},i}(n.a.Component);var Ci=function(t,e,r){var i,n=r[t],o=function(t,e,i){var n,o,s,a=null,l={};return r.forEach((function(r){n=r.offset.top+r.height/2,o=r.offset.left+r.width/2,s=Math.sqrt(Math.pow(n-e,2)+Math.pow(o-t,2)),(null===a||s>0&&s<a)&&i(t,e,o,n)&&(a=s,l=r)})),l};switch(e){case"up":i=o(n.offset.left+n.width/2,n.offset.top,(function(t,e,r,i){return i<e}));break;case"left":i=o(n.offset.left,n.offset.top+n.height/2,(function(t,e,r){return r<t}));break;case"down":i=o(n.offset.left+n.width/2,n.offset.bottom,(function(t,e,r,i){return i>e}));break;default:case"right":i=o(n.offset.right,n.offset.top+n.height/2,(function(t,e,r){return r>t}))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)};function Li(){return(Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function Ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(r),!0).forEach((function(e){Di(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ki(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Di(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ri=function(t){var e,r;function i(e){var r;Di(ki(r=t.call(this,e)||this),"findNeighborItem",(function(t,e){return Ci(t,e,r.state.structure.items)})),u.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",d.a.isMock),r.getMoreItemsIfNeeded=r.getMoreItemsIfNeeded.bind(ki(r)),r.setGotFirstScrollIfNeeded=r.setGotFirstScrollIfNeeded.bind(ki(r)),r.toggleLoadMoreItems=r.toggleLoadMoreItems.bind(ki(r)),r.scrollToItem=r.scrollToItem.bind(ki(r)),r.scrollToGroup=r.scrollToGroup.bind(ki(r)),r._scrollingElement=r.getScrollingElement(),r.eventsListener=r.eventsListener.bind(ki(r)),r.onGalleryScroll=r.onGalleryScroll.bind(ki(r)),r.setPlayingIdxState=r.setPlayingIdxState.bind(ki(r)),r.getVisibleItems=r.getVisibleItems.bind(ki(r)),r.findNeighborItem=r.findNeighborItem.bind(ki(r)),r.videoScrollHelper=new Kr(r.setPlayingIdxState);var i={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};r.state=i,r.layoutCss=[],r.initialGalleryState={};try{var n=r.propsToState(e);Object.keys(n).length>0&&(r.initialGalleryState=n)}catch(o){console.warn(o)}return r.state=ji(ji({},i),r.initialGalleryState),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(o.a.events.APP_LOADED,{}),this.videoScrollHelper.initializePlayState();try{"function"==typeof d.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=d.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(t){console.error("could not create 'current_hover_change' customEvent. Error =",t)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},s.componentWillReceiveProps=function(t){var e=this;!this.currentHoverChangeEvent.domId&&t.domId&&(this.currentHoverChangeEvent.domId=t.domId),this.props.currentIdx!==t.currentIdx&&this.scrollToItem(t.currentIdx,!1,!0,0);var r=function(t){return{domId:t.domId,styles:t.styles,container:t.container,items:t.items,watermark:t.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var i,n=!0;try{var o=r(this.props),s=r(t);n=JSON.stringify(o)!==JSON.stringify(s),u.a.isVerbose()&&n&&console.log("New props arrived",u.a.printableObjectsDiff(o,s))}catch(a){console.error("Cannot compare props",a)}n&&(i=e.propsToState(t),Object.keys(i).length>0&&e.setState(i,e.handleNewGalleryStructure),t.currentIdx&&t.currentIdx>0&&this.scrollToItem(t.currentIdx,!1,!0,0),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))},s.handleNavigation=function(t){t?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},s.handleNewGalleryStructure=function(){var t=this.state,e=t.container,r=t.needToHandleShowMoreClick,i=t.initialGalleryHeight,n=this.props.styles,s=this.state.items.length,a=this.props.structure.height,l=this.props.structure.items,c="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!c&&r){h=e.height+(i-138)}var u={numOfItems:s,container:e,styleParams:n,layoutHeight:a,layoutItems:l,isInfinite:c,updatedHeight:h};console.log("handleNewGalleryStructure",u),this.eventsListener(o.a.events.GALLERY_CHANGE,u),r&&this.setState({needToHandleShowMoreClick:!1})},s.isVerticalGallery=function(){return!this.state.styles.oneRow},s.getVisibleItems=function(t,e){var r=this.state.gotFirstScrollEvent,i=d.a.scrollY,n=e.galleryHeight,o=e.scrollBase,s=e.galleryWidth;if(Object(Ht.e)()||Object(Ht.a)()||Object(Ht.d)()||u.a.isSSR()||r||i>0||this.props.currentIdx>0)return t;var a=t;try{var l=d.a.innerHeight,c=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:o+n,h=i+l,p=Math.min(c,h)-o;(a=p<0?[]:this.isVerticalGallery()?t.filter((function(t){return t.offset.top<p})):t.filter((function(t){return t.left<=s+20}))).length<2&&a.length<t.length&&(a=t.slice(0,2))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=t}return a},s.propsToState=function(t){var e=t.loopingItems,r=t.items,i=t.styles,n=t.structure,o=t.container,s=t.domId,a=t.resizeMediaUrl;r=r||this.props.items,i=i||this.props.styles,o=o||this.props.container,n=n||this.props.structure,s=s||this.props.domId,a=a||this.props.resizeMediaUrl,this.galleryStructure=Te.convertToGalleryItems(n,{thumbnailSize:i.thumbnailSize,sharpParams:i.sharpParams,resizeMediaUrl:a}),!Object(Ht.e)()&&(Object(Ht.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:s,items:this.galleryStructure.galleryItems,styleParams:i});var l={galleryStructure:this.galleryStructure,scrollBase:o.scrollBase,videoPlay:i.videoPlay,videoLoop:i.videoLoop,itemClick:i.itemClick,oneRow:i.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(l,!u.a.isSSR(),r);var c={items:r,container:o,styleParams:i,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};return this.createCssLayoutsIfNeeded(c),this.createDynamicStyles(i),{items:e||r,styles:i,container:o,structure:n}},s.getScrollingElement=function(){var t=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return t.props.scrollingElement}:function(){return d.a},horizontal:function(){return d.a.document.querySelector("#pro-gallery-"+t.props.domId+" #gallery-horizontal-scroll")}}},s.scrollToItem=function(t,e,r,i,n){if(void 0===i&&(i=0),t>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Fr.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Ht.a)()," isPreviewMode =",Object(Ht.d)()," isSiteMode =",Object(Ht.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.scrollToGroup=function(t,e,r,i,n){if(void 0===i&&(i=0),t>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:t,fixedScroll:e,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Fr.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Ht.a)()," isPreviewMode =",Object(Ht.d)()," isSiteMode =",Object(Ht.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.containerInfiniteGrowthDirection=function(t){void 0===t&&(t=!1);var e=t||this.props.styles,r=this.props.styles.enableInfiniteScroll,i=this.state.showMoreClickedAtLeastOnce,n=e.oneRow,o=e.loadMoreAmount;return n?"horizontal":r||i&&"all"===o?"vertical":"none"},s.setPlayingIdxState=function(t,e){this.setState({playingVideoIdx:t,nextVideoIdx:e})},s.onGalleryScroll=function(t){var e=t.top,r=t.left;this.videoScrollHelper.trigger.SCROLL({top:e,left:r})},s.createDynamicStyles=function(t){var e=t.overlayBackground,r=Object(Ht.c)();this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(e?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+e+" !important}":"")+"\n    ").trim()},s.createCssLayoutsIfNeeded=function(t){this.layoutCss=Ur({layoutParams:t,isMobile:u.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems})},s.getScrollCss=function(t){var e=t.domId,r=t.items,i=t.styleParams;this.scrollCss=Ve.calcScrollCss({items:r,styleParams:i,domId:e})},s.toggleLoadMoreItems=function(){var t=this;this.eventsListener(o.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var e=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:e,needToHandleShowMoreClick:true},(function(){t.handleNewGalleryStructure()}))}},s.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},s.eventsListener=function(t,e,r){this.videoScrollHelper.handleEvent({eventName:t,eventData:e}),t===o.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,d.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e,r)},s.getMoreItemsIfNeeded=function(t){var e=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var r=this.state.styles.oneRow,i=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),n=d.a.screen[r?"width":"height"];i-(t+n)<(t?3*n:0)&&(this.gettingMoreItems=!0,this.eventsListener(o.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){e.gettingMoreItems=!1}),2e3))}},s.canRender=function(){var t=this.props.container&&this.props.styles&&this.state.items;return!t&&u.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",t,this.props.container,this.props.styles,this.state.items),t},s.render=function(){if(!this.canRender())return null;var t=this.props.styles.oneRow?Hr:Sr;u.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.props.container.scrollBase,{props:this.props,items:this.state.items}));var e="none"===this.containerInfiniteGrowthDirection();return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container"},n.a.createElement(Wr,{domId:this.props.domId,oneRow:this.props.styles.oneRow,isRTL:this.props.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.props.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),n.a.createElement(t,Li({isInDisplay:this.props.isInDisplay,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,items:this.state.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.props.styles,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,scroll:{},displayShowMore:e,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:ji(ji({},this.props.actions),{},{findNeighborItem:this.findNeighborItem,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup})},this.props.gallery)),n.a.createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(t,e){return n.a.createElement("style",{id:"layoutCss-"+e,key:"layoutCss-"+e,dangerouslySetInnerHTML:{__html:t}})})),(this.scrollCss||[]).filter(Boolean).map((function(t,e){return n.a.createElement("style",{id:"scrollCss_"+e,key:"scrollCss_"+e,dangerouslySetInnerHTML:{__html:t}})})),!!this.dynamicStyles&&n.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})))},i}(n.a.Component);var Mi=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.render=function(){return n.a.createElement("div",this.containerProps(),n.a.createElement(Ri,this.renderProps()))},i}(ri);function Ai(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(r),!0).forEach((function(e){Ni(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ni(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gi=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.render=function(){var t=this.props.domId||"default-dom-id",e=this.props,r=e.styles,i=e.options,o=e.styleParams,l=e.eventsListener,c=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(e,["styles","options","styleParams","eventsListener"]),h=_i(_i(_i(_i({},s),i),r),o),d=_i(_i({},c),{},{styles:h,eventsListener:function(){return"function"==typeof l&&l.apply(void 0,arguments)},domId:t});if(this.props.useBlueprints);else{a.a.updateParams({domId:d.domId,container:d.container,styles:d.styles});var p=d.styles,m=p.galleryType,f=p.galleryLayout;void 0!==m&&void 0===f||(d=_i(_i({},d),{},{styles:Nt(d.styles)}))}var g=Mi;return bi(d)&&(g=li),u.a.logPlaygroundLink(d.styles),n.a.createElement(g,d)},i}(n.a.Component);function Hi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function zi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(r),!0).forEach((function(e){Bi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fi=new(function(){function t(){}var e=t.prototype;return e.createBlueprint=function(t,e,r,i,n){var o={};try{var s=t.dimensions,a=t.items,l=t.styles,c=e.dimensions,h=e.items,u=e.styles,d=this.formatItemsIfNeeded(a,h),p=d.formattedItems,m=d.changed,f=this.formatStylesIfNeeded(l,u,n),g=f.formattedStyles,y=f.changed,b=this.formatContainerIfNeeded(s,l,c,u,{formattedStyles:g||r.styles}),v=b.formattedContainer,I=b.changed,O=m||y||I;if(o={itemsChanged:m,stylesChanged:y,containerChanged:I},O||!r){r||(r={});var w=this.createStructure({formattedContainer:v||r.container,formattedItems:p||r.items,formattedStyles:g||r.styles},O);g&&(r.styles=g),p&&(r.items=p),v&&(r.container=v),r.structure=w,!r.styles.oneRow&&r.styles.enableInfiniteScroll&&(r.container.height=r.container.galleryHeight=w.height)}}catch(S){console.error("Could not create blueprint, error:",S)}return{blueprint:r,changedParams:o}},e.formatItemsIfNeeded=function(t,e){var r,i={items:"",itemsAdded:""},n=e,o=!1;return!function(t,e){if(t===e)return i.itemsAdded="items are the same object.",!1;if(!t)return i.itemsAdded="new items do not exist.",!1;if(!e||e&&0===e.length)return i.itemsAdded="old items do not exist.",!1;if(e.length>=t.length)return i.itemsAdded="more old items than new items.",!1;var r=e.reduce((function(e,r,i){return e&&r.id===t[i].itemId}),!0);return r||(i.itemsAdded="items ids were changed. "),r}(t,n)?function(t,e){return t===e?(i.items="items are the same object.",!1):t?!e||e&&0===e.length?(i.items="old items do not exist.",!0):e.length!==t.length?(i.items="more new items than old items (or vice versa).",!0):t.some((function(t,r){var n=e[r];try{var o=!t||!n||t.itemId!==n.itemId||t.mediaUrl!==n.mediaUrl||t.measured!==n.measured||t.metaData&&n.metaData&&(t.metaData.type!==n.metaData.type||t.metaData.title!==n.metaData.title||t.metaData.description!==n.metaData.description);return o&&(i.items="items #"+r+" id was changed."),o}catch(s){return i.items="an error occured",!0}}),!1):(i.items="new items do not exist.",!1)}(t,n)&&(r=t.map((function(t){return Object.assign(Te.convertDtoToLayoutItem(t))})),this.gettingMoreItems=!1,o=!0):(r=n.concat(t.slice(n.length).map((function(t){return Te.convertDtoToLayoutItem(t)}))),this.gettingMoreItems=!1,o=!0),{formattedItems:r,changed:o}},e.formatStylesIfNeeded=function(t,e,r){var i,n={styles:""},o=!1;if(function(t,e){if(!t)return n.styles="no new styles.",!1;if(!e)return n.styles="no old styles.",!0;try{var r={};Object.keys(e).sort().forEach((function(t){return r[t]=e[t]}));var i={};Object.keys(t).sort().forEach((function(e){return i[e]=t[e]}));var o=JSON.stringify(i)!==JSON.stringify(r);return o&&(n.styles="styles were changed."),o}catch(s){return console.error("Could not compare styles",s),!1}}(t,e)){t=zi(zi({},s),t);(i=C(Nt(t),r)).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(t){return String(i[t])})).join("|"),i.layoutsVersion=2,o=!0}return{formattedStyles:i,changed:o}},e.formatContainerIfNeeded=function(t,e,r,i,n){var o,s=n.formattedStyles,l={dimensions:""},c=!1;return function(t){var e=t.newDimensionsParams,r=t.oldDimensionsParams,i=t.oldStylesParams;if(!i||!r)return l.dimensions="no old dimensions or styles. ",!0;if(!e)return l.dimensions="no new dimensions.",!1;var n={height:!(!i.oneRow&&i.enableInfiniteScroll)&&(!!e.height&&e.height!==r.height),width:!r||!!e.width&&e.width!==r.width,scrollBase:!!e.scrollBase&&e.scrollBase!==r.scrollBase};return Object.keys(n).reduce((function(t,e){return n[e]&&(l.dimensions+="dimensions."+e+" has changed. "),t||n[e]}),!1)}({newDimensionsParams:t,oldDimensionsParams:r,oldStylesParams:i})&&(a.a.updateParams({styles:s,container:t}),c=!0,o=Object.assign({},t,a.a.getGalleryDimensions())),{formattedContainer:o,changed:c}},e.createStructure=function(t){var e=t.formattedContainer,r=t.formattedStyles,i={items:t.formattedItems,container:e,styleParams:r,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return i.options.createLayoutOnInit=!1,this.layouter=new ge(i),this.layouter.createLayout(i)},t}());function Wi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wi(Object(r),!0).forEach((function(e){Ui(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ui(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ki(t,e,r,i,n,o,s){try{var a=t[o](s),l=a.value}catch(c){return void r(c)}a.done?e(l):Promise.resolve(l).then(i,n)}function Yi(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function s(t){Ki(o,i,n,s,a,"next",t)}function a(t){Ki(o,i,n,s,a,"throw",t)}s(void 0)}))}}function qi(){return(qi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function Xi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(r),!0).forEach((function(e){Zi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $i(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}var Qi=new(function(){function t(t){var e=t.id;this.id=e+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=function(){},this.loopingItems=!1}var e=t.prototype;return e.init=function(t){this.api=t.api,this.currentState.totalItemsCount=t&&t.totalItemsCount||this.currentState.totalItemsCount,Ht.g.setFormFactor(t.formFactor)},e.createBlueprint=function(){var t=Yi(tr.a.mark((function t(e){var r,i,n,o,s;return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e={}),this.currentState.totalItemsCount=e.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=e.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t.t0=Vi,t.t1=Vi({},e),t.next=7,this.completeParams(e);case 7:return t.t2=t.sent,e=(0,t.t0)(t.t1,t.t2),r=Fi.createBlueprint(e,this.currentState,this.existingBlueprint,this.id,this.currentState.isUsingCustomInfoElements),i=r.blueprint,n=r.changedParams,o=Object.values(n).some((function(t){return!!t})),s=Object.keys(i).length>0,this.updateLastParamsIfNeeded(e,n,s),s&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:o}),t.abrupt("return",this.cache[e]=this.existingBlueprint=i);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getMoreItems=function(){var t=Yi(tr.a.mark((function t(e){var r;return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<this.currentState.totalItemsCount)){t.next=7;break}return t.next=3,this.api.fetchMoreItems(e);case 3:(r=t.sent)&&this.createBlueprint({items:r}),t.next=8;break;case 7:this.existingBlueprint.styles.slideshowLoop&&this.duplicateGalleryItems();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.resetItemLooping=function(){this.loopingItems=!1},e.duplicateGalleryItems=function(){var t,e=(t=this.currentState.items).concat.apply(t,this.currentState.items.slice(0,this.currentState.totalItemsCount));this.loopingItems=!0,this.createBlueprint({items:e})},e.completeParams=function(){var t=Yi(tr.a.mark((function t(e){var r,i,n,o,s,a,l,c;return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(r=e||{}).dimensions,n=r.container,o=r.items,s=r.styles,a=r.styleParams,l=r.options,c=r.domId,s=Vi(Vi(Vi({},l),s),a),i=Vi(Vi({},i),n),t.next=5,this.fetchDimensionsIfNeeded(i);case 5:return i=t.sent,t.next=8,this.fetchItemsIfNeeded(o);case 8:return o=t.sent,t.next=11,this.fetchStylesIfNeeded(s);case 11:return s=t.sent,t.abrupt("return",{dimensions:i,items:o,styles:s,domId:c});case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.fetchDimensionsIfNeeded=function(){var t=Yi(tr.a.mark((function t(e){return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(e)){t.next=11;break}if(t.t1=this.api.fetchDimensions,!t.t1){t.next=7;break}return t.next=6,this.api.fetchDimensions();case 6:t.t1=t.sent;case 7:if(t.t0=t.t1,t.t0){t.next=10;break}t.t0=this.currentState.dimensions;case 10:e=t.t0;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.fetchItemsIfNeeded=function(){var t=Yi(tr.a.mark((function t(e){return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!function(t){var e=!0;return t&&t.length>0&&(e=!1),e}(e)){t.next=11;break}if(t.t1=!this.loopingItems&&this.api.fetchItems,!t.t1){t.next=7;break}return t.next=6,this.api.fetchItems();case 6:t.t1=t.sent;case 7:if(t.t0=t.t1,t.t0){t.next=10;break}t.t0=this.currentState.items;case 10:e=t.t0;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.fetchStylesIfNeeded=function(){var t=Yi(tr.a.mark((function t(e){return tr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(e)){t.next=11;break}if(t.t1=this.api.fetchStyles,!t.t1){t.next=7;break}return t.next=6,this.api.fetchStyles();case 6:t.t1=t.sent;case 7:if(t.t0=t.t1,t.t0){t.next=10;break}t.t0=this.currentState.styles;case 10:e=t.t0;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.updateLastParamsIfNeeded=function(t,e,r){var i=t.items,n=t.dimensions,o=t.styles;r&&(this.currentState.items=e.itemsChanged?i:this.currentState.items,this.currentState.dimensions=e.containerChanged?Vi({},n):this.currentState.dimensions,this.currentState.styles=e.stylesChanged?Vi({},o):this.currentState.styles)},e.eventsListenerWrapper=function(t,e){!this.internalEventHandler.apply(this,e)&&t.apply(void 0,e)},e.needMoreItems=function(t){this.getMoreItems(t)},t}())({id:"layoutingGallery"}),tn=function(t){var e,r;function i(e){var r;return(r=t.call(this)||this).state={},Qi.init({api:{isUsingCustomInfoElements:function(){return e.customHoverRenderer||e.customInfoRenderer||e.customSlideshowInfoRenderer}}}),r.onNewProps(e),r}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=i.prototype;return o.onNewProps=function(t){var e=this,r=t.domId||"default-dom-id",i=t.styles,n=t.options,o=t.styleParams,a=t.eventsListener,l=$i(t,["styles","options","styleParams","eventsListener"]),c=Ji(Ji(Ji(Ji({},s),n),i),o),h=Ji(Ji({},l),{},{styles:c,eventsListener:function(){return"function"==typeof a&&a.apply(void 0,arguments)},domId:r});bi(h)||Qi.createBlueprint(h).then((function(t){e.setState({blueprint:t})})).catch((function(t){console.error("Could not breate a blueprints in layoutingIndex ",t)}))},o.componentWillReceiveProps=function(t){this.onNewProps(t)},o.render=function(){var t=this.props.domId||"default-dom-id",e=this.props,r=e.styles,i=e.options,o=e.styleParams,a=e.eventsListener,l=$i(e,["styles","options","styleParams","eventsListener"]),c=Ji(Ji(Ji(Ji({},s),i),r),o),h=Ji(Ji({},l),{},{styles:c,eventsListener:function(){return"function"==typeof a&&a.apply(void 0,arguments)},domId:t}),u=Mi,d={};if(bi(h))u=li;else{if(!this.state.blueprint||0===Object.keys(this.state.blueprint).length)return null;d=this.state.blueprint}return n.a.createElement(u,qi({},h,d))},i}(n.a.Component),en=function(t){return Object(Ht.c)()?n.a.createElement(n.a.Fragment,null,n.a.createElement("link",{rel:"preload",href:t.layoutFixerBundleUrl,as:"script"}),n.a.createElement("script",{dangerouslySetInnerHTML:{__html:'console.log("[LAYOUT FIXER] Start (first script loaded)")'}}),n.a.createElement("script",{dangerouslySetInnerHTML:{__html:'console.time("[LAYOUT FIXER] Done")'}}),n.a.createElement("script",{async:!0,type:"module",src:t.layoutFixerBundleUrl}),n.a.createElement("layout-fixer",{parentId:t.parentId,items:JSON.stringify(t.items),styles:JSON.stringify(t.styles)})):null};function rn(t,e,r){return(rn=nn()?Reflect.construct:function(t,e,r){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return r&&on(n,r.prototype),n}).apply(null,arguments)}function nn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return rn(ge,e).createLayout()}function an(t){var e="function"==typeof Map?new Map:void 0;return(an=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return ln(t,arguments,un(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),hn(i,t)})(t)}function ln(t,e,r){return(ln=cn()?Reflect.construct:function(t,e,r){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return r&&hn(n,r.prototype),n}).apply(null,arguments)}function cn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(r),!0).forEach((function(e){mn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fn=function(){var t=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData;return pn({id:t.itemId||t.photoId,width:e.width,height:e.height},t)},e=function(t,e){return t&&e&&Object.keys(e).forEach((function(r){var i=e[r];void 0!==i?t.style[r]=i:t.style.removeProperty(r)}))},r=function(t,e){return{width:t.width+"px",height:t.height+(e.externalInfoHeight||0)+"px"}},i=function(t,e){var i=r(t,e),n=e.isRTL;return pn({opacity:1,transition:"opacity .8s ease",top:t.offset.top+"px",left:n?"auto":t.offset.left+"px",right:n?t.offset.left+"px":"auto"},i)};if("undefined"!=typeof window)try{console.log("[LAYOUT FIXER] start (script is running)"),function(){if(!0!==window.layoutFixerCreated){window.layoutFixerCreated=!0,console.log("[LAYOUT FIXER] createWebComponent");var n=function(n){var o,s;function a(){var t;return(t=n.call(this)||this).retries=3,t.connectedCallback=t.connectedCallback.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)),t}s=n,(o=a).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var l=a.prototype;return l.retry=function(){this.retries>0?(this.retries--,console.log("[LAYOUT FIXER] retrying...",this.retries),window.requestAnimationFrame(this.connectedCallback)):console.log("[LAYOUT FIXER] reached retries limit")},l.connectedCallback=function(){var n=this;if(!this.setStylesDone){if(console.log("[LAYOUT FIXER] connectedCallback"),this.parentId=this.getAttribute("parentid"),this.parent=document.getElementById(this.parentId),!this.parent)return console.log("[LAYOUT FIXER] no parent found",this.parent),void this.retry();console.log("[LAYOUT FIXER] parent found",this.parent),this.useLayouter=!0,this.items=JSON.parse(this.getAttribute("items")).map(t),this.items&&this.items.length>0||(this.useLayouter=!1),this.styleParams=Br(Nt(JSON.parse(this.getAttribute("styles")))),this.styleParams&&"object"==typeof this.styleParams||(this.useLayouter=!1);var o,s,a=this.parent&&this.parent.getBoundingClientRect(),l=a.width,c=a.height,h=a.top;this.measures={top:h,width:l,height:c,galleryWidth:l,galleryHeight:c,scrollBase:h},console.log("[LAYOUT FIXER] measured container",this.measures),this.measures&&this.useLayouter&&(this.layout=sn({items:this.items,styleParams:this.styleParams,container:this.measures}),console.log("[LAYOUT FIXER] created layout",this.layout)),"object"==typeof this.measures&&(o=this.parent,s={"data-top":this.measures.top,"data-width":this.measures.width,"data-height":this.measures.height},o&&s&&Object.keys(s).forEach((function(t){return o.setAttribute(t,s[t])}))),this.useLayouter&&this.layout&&this.layout.items&&this.layout.items.length>0&&(this.parent.querySelectorAll(".gallery-item-container").forEach((function(t,r){!r&&console.log("[LAYOUT FIXER] set first Container Style",r,i(n.layout.items[r],n.styleParams)),e(t,i(n.layout.items[r],n.styleParams))})),this.parent.querySelectorAll(".gallery-item-wrapper").forEach((function(t,i){!i&&console.log("[LAYOUT FIXER] set first Wrapper Style",i,r(n.layout.items[i],n.styleParams)),e(t,r(n.layout.items[i],n.styleParams))})),this.setStylesDone=!0,console.log("[LAYOUT FIXER] Done"),console.timeEnd("[LAYOUT FIXER] Done"))}},a}(an(HTMLElement));window.customElements.define("layout-fixer",n)}}()}catch(n){console.error("Cannot create layout fixer",n)}}},441:function(t,e,r){"use strict";var i={ON_GALLERY:0,OUTSIDE_GALLERY:1},n={CROP:"fill",FIT:"fit",MIN:"min",MAX:"max"},o={SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},s={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",SHARE_BUTTON_CLICKED:"SHARE_BUTTON_CLICKED",TEXT_DOWNLOAD_BUTTON_CLICKED:"TEXT_DOWNLOAD_BUTTON_CLICKED",LOVE_BUTTON_CLICKED:"LOVE_BUTTON_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",DOWNLOAD_BUTTON_CLICKED:"DOWNLOAD_BUTTON_CLICKED",BUY_NOW_CLICKED:"BUY_NOW_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED"},a={NO_EFFECT:"NO_EFFECT",EXPAND:"EXPAND",FADE_IN:"FADE_IN",ZOOM:"ZOOM"},l={SIDE:"SIDE",BOTTOM:"BOTTOM"},c=r(293),h=r(294),u={LEFT:"left",RIGHT:"right",CENTER:"center"},d={FIT_TO_SCREEN:0,SET_ITEMS_PER_ROW:1},p={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},m={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"},f=r(263),g=r(295),y={COLUMNS:!0,ROWS:!1},b={EXPAND:"expand",LINK:"link",NOTHING:"nothing",FULLSCREEN:"fullscreen"},v=r(161),I={LEFT_TO_RIGHT:!1,RIGHT_TO_LEFT:!0},O=r(296),w=r(297),S={PARTIAL:"partial",ALL:"all"},P={EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},E={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT"},x=r(175),C=r(298),L=r(299),T=r(300),j=r(167),k={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},D=r(301),R={BOTTOM:"bottom",LEFT:"left",TOP:"top",RIGHT:"right"},M=r(302),A={HOVER:"hover",AUTO:"auto",ON_CLICK:"onClick"},_=r(303),N={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};e.a={arrowsPosition:i,cubeType:n,dimensions:o,events:s,expandAnimations:a,expandInfoPositions:l,formFactor:c.a,gallerySizeType:h.a,galleryTextAlign:u,gridStyle:d,groupTypes:p,imageHoverAnimations:m,infoBehaviourOnHover:f.a,infoType:g.a,isVertical:y,itemClick:b,layout:v.a,layoutDirection:I,loadingMode:O.a,loadingWithColorMode:w.a,loadMoreAmount:S,mobileSwipeAnimations:P,overlayAnimations:E,placements:x.a,hasAbovePlacement:x.b,hasBelowPlacement:x.c,hasHoverPlacement:x.e,hasRightPlacement:x.g,hasLeftPlacement:x.f,hasVerticalPlacement:x.h,hasHorizontalPlacement:x.d,isAbovePlacement:x.i,isBelowPlacement:x.j,isHoverPlacement:x.l,isRightPlacement:x.n,isLeftPlacement:x.m,isVerticalPlacement:x.o,isHorizontalPlacement:x.k,resizeMethods:C.a,scrollAnimations:L.a,slideAnimations:T.a,scrollDirection:j.a,socialNetworks:k,textBoxWidthCalculationOptions:D.a,thumbnailsAlignment:R,urlSizes:M.a,urlTypes:M.b,videoPlay:A,viewMode:_.a,watermarkDock:{LEFT_TOP:{top:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_TOP:{top:0,left:"50%",transform:"translate3d(-50%,0,0)"},RIGHT_TOP:{top:0,left:"auto",right:0,transform:"translate3d(0,0,0)"},LEFT_MIDDLE:{top:"50%",left:0,transform:"translate3d(0,-50%,0)",margin:0},MIDDLE:{top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",margin:0},RIGHT_MIDDLE:{top:"50%",left:"auto",right:0,transform:"translate3d(0,-50%,0)",margin:0},LEFT_DOWN:{top:"auto",bottom:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_DOWN:{top:"auto",left:"50%",bottom:0,transform:"translate3d(-50%,0,0)"},RIGHT_DOWN:{top:"auto",left:"auto",right:0,bottom:0,transform:"translate3d(0,0,0)"}},imagePlacementAnimations:N}}}]);