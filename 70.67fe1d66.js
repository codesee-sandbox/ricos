(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{178:function(e,t,r){"use strict";t.a={EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12}},184:function(e,t,r){"use strict";t.a={VERTICAL:0,HORIZONTAL:1}},195:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i,n=r(0),o=r.n(n);try{i=o.a.createContext({})}catch(h){i=null}o.a.Component;function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t,r;function i(t){var r;return"object"!=typeof(r=e.call(this,t)||this).context&&(r.context={}),t&&"object"==typeof t.context&&(r.context=a(a({},r.context),t.context)),r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(o.a.Component);l(c,"contextType",i)},206:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return l})),r.d(t,"h",(function(){return c})),r.d(t,"d",(function(){return h})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return m})),r.d(t,"l",(function(){return f})),r.d(t,"n",(function(){return g})),r.d(t,"m",(function(){return y})),r.d(t,"o",(function(){return u})),r.d(t,"k",(function(){return p}));var i={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_ON_THE_RIGHT:"SHOW_ON_THE_RIGHT",SHOW_ON_THE_LEFT:"SHOW_ON_THE_LEFT"},n=function(e){return String(e).indexOf(i.SHOW_ABOVE)>=0},o=function(e){return String(e).indexOf(i.SHOW_BELOW)>=0},s=function(e){return String(e).indexOf(i.SHOW_ON_HOVER)>=0},a=function(e){return String(e).indexOf(i.SHOW_ON_THE_RIGHT)>=0},l=function(e){return String(e).indexOf(i.SHOW_ON_THE_LEFT)>=0},c=function(e){return n(e)||o(e)},h=function(e){return a(e)||l(e)},u=function(e){return(n(e)||o(e))&&!h(e)&&!s(e)},p=function(e){return(a(e)||l(e))&&!c(e)&&!s(e)},d=function(e){return String(e)===i.SHOW_ABOVE},m=function(e){return String(e)===i.SHOW_BELOW},f=function(e){return String(e)===i.SHOW_ON_HOVER},g=function(e){return String(e)===i.SHOW_ON_THE_RIGHT},y=function(e){return String(e)===i.SHOW_ON_THE_LEFT};t.a=i},230:function(e,t,r){"use strict";(function(e){var i=r(614),n=r(348),o=r(418);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(){function t(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}var r=t.prototype;return r.shouldUseCache=function(){return!Object(o.a)()&&!Object(o.d)()&&!this.isSSR()},r.isUndefined=function(e){return void 0===e},r.dumpCache=function(){this._cache={}},r.getOrPutFromCache=function(e,t){return this.shouldUseCache()?(void 0!==this._cache[e]||(this._cache[e]=t()),this._cache[e]):t()},r.hashToInt=function(e,t,r){var i=0;if(this.isUndefined(e)||0===e.length)return i;if(!this._hash2int[e]){for(var n=0;n<e.length;n++)i+=e.charCodeAt(n);this._hash2int[e]=i}return this.isUndefined(t)||this.isUndefined(r)?this._hash2int[e]:this._hash2int[e]%(r-t+1)+t},r.parseGetParam=function(e,t){try{if(!this.isUndefined(this._params[e]))return this._params[e];var r="",i=[],n=location;if(t&&(n={search:"?"+(t.split("?")[1]||""),pathname:(t.split("?")[0]||"").split("/")[1]||""}),n.search.substr(1).split("&").forEach((function(t){(i=t.split("="))[0]===e&&(r=decodeURIComponent(i[1]))})),!r){var o=decodeURIComponent(n.pathname).split("?")[1];if(!o)return"";o.split("&").forEach((function(t){(i=t.split("="))[0]===e&&(r=decodeURIComponent(i[1]))}))}return this._params[e]=r,r}catch(s){return!1}},r.stripSlashes=function(e){var t="";return"string"==typeof e&&(t=e.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),t},r.parseStringObject=function(e){if("string"!=typeof e)return e;var t=this.stripSlashes(e);if("string"==typeof e&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(t)}catch(r){}return t},r.hashCode=function(e){var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},r.isMobileByProps=function(){var e=this;return this.getOrPutFromCache("isMobileByProps",(function(){var t=e.parseGetParam("deviceType")||n.a.deviceType,r="true"===e.parseGetParam("showMobileView"),i=Object(o.b)();return!!r||(t?String(t).toLowerCase().indexOf("mobile")>=0:i||void 0)}))},r.isUserAgentMobile=function(){try{return this.getOrPutFromCache("isUserAgentMobile",(function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||n.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t}))}catch(e){return!1}},r.isMobile=function(){var e=this;return this.getOrPutFromCache("isMobile",(function(){var t=e.isMobileByProps(),r=e.isUserAgentMobile();return e.isUndefined(t)?r:t}))},r.isTest=function(){try{return n.a.isTest}catch(e){return!1}},r.isLocal=function(){try{var e=n.a.location.hostname;return"local.wix.com"===e||(e.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}},r.isDev=function(){var e=this;return this.getOrPutFromCache("isDev",(function(){return e.shouldDebug("ph_local")||e.isOOI()&&!1||"true"===(e.safeLocalStorage()||{}).forceDevMode}))},r.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},r.isStoreGallery=function(){var e=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return n.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return e.isDev()&&console.error("cant find window",t),!1}}))},r.isSSR=function(){return void 0===e.window},r.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},r.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random())||0;return"x"===e?t.toString(16):e}))},r.isExternalUrl=function(e){return/(^https?)|(^data)|(^blob)/.test(e)},r.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.a.MSStream}catch(e){return!1}}))},r.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!n.a.MSStream}catch(e){return!1}}))},r.isLandscape=function(){var e=this;return this.getOrPutFromCache("isLandscape",(function(){if(!e.isMobile())return!1;try{if(e.isUndefined(n.a.orientation)){var t=n.a.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===n.a.orientation||-90===n.a.orientation}catch(r){return!1}}))},r.safeLocalStorage=function(){try{return localStorage||n.a}catch(e){return n.a}},r.shouldDebug=function(e){try{return!!this.safeLocalStorage()[e]||(n.a.debugApp||"").indexOf(e)>=0||(this.parseGetParam("debugApp")||"").indexOf(e)>=0}catch(t){return!1}},r.deviceHasMemoryIssues=function(){return this.isiOS()},r.getTabIndex=function(e){var t=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(e)+1;return t>=0&&this.isOOI()?0:t||-1},r.setStateAndLog=function(e,t,r,i){var n=this;if(this.isVerbose()){console.log("State Change Called ("+t+")",r);var o=a({},e.state);e.setState(r,(function(){var r=a({},e.state),s=n.printableObjectsDiff(o,r,"state");Object.keys(s).length>0&&console.log("State Change Completed ("+t+")",s),n.isFunction(i)&&i.bind(e)()}))}else e.setState(r,(function(){n.isFunction(i)&&i.bind(e)()}))},r.printableObjectsDiff=function(e,t,r){var i=this;void 0===r&&(r="");var n=function(e){return""===e?e="''":i.isUndefined(e)&&(e="undefined"),String(e)};return function e(t,r,o,s){return void 0===s&&(s=1),s>3?{}:Object.entries(t).reduce((function(t,a){var l=a[0],c=a[1];return i.isEqual(c,r[l])||(Array.isArray(r[l])?(c.length!==r[l].length&&(t[l+".length"]="["+c.length+"] => ["+r[l].length+"]"),t=Object.assign(t,e(c,r[l],(o?o+".":"")+l,s+1))):"object"==typeof r[l]?t=Object.assign(t,e(c,r[l],(o?o+".":"")+l,s+1)):t[(o?o+".":"")+l]=n(c)+" => "+n(r[l])),t}),{})}(e,t,r,1)},r.getScreenWidth=function(){if(Object(o.d)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(n.a.screen.width,n.a.screen.height):n.a.screen.width}catch(e){return 1920}},r.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(n.a.screen.width,n.a.screen.height):n.a.screen.height}catch(e){return 1200}},r.getWindowWidth=function(){try{return n.a.innerWidth||980}catch(e){return 980}},r.getMobileEnabledClick=function(e){return this.isMobile()?{onTouchEnd:e}:{onClick:e}},r.getTopUrlParam=function(e){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[e]))try{this._cache.params[e]=top.location.search.replace("?","").split("&").map((function(t){var r=t.split("=");return r[0]===e&&r[1]||""})).join("")}catch(t){this._cache.params[e]=!1}return this._cache.params[e]},r.scrollTo=function(e,t,r,i,n){this.isMobile()&&(r=0);var o=i?e.scrollLeft:e.scrollTop,s=t-o,a=0;e.setAttribute("data-scrolling","true"),function t(){var l=function(e,t,r,i){return 0===i?r+t:(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}(a+=20,o,s,r);a<r?setTimeout(t,20):(e.setAttribute("data-scrolling",""),"function"==typeof n&&n()),i?e.scrollLeft=l:e.scrollTop=l}()},r.formatColor=function(e){if(!e)return"inherit";var t=e.value?e.value:e,r=/(?:#|0x)(?:[a-f0-9]{3}|[a-f0-9]{6})\b|(?:rgb|hsl)a?\([^\)]*\)/.exec(t);return r&&r[0]?t:"inherit"},t}();t.a=new c}).call(this,r(52))},320:function(e,t,r){"use strict";t.a={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE",NEVER_SHOW:"NEVER_SHOW"}},321:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return a}));var i=r(230);function n(e){var t,r,n=e.scrollMarginCorrection,o=void 0===n?0:n,s=e.durationInMS,a=e.horizontalElement,l=e.scrollingElement,h=e.isRTL,u=e.oneRow,p=e.galleryWidth,d=e.galleryHeight,m=e.totalWidth,f=e.top,g=e.items,y=e.itemIdx,b=e.fixedScroll;if(u?(r=a.scrollLeft,t=h?r-y*p/2:r+y*p/2):(r=f,t=f+y*d/2),!0!==b){i.a.isVerbose()&&console.log("Scrolling to items #"+y);var v=g.find((function(e){return e.idx===y}));if(t=u?i.a.get(v,"offset.left"):i.a.get(v,"offset.top"),v&&h&&(t+=v.width),i.a.isVerbose()&&console.log("Scrolling to position "+t,v),!(t>=0))return i.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(e){return e()}));if(u){var I=(p-v.width)/2;I>0&&(h?t+=I:t-=I),h&&(t=m-t),t=Math.max(0,t),t=Math.min(t,m-p+o),i.a.isVerbose()&&console.log("Scrolling to new position "+t,this)}}return u?c(a,Math.round(r),Math.round(t),s,h):new Promise((function(e){l.vertical().scrollTo(0,t),e(t)}))}function o(e){var t,r,n=e.scrollMarginCorrection,o=void 0===n?0:n,s=e.durationInMS,a=e.horizontalElement,l=e.scrollingElement,h=e.isRTL,u=e.oneRow,p=e.galleryWidth,d=e.galleryHeight,m=e.totalWidth,f=e.top,g=e.groups,y=e.groupIdx,b=e.fixedScroll;if(u?(r=a.scrollLeft,t=h?r-y*p/2:r+y*p/2):(r=f,t=f+y*d/2),!0!==b){i.a.isVerbose()&&console.log("Scrolling to groups #"+y);var v=g.find((function(e){return e.idx===y}));if(t=u?i.a.get(v,"left"):i.a.get(v,"top"),v&&h&&(t+=v.width),i.a.isVerbose()&&console.log("Scrolling to position "+t,v),!(t>=0))return i.a.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(e){return e()}));if(u){var I=(p-v.width)/2;I>0&&(h?t+=I:t-=I),h&&(t=m-t),t=Math.max(0,t),t=Math.min(t,m-p+o),i.a.isVerbose()&&console.log("Scrolling to new position "+t,this)}}return u?c(a,Math.round(r),Math.round(t),s,h):new Promise((function(e){l.vertical().scrollTo(0,t),e(t)}))}function s(e){var t=e.offset,r=e.scroll,i=e.itemStart;return{before:r-t-e.itemEnd,after:t+i-e.screenSize-r}}function a(e){var t=e.target,r=e.scrollBase,i=e.top,n=e.bottom,o=e.screenHeight,a=e.padding,l=s({offset:r||0,scroll:t.scrollY,itemStart:i,itemEnd:n,screenSize:o});return l.before<a&&l.after<a}function l(e){var t=e.target,r=e.left,i=e.right,n=e.screenWidth,o=e.padding,a=s({offset:0,scroll:t.scrollLeft,itemStart:r,itemEnd:i,screenSize:n});return a.before<o&&a.after<o}function c(e,t,r,i,n){var o=r-t,s=e.firstChild;return e.setAttribute("data-scrolling","true"),Object.assign(e.style,{"scroll-snap-type":"none"}),Object.assign(s.style,{transition:"margin "+i+"ms linear","-webkit-transition":"margin "+i+"ms linear"},n?{marginRight:o+"px"}:{marginLeft:-1*o+"px"}),new Promise((function(t){setTimeout((function(){Object.assign(s.style,{transition:"none","-webkit-transition":"none"},n?{marginRight:0}:{marginLeft:0}),e.style.removeProperty("scroll-snap-type"),e.scrollLeft=r,e.setAttribute("data-scrolling",""),t(r)}),i)}))}},348:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){return{}},a={y:0,x:0,width:2560,height:1440,innerWidth:2560,innerHeight:1440,outerWidth:2560,outerHeight:1440,clientWidth:2560,clientHeight:1440},l=n(n({},a),{},{getBoundingClientRect:function(){return a}}),c=n({addEventListener:s,removeEventListener:s,createEvent:s,getElementById:function(){return l},getElementsByClassName:function(){return[l]},getElementsByTagName:function(){return[l]},querySelector:function(){return[l]},documentElement:l,activeElement:l,style:a},a);c.body=c;var h=n({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:s,removeEventListener:s,createEvent:s,CustomEvent:s,screen:a,open:s,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:s,requestAnimationFrame:s,dispatchEvent:s,document:c,getComputedStyle:s,localStorage:{},frames:[]},a);h.parent=h;var u=h,p=(new(function(){function e(){this.reset()}var t=e.prototype;return t.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(e){return!1}},t.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?u:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},e}())).window;t.a=p},407:function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i),o=(r(173),r(180)),s=(r(218),r(172)),a=r(35),l=r.n(a);function c(e,t){var r=e.src,i=r.file_name,n=e.metadata;return{metadata:{height:r.height,width:r.width,title:n&&n.caption||"",altText:n&&n.alt||""},itemId:r.id||i+t,url:i}}function h(e,t){switch(e.type){case"wix-draft-plugin-image":case"IMAGE":return e.data.src?[c(e.data,t)]:[];case"wix-draft-plugin-gallery":return e.data.items;default:return[]}}var u=function(e){var t=e.entityMap,r=0,i={};return{images:Object.values(t).map(h).reduce((function(e,t,n){return t.length>0&&(i[n]=r),r+=t.length,e.concat(t)}),[]),imageMap:i}};function p(e,t){return e(t={exports:{}},t.exports),t.exports}var d=p((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},t.apply(this,arguments)}e.exports=t}));function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var f=n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{fill:"#FFF",d:"M0 0h60v60H0z"}),n.a.createElement("path",{fill:"#000",d:"M42.188 17l.812.813L30.812 30 43 42.188l-.813.812L30 30.812 17.812 43 17 42.187 29.187 30 17 17.812l.813-.812L30 29.187 42.188 17z"}));function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var y=n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{fill:"#FFF",d:"M0 0h60v60H0z"}),n.a.createElement("g",{fill:"#1B1B1B"},n.a.createElement("path",{d:"M25.704 33.53l.764.764-8.427 8.426-.763-.763zM43 25h-1v-7h-7v-1h8v8z"}),n.a.createElement("path",{d:"M41.955 17.279l.765.766-8.426 8.426-.766-.766zM17 43v-8h1v7h7v1h-8z"}))),b=function(e){return n.a.createElement("svg",g({width:60,height:60,viewBox:"0 0 60 60",style:{background:"#fff"}},e),y)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var I,O=n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{fill:"#FFF",d:"M0 0h60v60H0z"}),n.a.createElement("g",{fill:"#1B1B1B"},n.a.createElement("path",{d:"M17.764 43L17 42.236l8.427-8.426.763.763zM33 18.833h1v7h7v1h-8v-8z"}),n.a.createElement("path",{d:"M34.045 26.554l-.765-.766 8.426-8.426.766.766zM26.468 33.53v8h-1v-7h-7v-1h8z"}))),w=function(e){return n.a.createElement("svg",v({width:60,height:60,viewBox:"0 0 60 60"},e),O)},S=[{showArrows:!1,cubeImages:!1,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",fixedColumns:0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!0,isGrid:!1,isSlider:!1,isColumns:!1,isSlideshow:!1,isVertical:!0,cropOnlyFill:!1,oneRow:!1,galleryType:"Columns",imageMargin:20,gallerySizePx:"300"},{showArrows:!1,cubeImages:!1,groupSize:1,groupTypes:"1",fixedColumns:0,numberOfImagesPerRow:0,imageMargin:20,gallerySizePx:"300",gridStyle:0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!0,isGrid:!1,isSlider:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1},{showArrows:!1,cubeImages:!0,smartCrop:!1,imageResize:!1,galleryImageRatio:2,numberOfImagesPerRow:3,imageMargin:20,cubeType:"fill",cubeRatio:1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:void 0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isSlideshow:!1,minItemSize:50,oneRow:!1},{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeType:"fill",cubeRatio:1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",oneRow:!0,hasThumbnails:!0,galleryThumbnailsAlignment:"bottom",enableScroll:!1,isGrid:!1,isSlider:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,floatingImages:0,thumbnailSpacings:0,galleryMargin:0},{showArrows:!0,cubeImages:!0,smartCrop:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",oneRow:!0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!0,isGrid:!1,isSlider:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!0,imageMargin:20,cubeType:"fit",cubeRatio:"16/9"},{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeRatio:1,cubeType:"fit",isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",fixedColumns:1,oneRow:!0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!1,isGrid:!1,isColumns:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,floatingImages:0,galleryMargin:0,imageMargin:0,slideShowInfoSize:0},{showArrows:!1,cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",oneRow:!1,fixedColumns:1,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!0,isGrid:!1,isColumns:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,imageMargin:20},{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeType:"fill",cubeRatio:.35,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",fixedColumns:0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",oneRow:!0,enableScroll:!0,isGrid:!1,isColumns:!0,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,imageMargin:20},{},{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeType:"fill",cubeRatio:1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",oneRow:!0,hasThumbnails:!1,galleryThumbnailsAlignment:"none",enableScroll:!1,isGrid:!1,isSlider:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,floatingImages:0,galleryMargin:0,imageMargin:0}],E=(function(e,t){e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15)}([function(e,t,r){var i={JPG:"jpg",JPEG:"jpeg",PNG:"png",WEBP:"webp",WIX_ICO_MP:"wix_ico_mp",WIX_MP:"wix_mp",GIF:"gif",SVG:"svg",UNRECOGNIZED:"unrecognized"},n=[i.JPG,i.JPEG,i.PNG,i.GIF,i.WEBP];e.exports={alignTypes:{CENTER:"center",TOP:"top",TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",LEFT:"left",RIGHT:"right"},alignTypesMap:{center:"c",top:"t",top_left:"tl",top_right:"tr",bottom:"b",bottom_left:"bl",bottom_right:"br",left:"l",right:"r"},transformTypes:{FIT:"fit",FILL:"fill",FILL_FOCAL:"fill_focal",CROP:"crop",LEGACY_CROP:"legacy_crop",LEGACY_FILL:"legacy_fill"},fittingTypes:{SCALE_TO_FILL:"fill",SCALE_TO_FIT:"fit",STRETCH:"stretch",ORIGINAL_SIZE:"original_size",TILE:"tile",TILE_HORIZONTAL:"tile_horizontal",TILE_VERTICAL:"tile_vertical",FIT_AND_TILE:"fit_and_tile",LEGACY_STRIP_TILE:"legacy_strip_tile",LEGACY_STRIP_TILE_HORIZONTAL:"legacy_strip_tile_horizontal",LEGACY_STRIP_TILE_VERTICAL:"legacy_strip_tile_vertical",LEGACY_STRIP_SCALE_TO_FILL:"legacy_strip_fill",LEGACY_STRIP_SCALE_TO_FIT:"legacy_strip_fit",LEGACY_STRIP_FIT_AND_TILE:"legacy_strip_fit_and_tile",LEGACY_STRIP_ORIGINAL_SIZE:"legacy_strip_original_size",LEGACY_ORIGINAL_SIZE:"actual_size",LEGACY_FIT_WIDTH:"fitWidth",LEGACY_FIT_HEIGHT:"fitHeight",LEGACY_FULL:"full",LEGACY_BG_FIT_AND_TILE:"legacy_tile",LEGACY_BG_FIT_AND_TILE_HORIZONTAL:"legacy_tile_horizontal",LEGACY_BG_FIT_AND_TILE_VERTICAL:"legacy_tile_vertical",LEGACY_BG_NORMAL:"legacy_normal"},htmlTag:{BG:"bg",IMG:"img",SVG:"svg"},upscaleMethods:{AUTO:"auto",CLASSIC:"classic",SUPER:"super"},upscaleMethodsValues:{classic:1,super:2},defaultUSM:{radius:.66,amount:1,threshold:.01},emptyData:{uri:"",css:{img:{},container:{}},attr:{img:{},container:{}}},imageQuality:{HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW",TINY:"TINY"},imageFilters:{CONTRAST:"contrast",BRIGHTNESS:"brightness",SATURATION:"saturation",HUE:"hue",BLUR:"blur"},imageScaleDefaults:{HIGH:{size:196e4,quality:90,maxUpscale:1},MEDIUM:{size:36e4,quality:85,maxUpscale:1},LOW:{size:16e4,quality:80,maxUpscale:1.2},TINY:{size:0,quality:80,maxUpscale:1.4}},fileType:i,supportedExtensions:n,webp:{LOSSLESS:"lossless",LOSSY:"lossy",ALPHA:"alpha",ANIMATION:"animation"},SAFE_TRANSFORMED_AREA:25e6,SUPER_UPSCALE_MODELS:[1.5,2,4],MAX_DEVICE_PIXEL_RATIO:2,API_VERSION:"v1"}},function(e,t,r){var i=r(2),n=r(0),o=r(4);function s(e){var t=new window.Image;t.onload=function(){var r=o.getFeature("isWEBP");r[e]=t.width>0&&t.height>0,o.setFeature("isWEBP",r)},t.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}function a(e){var t=[n.fileType.PNG,n.fileType.JPEG,n.fileType.JPG,n.fileType.WIX_ICO_MP,n.fileType.WIX_MP];return i.includes(t,h(e))}function l(e){return i.includes(["webp"],h(e))}function c(e){return/(^https?)|(^data)|(^\/\/)/.test(e)}function h(e){return(/[.]([^.]+)$/.exec(e)&&/[.]([^.]+)$/.exec(e)[1]||"").toLowerCase()}function u(e,t,r,i,o){return o===n.transformTypes.FILL?function(e,t,r,i){return Math.max(r/e,i/t)}(e,t,r,i):o===n.transformTypes.FIT?function(e,t,r,i){return Math.min(r/e,i/t)}(e,t,r,i):1}function p(e,t){var r=f(e,t);return{optimizedScaleFactor:n.imageScaleDefaults[r].maxUpscale,upscaleMethodValue:n.upscaleMethodsValues.classic,forceUSM:!1}}function d(e,t){var r=f(e,t);return{optimizedScaleFactor:n.imageScaleDefaults[r].maxUpscale,upscaleMethodValue:n.upscaleMethodsValues.classic,forceUSM:!1}}function m(e,t,r){return{optimizedScaleFactor:i.last(n.SUPER_UPSCALE_MODELS),upscaleMethodValue:n.upscaleMethodsValues.super,forceUSM:!(n.SUPER_UPSCALE_MODELS.includes(r)||r>i.last(n.SUPER_UPSCALE_MODELS))}}function f(e,t){var r=e*t;return r>n.imageScaleDefaults[n.imageQuality.HIGH].size?n.imageQuality.HIGH:r>n.imageScaleDefaults[n.imageQuality.MEDIUM].size?n.imageQuality.MEDIUM:r>n.imageScaleDefaults[n.imageQuality.LOW].size?n.imageQuality.LOW:n.imageQuality.TINY}function g(e,t){var r=Math.pow(10,t||0);return(e*r/r).toFixed(parseInt(t,10))}e.exports={populateGlobalFeatureSupport:function(){"undefined"!=typeof window&&(s(n.webp.LOSSY),s(n.webp.LOSSLESS),s(n.webp.ALPHA),s(n.webp.ANIMATION),o.setFeature("isObjectFitBrowser","objectFit"in window.document.documentElement.style))},isWEBPBrowserSupport:function(e){var t=o.getFeature("isWEBP"),r=e===n.fileType.JPG&&t[n.webp.LOSSY],i=e===n.fileType.PNG&&t[n.webp.LOSSLESS],s=e===n.fileType.PNG&&t[n.webp.ALPHA];return r||i&&s},isObjectFitBrowserSupport:function(){return o.getFeature("isObjectFitBrowser")},isImageTransformApplicable:function(e){return a(e)&&!c(e)},isValidRequest:function(e,t,r){return r&&t&&!(!(o=t.id)||!o.trim()||"none"===o.toLowerCase())&&i.includes(n.fittingTypes,e);var o},isImageTypeSupported:a,isExternalUrl:c,isWEBP:l,getFileType:function(e){return function(e){return i.includes(["jpg","jpeg"],h(e))}(e)?n.fileType.JPG:function(e){return i.includes(["png"],h(e))}(e)?n.fileType.PNG:l(e)?n.fileType.WEBP:n.fileType.UNRECOGNIZED},getFileExtension:h,getFileName:function(e,t){var r=/\.([^.]*)$/;if("string"==typeof t&&t.length){var o=["/","\\","?","<",">","|","\u201c",":",'"'].map(encodeURIComponent),s=new RegExp("("+o.concat(["\\.","\\*"]).join("|")+")","g"),a=t,l=t.match(r);return l&&i.includes(n.supportedExtensions,l[1])&&(a=t.replace(r,"")),encodeURIComponent(a).replace(s,"_")}var c=e.match(/\/(.*?)$/);return(c?c[1]:e).replace(r,"")},getAlignedRect:function(e,t,r){var i=void 0,o=void 0;switch(r){case n.alignTypes.CENTER:i=Math.max(0,(e.width-t.width)/2),o=Math.max(0,(e.height-t.height)/2);break;case n.alignTypes.TOP:i=Math.max(0,(e.width-t.width)/2),o=0;break;case n.alignTypes.TOP_LEFT:i=0,o=0;break;case n.alignTypes.TOP_RIGHT:i=Math.max(0,e.width-t.width),o=0;break;case n.alignTypes.BOTTOM:i=Math.max(0,(e.width-t.width)/2),o=Math.max(0,e.height-t.height);break;case n.alignTypes.BOTTOM_LEFT:i=0,o=Math.max(0,e.height-t.height);break;case n.alignTypes.BOTTOM_RIGHT:i=Math.max(0,e.width-t.width),o=Math.max(0,e.height-t.height);break;case n.alignTypes.LEFT:i=0,o=Math.max(0,(e.height-t.height)/2);break;case n.alignTypes.RIGHT:i=Math.max(0,e.width-t.width),o=Math.max(0,(e.height-t.height)/2)}return{x:e.x?e.x+i:i,y:e.y?e.y+o:o,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},getOverlappingRect:function(e,t){var r=Math.max(0,Math.min(e.width,t.x+t.width)-Math.max(0,t.x)),i=Math.max(0,Math.min(e.height,t.y+t.height)-Math.max(0,t.y));return r&&i&&(e.width!==r||e.height!==i)?{x:Math.max(0,t.x),y:Math.max(0,t.y),width:r,height:i}:null},getScaleFactor:u,getTransformData:function(e,t,r,i,o){e=e||r.width,t=t||r.height;var s=function(e){return Math.min(e.pixelAspectRatio||1,n.MAX_DEVICE_PIXEL_RATIO)}(r),a=function(e,t,r,i,o){var s=void 0,a=void 0,l=void 0;if(s=u(e,t,r,i,o),o===n.transformTypes.FILL?(a=r,l=i):o===n.transformTypes.FIT&&(a=e*s,l=t*s),a*l>n.SAFE_TRANSFORMED_AREA){var c=Math.sqrt(n.SAFE_TRANSFORMED_AREA/(a*l));s=u(e,t,a*=c,l*=c,o)}return{scaleFactor:s,width:a,height:l}}(e,t,r.width*s,r.height*s,i),l=a.scaleFactor;return function(e,t,r,i,o,s,a){var l=function(e,t,r,i){return{classic:p,auto:d,super:m}[i](e,t,r)}(e,t,s,o),c=l.optimizedScaleFactor,h=l.upscaleMethodValue,u=l.forceUSM;if(s<=c)return{width:r,height:i,scaleFactor:s,upscaleMethodValue:h,forceUSM:u,cssUpscaleNeeded:!1};var f=void 0,g=void 0;switch(a){case n.transformTypes.FILL:f=r*(c/s),g=i*(c/s);break;case n.transformTypes.FIT:f=e*c,g=t*c}return{width:f,height:g,scaleFactor:c,upscaleMethodValue:h,forceUSM:u,cssUpscaleNeeded:!0}}(e,t,a.width,a.height,o,l,i)},getAlignment:function(e){return n.alignTypesMap[e.alignment]||n.alignTypesMap[n.alignTypes.CENTER]},getPreferredImageQuality:function(e,t){return n.imageScaleDefaults[f(e,t)].quality},getDimension:function(e,t,r,i,n){var o=u(e,t,r,i,n);return{width:Math.round(e*o),height:Math.round(t*o)}},getFocalPoint:function(e){var t=null;return"number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y)||(t={x:g(Math.max(0,Math.min(100,e.x))/100,2),y:g(Math.max(0,Math.min(100,e.y))/100,2)}),t},getUpscaleString:function(e){return e&&e.upscaleMethod&&"string"==typeof e.upscaleMethod&&n.upscaleMethods[e.upscaleMethod.toUpperCase()]||n.upscaleMethods.AUTO},roundToFixed:g}},function(e,t,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={assign:function(){for(var e=arguments[0]||{},t=Array.prototype.slice.call(arguments,1,arguments.length),r=0;r<t.length;r++){var i=t[r];for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e},includes:function(e,t){return e.indexOf?e.indexOf(t)>-1:!(!e||"object"!==(void 0===e?"undefined":i(e)))&&Object.keys(e).some((function(r){return e[r]===t}))},last:function(e){return e[e.length-1]},template:function(e){return function(t){var r=e;for(var i in t)t.hasOwnProperty(i)&&(r=r.replace(new RegExp("\\${"+i+"}","g"),t[i]));return r}}}},function(e,t,r){var i=r(1),n=r(5),o=r(6);e.exports=function(e,t,r,s){var a=i.getFileType(t.id),l={fileName:i.getFileName(t.id,t.name),fileExtension:i.getFileExtension(t.id),fileType:a,isWEBPSupport:i.isWEBPBrowserSupport(a),fittingType:e,src:{id:t.id,width:t.width,height:t.height,isCropped:!1},focalPoint:{x:t.focalPoint&&t.focalPoint.x,y:t.focalPoint&&t.focalPoint.y},parts:[],quality:0,upscaleMethod:i.getUpscaleString(s),progressive:!0,watermark:"",unsharpMask:{},filters:{}};return i.isImageTransformApplicable(t.id)&&(n.setTransformParts(l,t,r),o.setTransformOptions(l,s)),l}},function(e,t,r){var i={isWEBP:{lossless:!1,lossy:!1,alpha:!1,animation:!1},isObjectFitBrowser:!0};e.exports={getFeature:function(e){return i[e]},setFeature:function(e,t){i[e]=t}}},function(e,t,r){var i=r(2),n=r(0),o=r(1);function s(e,t){var r=o.getTransformData(e.src.width,e.src.height,t,n.transformTypes.FIT,e.upscaleMethod);return{transformType:n.transformTypes.FILL,width:Math.round(r.width),height:Math.round(r.height),alignment:n.alignTypesMap.center,upscale:r.scaleFactor>1,forceUSM:r.forceUSM,scaleFactor:r.scaleFactor,cssUpscaleNeeded:r.cssUpscaleNeeded,upscaleMethodValue:r.upscaleMethodValue}}function a(e){return{transformType:n.transformTypes.CROP,x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}e.exports={setTransformParts:function(e,t,r){var l=void 0;switch(t.crop&&(l=o.getOverlappingRect(t,t.crop))&&(e.src.width=l.width,e.src.height=l.height,e.src.cropped=!0,e.parts.push(a(l))),e.fittingType){case n.fittingTypes.SCALE_TO_FIT:case n.fittingTypes.LEGACY_FIT_WIDTH:case n.fittingTypes.LEGACY_FIT_HEIGHT:case n.fittingTypes.LEGACY_FULL:case n.fittingTypes.FIT_AND_TILE:case n.fittingTypes.LEGACY_BG_FIT_AND_TILE:case n.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case n.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case n.fittingTypes.LEGACY_BG_NORMAL:e.parts.push(s(e,r));break;case n.fittingTypes.SCALE_TO_FILL:e.parts.push(function(e,t){var r=o.getTransformData(e.src.width,e.src.height,t,n.transformTypes.FILL,e.upscaleMethod),i=o.getFocalPoint(e.focalPoint);return{transformType:i?n.transformTypes.FILL_FOCAL:n.transformTypes.FILL,width:Math.round(r.width),height:Math.round(r.height),alignment:o.getAlignment(t),focalPointX:i&&i.x,focalPointY:i&&i.y,upscale:r.scaleFactor>1,forceUSM:r.forceUSM,scaleFactor:r.scaleFactor,cssUpscaleNeeded:r.cssUpscaleNeeded,upscaleMethodValue:r.upscaleMethodValue}}(e,r));break;case n.fittingTypes.STRETCH:e.parts.push(function(e,t){var r=o.getScaleFactor(e.src.width,e.src.height,t.width,t.height,n.transformTypes.FILL),a=i.assign({},t);return a.width=e.src.width*r,a.height=e.src.height*r,s(e,a)}(e,r));break;case n.fittingTypes.TILE_HORIZONTAL:case n.fittingTypes.TILE_VERTICAL:case n.fittingTypes.TILE:case n.fittingTypes.LEGACY_ORIGINAL_SIZE:case n.fittingTypes.ORIGINAL_SIZE:l=o.getAlignedRect(e.src,r,r.alignment),e.src.isCropped?(i.assign(e.parts[0],l),e.src.width=l.width,e.src.height=l.height):e.parts.push(a(l));break;case n.fittingTypes.LEGACY_STRIP_TILE_HORIZONTAL:case n.fittingTypes.LEGACY_STRIP_TILE_VERTICAL:case n.fittingTypes.LEGACY_STRIP_TILE:case n.fittingTypes.LEGACY_STRIP_ORIGINAL_SIZE:e.parts.push(function(e){return{transformType:n.transformTypes.LEGACY_CROP,width:Math.round(e.width),height:Math.round(e.height),alignment:o.getAlignment(e),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}(r));break;case n.fittingTypes.LEGACY_STRIP_SCALE_TO_FIT:case n.fittingTypes.LEGACY_STRIP_FIT_AND_TILE:e.parts.push(function(e){return{transformType:n.transformTypes.FIT,width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(r));break;case n.fittingTypes.LEGACY_STRIP_SCALE_TO_FILL:e.parts.push(function(e){return{transformType:n.transformTypes.LEGACY_FILL,width:Math.round(e.width),height:Math.round(e.height),alignment:o.getAlignment(e),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(r))}}}},function(e,t,r){var i=r(2),n=r(0),o=r(1);function s(e,t,r){return!isNaN(e)&&"number"==typeof e&&0!==e&&e>=t&&e<=r}e.exports={setTransformOptions:function(e,t){t=t||{},e.quality=function(e,t){var r=i.last(e.parts),n=o.getPreferredImageQuality(r.width,r.height),s=t.quality&&t.quality>=5&&t.quality<=90?t.quality:n;return parseInt(s,10)}(e,t),e.progressive=function(e){return!1!==e.progressive}(t),e.watermark=function(e){return e.watermark}(t),e.unsharpMask=function(e,t){var r=void 0;return function(e){e=e||{};var t=!isNaN(e.radius)&&"number"==typeof e.radius&&e.radius>=.1&&e.radius<=500,r=!isNaN(e.amount)&&"number"==typeof e.amount&&e.amount>=0&&e.amount<=10,i=!isNaN(e.threshold)&&"number"==typeof e.threshold&&e.threshold>=0&&e.threshold<=255;return t&&r&&i}(t.unsharpMask)?r={radius:t.unsharpMask.radius,amount:t.unsharpMask.amount,threshold:t.unsharpMask.threshold}:function(e){return e=e||{},!isNaN(e.radius)&&"number"==typeof e.radius&&0===e.radius&&!isNaN(e.amount)&&"number"==typeof e.amount&&0===e.amount&&!isNaN(e.threshold)&&"number"==typeof e.threshold&&0===e.threshold}(t.unsharpMask)||function(e){var t=i.last(e.parts);return!(t.scaleFactor>=1)||t.forceUSM}(e)&&(r=n.defaultUSM),r&&(r.radius=o.roundToFixed(r.radius,2),r.amount=o.roundToFixed(r.amount,2),r.threshold=o.roundToFixed(r.threshold,2)),r}(e,t),e.filters=function(e){var t=e.filters||{},r={};return s(t[n.imageFilters.CONTRAST],-100,100)&&(r[n.imageFilters.CONTRAST]=t[n.imageFilters.CONTRAST]),s(t[n.imageFilters.BRIGHTNESS],-100,100)&&(r[n.imageFilters.BRIGHTNESS]=t[n.imageFilters.BRIGHTNESS]),s(t[n.imageFilters.SATURATION],-100,100)&&(r[n.imageFilters.SATURATION]=t[n.imageFilters.SATURATION]),s(t[n.imageFilters.HUE],-180,180)&&(r[n.imageFilters.HUE]=t[n.imageFilters.HUE]),s(t[n.imageFilters.BLUR],0,100)&&(r[n.imageFilters.BLUR]=t[n.imageFilters.BLUR]),r}(t)}}},function(e,t,r){var i=r(0),n=r(1),o=r(8),s=r(3);e.exports=function(e,t,r,a,l){var c=i.emptyData.uri;return n.isImageTransformApplicable(t.id)?(l=l||s(e,t,r,a,l),c=o.getImageURI(l)):c=t.id,c}},function(e,t,r){var i,n=r(2),o=r(0),s=n.template("fit/w_${width},h_${height}"),a=n.template("fill/w_${width},h_${height},al_${alignment}"),l=n.template("fill/w_${width},h_${height},fp_${focalPointX}_${focalPointY}"),c=n.template("crop/x_${x},y_${y},w_${width},h_${height}"),h=n.template("crop/w_${width},h_${height},al_${alignment}"),u=n.template("fill/w_${width},h_${height},al_${alignment}"),p=n.template(",lg_${upscaleMethodValue}"),d=n.template(",q_${quality}"),m=n.template(",usm_${radius}_${amount}_${threshold}"),f=n.template(",bl"),g=n.template(",wm_${watermark}"),y=((i={})[o.imageFilters.CONTRAST]=n.template(",con_${contrast}"),i[o.imageFilters.BRIGHTNESS]=n.template(",br_${brightness}"),i[o.imageFilters.SATURATION]=n.template(",sat_${saturation}"),i[o.imageFilters.HUE]=n.template(",hue_${hue}"),i[o.imageFilters.BLUR]=n.template(",blur_${blur}"),i);e.exports={getImageURI:function(e){var t=[];e.parts.forEach((function(e){switch(e.transformType){case o.transformTypes.CROP:t.push(c(e));break;case o.transformTypes.LEGACY_CROP:t.push(h(e));break;case o.transformTypes.LEGACY_FILL:var r=u(e);e.upscale&&(r+=p(e)),t.push(r);break;case o.transformTypes.FIT:var i=s(e);e.upscale&&(i+=p(e)),t.push(i);break;case o.transformTypes.FILL:var n=a(e);e.upscale&&(n+=p(e)),t.push(n);break;case o.transformTypes.FILL_FOCAL:var d=l(e);e.upscale&&(d+=p(e)),t.push(d)}}));var r=t.join("/");return(e.fileType===o.fileType.PNG&&e.isWEBPSupport||e.fileType===o.fileType.JPG)&&(r+=d(e)),e.unsharpMask&&(r+=m(e.unsharpMask)),e.progressive||(r+=f(e)),e.watermark&&(r+=g(e)),e.filters&&(r+=Object.keys(e.filters).map((function(t){return y[t](e.filters)})).join("")),e.src.id+"/"+o.API_VERSION+"/"+r+"/"+e.fileName+"."+(e.isWEBPSupport?"webp":e.fileExtension)}}},,,,,,,function(e,t,r){var i=r(16),n=r(0);i.populateGlobalFeatureSupport();var o=/^media\//i,s="undefined"!=typeof window?window.devicePixelRatio:1;function a(e){return o.test(e)?"https://static.wixstatic.com/"+e:"https://static.wixstatic.com/media/"+e}e.exports={getScaleToFitImageURL:function(e,t,r,o,l,c){return a(i.getData(n.fittingTypes.SCALE_TO_FIT,{id:e,width:t,height:r,name:c&&c.name},{width:o,height:l,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:s},c).uri)},getScaleToFillImageURL:function(e,t,r,o,l,c){return a(i.getData(n.fittingTypes.SCALE_TO_FILL,{id:e,width:t,height:r,name:c&&c.name,focalPoint:{x:c&&c.focalPoint&&c.focalPoint.x,y:c&&c.focalPoint&&c.focalPoint.y}},{width:o,height:l,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:s},c).uri)},getCropImageURL:function(e,t,r,o,l,c,h,u,p,d){return a(i.getData(n.fittingTypes.SCALE_TO_FILL,{id:e,width:t,height:r,name:d&&d.name,crop:{x:o,y:l,width:c,height:h}},{width:u,height:p,htmlTag:i.htmlTag.IMG,alignment:i.alignTypes.CENTER,pixelAspectRatio:s},d).uri)}}},function(e,t,r){var i=r(0),n=r(1),o=r(7);e.exports={populateGlobalFeatureSupport:n.populateGlobalFeatureSupport,getData:function(e,t,r,s){var a=i.emptyData.uri;return n.isValidRequest(e,t,r)&&(a=o(e,t,r,s)),{uri:a}},fittingTypes:i.fittingTypes,alignTypes:i.alignTypes,htmlTag:i.htmlTag,upscaleMethods:i.upscaleMethods}}])}(e={exports:{}}),e.exports),P=(I=E)&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I,T=(E.getScaleToFillImageURL,E.getScaleToFitImageURL,E.imageClientSDK,function(e){return e.startsWith("http://")||e.startsWith("https://")}),L=function(e,t){return T(e)?e:("image"===t?(r="https://static.wixstatic.com/",i="media/"):(r="https://video.wixstatic.com/",i="video/"),r+(e.startsWith(i)?e:i+e));var r,i},x=function(e,t,r,i,n,o,s,a,l){return void 0===s&&(s=!1),void 0===a&&(a=!1),C(e,t,r,2*i,2*n,o,s,a,l)},C=function(e,t,r,i,n,o,s,a,l){return-1!==t.indexOf("base64")?t:(i=Math.ceil(i),n=Math.ceil(n),"video"===r?L(t,"video"):i>=e.maxWidth&&n>=e.maxHeight?L(e.url,"image"):function(e,t,r,i,n,o,s,a,l){t=t||"",(o=o||{}).quality>0&&(o.quality=Math.min(90,o.quality));var c={x:50,y:50};l&&l[0]>=0&&l[1]>=0&&(c.x=Math.round(100*l[0]),c.y=Math.round(100*l[1])),!0===o.allowUsm&&o.usm?(o.usm.usm_a=Math.min(5,Math.max(0,o.usm.usm_a||0)),o.usm.usm_r=Math.min(128,Math.max(0,o.usm.usm_r||0)),o.usm.usm_t=Math.min(1,Math.max(0,o.usm.usm_t||0))):o.usm={usm_a:0,usm_r:0,usm_t:0};var h=function(){};h="fit"===r?P.getScaleToFitImageURL:P.getScaleToFillImageURL;var u={};return o.quality>0&&(u.quality=o.quality),o.blur>0&&(u.filters={blur:o.blur}),c&&(u.focalPoint=c),o&&o.usm&&(u.unsharpMask={radius:parseFloat(o.usm.usm_r),amount:parseFloat(o.usm.usm_a),threshold:parseFloat(o.usm.usm_t)}),T(t)?t:h(t.replace("https://static.wixstatic.com/",""),e.maxWidth,e.maxHeight,i,n,u)}(e,t,r,i,n,o,0,0,l))},A=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(p((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},i=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],n=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},a="fullscreenEnabled"in s&&Object.keys(r)||i[0]in s&&i||n[0]in s&&n||o[0]in s&&o||[];t.default={requestFullscreen:function(e){return e[a[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[a[r.requestFullscreen]]},get exitFullscreen(){return s[a[r.exitFullscreen]].bind(s)},addEventListener:function(e,t,i){return s.addEventListener(a[r[e]],t,i)},removeEventListener:function(e,t,i){return s.removeEventListener(a[r[e]],t,i)},get fullscreenEnabled(){return Boolean(s[a[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[a[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+a[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+a[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+a[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+a[r.fullscreenerror]).toLowerCase()]=e}}}))),_=function(e,t){return function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},t.apply(this,arguments)}e.exports=t}(t={exports:{}}),t.exports}(),R=r(797).ProGallery,M=function(e){function t(t){var r;return(r=e.call(this,t)||this).addFullscreenChangeListener=function(){A.fullscreenEnabled&&A.addEventListener("fullscreenchange",r.onFullscreenChange)},r.removeFullscreenChangeListener=function(){A.fullscreenEnabled&&A.removeEventListener("fullscreenchange",r.onFullscreenChange)},r.onWindowResize=function(){return r.forceUpdate()},r.onFullscreenChange=function(){return r.setState({isInFullscreen:!!A.fullscreenElement})},r.onEsc=function(e){"Escape"===e.key&&r.onClose()},r.toggleFullscreenMode=function(){var e=r.state.isInFullscreen;A.fullscreenEnabled&&(e?A.exitFullscreen():A.requestFullscreen(document.body))},r.getStyleParams=function(){var e=r.state.isInFullscreen,t=0,i=0;return r.props.isMobile?i=154:e||(t=1,i=142),{arrowsPosition:t,slideshowInfoSize:i}},r.onClose=function(){r.state.isInFullscreen&&r.toggleFullscreenMode(),r.currentIdx=-1,r.props.onClose()},r.renderCloseButton=function(){var e=r.props.foregroundColor;return n.a.createElement("button",{className:"_2zGgi",style:e,onClick:function(){return r.onClose()},"aria-label":"Close","data-hook":"fullscreen-close-button"},n.a.createElement("svg",m({width:60,height:60,viewBox:"0 0 60 60"},void 0),f))},r.renderFullscreenToggleButton=function(){var e=r.state.isInFullscreen,t=r.props.foregroundColor,i=e?w:b,o=e?"Shrink":"Expand";return n.a.createElement("button",{className:"_3PuAk",style:t,onClick:r.toggleFullscreenMode,"aria-label":o,"data-hook":"fullscreen-toggle-button"},i())},r.handleGalleryEvents=function(e,t){if("CURRENT_ITEM_CHANGED"===e){var i=r.props,n=i.images,o=i.index;-1!==r.currentIdx?r.currentIdx>0&&n[r.currentIdx-1].itemId===t.itemId?r.currentIdx-=1:r.currentIdx+=1:r.currentIdx=o}},r.state={isInFullscreen:!1},r.currentIdx=-1,r}var r,i;i=e,(r=t).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var o=t.prototype;return o.componentDidMount=function(){document.addEventListener("keydown",this.onEsc),window.addEventListener("resize",this.onWindowResize),this.addFullscreenChangeListener()},o.componentWillUnmount=function(){document.removeEventListener("keydown",this.onEsc),window.removeEventListener("resize",this.onWindowResize),this.removeFullscreenChangeListener()},o.getItems=function(){return function(e){var t=e.anchorTarget,r=e.relValue;return e.items.map((function(e){var i=e.metadata;if(e.metaData)return e;var n,o={metaData:{link:{type:"none",target:"_blank"}},directLink:{}};if(i){if(o.metaData=_({},i,{link:{type:"none",target:"_blank"}}),"video"===e.metadata.type){o.metaData.link={target:"_blank",rel:"noopener",url:Object(s.normalizeUrl)(e.url||"")};var a=o.metaData.poster,l=a.pathname,c=a.thumbnail,h=(c=void 0===c?{}:c).pathname;l&&h&&(o.metaData.poster=function(e){return e.startsWith("http://")||e.startsWith("https://")}(n=h)?n:"https://static.wixstatic.com/"+(n.startsWith("media/")?n:"media/"+n))}o.metaData.alt=i.altText,e.metadata.link&&(o.metaData.link={type:"wix",target:e.metadata.link.target||t||"_self",data:{type:"ExternalLink",target:e.metadata.link.target||t||"_self",rel:e.metadata.link.rel||r||"noopener",url:Object(s.normalizeUrl)(e.metadata.link.url||"")}},o.directLink={url:Object(s.normalizeUrl)(e.metadata.link.url||""),target:e.metadata.link.target||t||"_self",rel:e.metadata.link.rel||r||"noopener"})}return _({},e,{metadata:void 0},o)}))}({items:this.props.images})},o.render=function(){var e=this.props,t=e.isOpen,r=e.target,i=e.backgroundColor,o=e.topMargin,s=e.isMobile,a=e.index,c=this.state.isInFullscreen,h=this.getStyleParams(),u=h.arrowsPosition,p=h.slideshowInfoSize,m=c||s?window.innerWidth:window.innerWidth-14,f=c?window.screen.height:window.innerHeight,g=this.getItems(),y=n.a.createElement("div",{style:d({},i,o),dir:"ltr","data-hook":"fullscreen-root",className:c?"_1KpZG":"_3dmg8"},this.renderCloseButton(),!s&&this.renderFullscreenToggleButton(),n.a.createElement(R,{items:g,currentIdx:-1===this.currentIdx?a:this.currentIdx,eventsListener:this.handleGalleryEvents,resizeMediaUrl:x,container:{width:m,height:f},styles:d({},S[5],{galleryLayout:5,cubeType:"fit",scrollSnap:!0,videoPlay:"auto",allowSocial:!1,loveButton:!1,allowTitle:!0,showArrows:!s,arrowsPosition:u,slideshowInfoSize:p})}));return r&&(y=l.a.createPortal(y,r)),t?y:null},t}(i.Component),k=function(e){function t(t){var r=e.call(this,t)||this;return t.setExpandModeData(u(t.initialState)),r.state={disabled:!1},r}return Object(o.b)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.initialState;e.initialState!==t&&this.props.setExpandModeData(u(t))},t.prototype.render=function(){var e=this.props,t=e.index,r=e.isOpen,i=e.images,o=e.onClose,s=e.isMobile;return n.a.createElement(M,{isOpen:r,images:i,onClose:o,isMobile:s,index:t})},t}(i.Component);t.default=k},408:function(e,t,r){"use strict";t.a={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},409:function(e,t,r){"use strict";t.a={SMART:"smart",PIXELS:"px",RATIO:"ratio"}},410:function(e,t,r){"use strict";t.a={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"}},411:function(e,t,r){"use strict";t.a={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"}},412:function(e,t,r){"use strict";t.a={PICKED_COLOR:"PICKED_COLOR",MAIN_COLOR:"MAIN_COLOR"}},413:function(e,t,r){"use strict";t.a={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"}},414:function(e,t,r){"use strict";t.a={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"}},415:function(e,t,r){"use strict";t.a={PERCENT:"PERCENT",MANUAL:"MANUAL"}},416:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n}));var i={RESIZED:"resized",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample"},n={HIGH_RES:"img",LOW_RES:"thumb",SEO:"seoLink",VIDEO:"video"}},417:function(e,t,r){"use strict";t.a={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",PRERENDER:"PRERENDER",SEO:"SEO"}},418:function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return u}));var i=r(417),n=r(408),o=new(function(){function e(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPrerenderMode=this.isPrerenderMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setFormFactor=this.setFormFactor.bind(this),this.isFormFactorDesktop=this.isFormFactorDesktop.bind(this),this.isFormFactorMobile=this.isFormFactorMobile.bind(this),this.isFormFactorTablet=this.isFormFactorTablet.bind(this),this.isFormFactorTouch=this.isFormFactorTouch.bind(this),this._viewMode=i.a.SITE,this._formFactor=n.a.DESKTOP}var t=e.prototype;return t.setViewMode=function(e){this._viewMode=e},t.setFormFactor=function(e){this._formFactor=e},t.isFormFactorMobile=function(){return this._formFactor===n.a.MOBILE},t.isFormFactorTablet=function(){return this._formFactor===n.a.TABLET},t.isFormFactorDesktop=function(){return this._formFactor===n.a.DESKTOP},t.isFormFactorTouch=function(){return this.isMobile()||this.isTablet()},t.isSiteMode=function(){return this._viewMode===i.a.SITE},t.isEditMode=function(){return this._viewMode===i.a.EDIT},t.isPreviewMode=function(){return this._viewMode===i.a.PREVIEW},t.isPrerenderMode=function(){return this._viewMode===i.a.PRERENDER},t.isSEOMode=function(){return this._viewMode===i.a.SEO},e}()),s=o.isSiteMode,a=o.isEditMode,l=o.isPreviewMode,c=o.isSEOMode,h=o.isFormFactorMobile,u=(o.isFormFactorTablet,o.isFormFactorDesktop,o.isFormFactorTouch,o.isPrerenderMode)},419:function(e,t,r){e.exports=r(616)},614:function(e,t,r){"use strict";r.r(t),r.d(t,"pick",(function(){return i})),r.d(t,"throttle",(function(){return n})),r.d(t,"debounce",(function(){return o})),r.d(t,"get",(function(){return s})),r.d(t,"isFunction",(function(){return a})),r.d(t,"isEqual",(function(){return l})),r.d(t,"isNumber",(function(){return c}));var i=function(e,t){var r={};return Object.entries(e||{}).forEach((function(e){var i=e[0],n=e[1];t.indexOf(i)>=0&&(r[i]=n)})),r},n=function(e,t){var r=!1,i=!1;return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];r?i=!0:(i=!1,e.apply(void 0,o),r=!0,setTimeout((function(){i&&e.apply(void 0,o),r=!1}),t))}},o=function(e,t){var r;return function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];clearTimeout(r),r=setTimeout((function(){e.apply(void 0,n)}),t)}},s=function(e,t,r){var i=String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e);return void 0===i||i===e?r:i},a=function(e){return"function"==typeof e},l=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(r){return!1}},c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},615:function(e,t,r){"use strict";var i=function(){function e(){this.styles={},this.container={},this.domId="",this._cache={}}var t=e.prototype;return t.getOrPutInCache=function(e,t){return this._cache[e]||(this._cache[e]=t()),this._cache[e]},t.dumpCache=function(){this._cache={}},t.updateParams=function(e){var t=e.styles,r=e.container,i=e.domId;this.dumpCache(),this.domId=i||this.domId,this.styles=t||this.styles,this.container=r||this.container},t.getGalleryDimensions=function(){var e=this;return this.getOrPutInCache("galleryDimensions",(function(){var t={galleryWidth:Math.ceil(e.getGalleryWidth()),galleryHeight:Math.ceil(e.getGalleryHeight()),scrollBase:e.container.scrollBase?Math.ceil(e.container.scrollBase):0,height:Math.ceil(e.container.height),width:Math.ceil(e.container.width)};if(e.container.externalScrollBase&&(t.scrollBase+=e.container.externalScrollBase),e.styles.hasThumbnails){var r=e.styles.thumbnailSize+e.styles.galleryMargin+3*e.styles.thumbnailSpacings;switch(e.styles.galleryThumbnailsAlignment){case"top":case"bottom":t.galleryHeight-=r;break;case"left":case"right":t.galleryWidth-=r}}else e.styles.isSlideshow&&(t.galleryHeight-=e.styles.slideshowInfoSize);return t}))},t.getGalleryWidth=function(){var e=this;return this.getOrPutInCache("galleryWidth",(function(){var t=Math.floor(e.container.width)+2*e.getDimensionFix();return e.styles.arrowsPosition&&e.styles.oneRow&&(t-=2*(e.styles.arrowsSize+40+e.styles.imageMargin)),t}))},t.getGalleryHeight=function(){var e=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((e.container.height>0?e.container.height:0)+(e.styles.oneRow?e.getDimensionFix():0))}))},t.getDimensionFix=function(){var e=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(e.styles.imageMargin)-Number(e.styles.galleryMargin)}))},t.getGalleryRatio=function(){var e=this;return this.getOrPutInCache("galleryRatio",(function(){var t=e.getGalleryDimensions();return t.galleryWidth/t.galleryHeight}))},e}();t.a=new i},616:function(e,t,r){var i=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,r,i){var n=t&&t.prototype instanceof h?t:h,o=Object.create(n.prototype),s=new w(i||[]);return o._invoke=function(e,t,r){var i="suspendedStart";return function(n,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===n)throw o;return E()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=v(s,r);if(a){if(a===c)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var h=l(e,t,r);if("normal"===h.type){if(i=r.done?"completed":"suspendedYield",h.arg===c)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(i="completed",r.method="throw",r.arg=h.arg)}}}(e,r,s),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(i){return{type:"throw",arg:i}}}e.wrap=a;var c={};function h(){}function u(){}function p(){}var d={};d[n]=function(){return this};var m=Object.getPrototypeOf,f=m&&m(m(S([])));f&&f!==t&&r.call(f,n)&&(d=f);var g=p.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,t){var i;this._invoke=function(n,o){function s(){return new t((function(i,s){!function i(n,o,s,a){var c=l(e[n],e,o);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(u).then((function(e){h.value=e,s(h)}),(function(e){return i("throw",e,s,a)}))}a(c.arg)}(n,o,i,s)}))}return i=i?i.then(s,s):s()}}function v(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return u.prototype=g.constructor=p,p.constructor=u,p[s]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new b(a(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(g),g[s]="Generator",g[n]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=S,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;O(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(n){Function("r","regeneratorRuntime = r")(i)}},797:function(e,t,r){"use strict";r.r(t),r.d(t,"ProGallery",(function(){return Gi})),r.d(t,"ProBlueprintsGallery",(function(){return Xi})),r.d(t,"LayoutingProGallery",(function(){return pn})),r.d(t,"LeanGallery",(function(){return Ii})),r.d(t,"isEligibleForLeanGallery",(function(){return Ai})),r.d(t,"notEligibleReasons",(function(){return _i})),r.d(t,"cssScrollHelper",(function(){return Ft})),r.d(t,"addLayoutStyles",(function(){return Nr})),r.d(t,"GALLERY_CONSTS",(function(){return o.a})),r.d(t,"addPresetStyles",(function(){return De})),r.d(t,"defaultStyles",(function(){return s}));var i=r(0),n=r.n(i),o=r(798),s={isRTL:!1,isVertical:!1,gallerySize:30,minItemSize:120,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",rotatingGroupTypes:"",collageDensity:.8,cubeImages:!1,cubeType:"fill",cubeRatio:1,cropOnlyFill:!1,smartCrop:!1,rotatingCubeRatio:"",gallerySliderImageRatio:16/9,fixedColumns:0,numberOfImagesPerRow:3,numberOfImagesPerCol:1,groupsPerStrip:0,borderRadius:0,boxShadow:0,imageMargin:10,galleryMargin:0,scatter:0,gridStyle:0,mobilePanorama:!1,placeGroupsLtr:!1,viewMode:"preview",oneRow:!1,showArrows:!0,enableInfiniteScroll:!0,thumbnailSpacings:4,galleryThumbnailsAlignment:o.a.thumbnailsAlignment.BOTTOM,enableScroll:!0,hasThumbnails:!1,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,isAutoSlideshow:!1,slideshowLoop:!1,autoSlideshowInterval:4,bottomInfoHeight:0,titlePlacement:o.a.placements.SHOW_ON_HOVER,galleryTextAlign:"center",scrollSnap:!1,itemClick:o.a.itemClick.EXPAND,fullscreen:!0,videoPlay:o.a.videoPlay.HOVER,scrollAnimation:o.a.scrollAnimations.NO_EFFECT,scrollDirection:0,overlayAnimation:o.a.overlayAnimations.NO_EFFECT,arrowsPosition:0,arrowsSize:23,watermarkOpacity:40,watermarkSize:40,useWatermark:!0,watermarkDock:o.a.watermarkDock.RIGHT_DOWN,loadMoreAmount:o.a.loadMoreAmount.ALL,defaultShowInfoExpand:1,allowLinkExpand:!0,expandInfoPosition:0,allowFullscreenExpand:!0,fullscreenLoop:!1,galleryAlignExpand:"left",addToCartBorderWidth:1,addToCartButtonText:"",slideshowInfoSize:200,playButtonForAutoSlideShow:!1,allowSlideshowCounter:!1,hoveringBehaviour:o.a.infoBehaviourOnHover.APPEARS,thumbnailSize:120,magicLayoutSeed:1,imageHoverAnimation:o.a.imageHoverAnimations.NO_EFFECT,imagePlacementAnimation:o.a.imagePlacementAnimations.NO_EFFECT,calculateTextBoxWidthMode:o.a.textBoxWidthCalculationOptions.PERCENT,textBoxHeight:200,textBoxWidth:200,textBoxWidthPercent:50,textImageSpace:10,textBoxBorderRadius:0,textBoxBorderWidth:0,loadMoreButtonText:"",loadMoreButtonBorderWidth:1,loadMoreButtonBorderRadius:0,imageInfoType:o.a.infoType.NO_BACKGROUND,itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,imageLoadingMode:o.a.loadingMode.BLUR,expandAnimation:o.a.expandAnimations.NO_EFFECT,imageQuality:90,usmToggle:!1,usm_a:0,usm_r:0,usm_t:0,videoSound:!1,videoSpeed:"1",videoLoop:!0},a=r(615),l=r(178),c=r(206),h=r(184),u=r(230),p=r(348);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y=new(function(){function e(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}var t,r,i;return e.prototype.updateFeatures=function(){var e=this;this.supports=Object.entries(this.features).reduce((function(t,r){var i,n=r[0],o=r[1].releaseDate;return m(m({},t),{},((i={})[n]=e.freezeDate>=o,i))}))},t=e,(r=[{key:"freezeDate",get:function(){return this._dateCreated||new Date},set:function(e){"object"==typeof e&&"function"==typeof e.getTime&&(this._dateCreated=e,this.updateFeatures())}}])&&g(t.prototype,r),i&&g(t,i),e}()),b=r(320),v=r(411),I=r(412),O=r(414),w=r(409),S=r(410),E=r(415),P=function(e,t){return void 0===t&&(t=!1),e.gallerySizeType===w.a.PIXELS&&e.gallerySizePx>0?e.gallerySizePx:e.gallerySizeType===w.a.RATIO&&e.gallerySizeRatio>0?(p.a&&p.a.innerWidth||980)*(e.gallerySizeRatio/100):t||e.gallerySize};var T=function(e,t){var r=e;r.isSlideshowFont=function(e){var t=e.galleryLayout;if(t===l.a.SLIDESHOW)return!0;if(Object(c.h)(e.titlePlacement)){if(4===t||6===t||7===t)return!0;if(1===t&&e.isVertical)return!0;if(2===t&&1!==e.scrollDirection)return!0}return!1}(r),r.oneRow=r.oneRow||r.scrollDirection===h.a.HORIZONTAL;var i=function(e,t){r[e].value=r[e].value.replace(/^font\s*:\s*/,""),r[e].value=r[e].value.replace(/;$/,""),r[e].value.indexOf("underline")>-1||!0===r[e].style.underline?(r[e].value=r[e].value.replace("underline",""),r[t]="underline"):!1===r[e].style.underline&&(r[t]="none")};if(u.a.isMobile()&&(r.isSlideshowFont?(u.a.isUndefined(r.itemFontSlideshow)||i("itemFontSlideshow","textDecorationTitle"),u.a.isUndefined(r.itemDescriptionFontSlideshow)||i("itemDescriptionFontSlideshow","textDecorationDesc")):(u.a.isUndefined(r.itemFont)||i("itemFont","textDecorationTitle"),u.a.isUndefined(r.itemDescriptionFont)||i("itemDescriptionFont","textDecorationDesc"))),r.isVertical&&!(r.groupSize>1)&&!0!==r.oneRow||r.isSlider||r.isColumns||(r.titlePlacement=c.a.SHOW_ON_HOVER),Object(c.e)(r.titlePlacement)||r.hoveringBehaviour===b.a.NEVER_SHOW||(r.hoveringBehaviour=b.a.APPEARS),r.imageLoadingMode===v.a.COLOR&&r.imageLoadingWithColorMode===I.a.MAIN_COLOR&&(r.imageLoadingMode=v.a.MAIN_COLOR),"fit"===r.cubeType&&(r.isGrid||r.hasThumbnails||r.isSlider||r.isSlideshow)&&(r.itemBorderWidth=0,r.itemBorderRadius=0,r.itemEnableShadow=!1),r.itemEnableShadow&&(r.oneRow?r.itemEnableShadow=!1:r.galleryMargin=Math.max(r.galleryMargin,(r.itemShadowSize||0)+(r.itemShadowBlur||0))),r.oneRow?(r.isVertical=!1,r.scrollAnimation=O.a.NO_EFFECT):r.slideshowLoop=!1,r.imageMargin>0&&(u.a.isMobile()&&(r.imageMargin=Math.min(r.imageMargin,50)),r.imageMargin/=2),r.loadMoreButtonFont&&u.a.isMobile()&&(r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace(/;$/,""),r.loadMoreButtonFont.value.indexOf("underline")>-1?(r.loadMoreButtonFont.value=r.loadMoreButtonFont.value.replace("underline",""),r.textDecorationLoadMore="underline"):r.textDecorationLoadMore="none"),(r.isGrid&&!r.oneRow||y.supports.fixedColumnsInMasonry&&r.isMasonry&&r.isVertical)&&(r.fixedColumns="1"===String(r.gridStyle)?Number(r.numberOfImagesPerRow):0,r.groupTypes="1",r.groupSize=1,r.collageAmount=0,r.collageDensity=0),!u.a.isUndefined(r.numberOfImagesPerCol)&&r.isGrid&&r.oneRow)switch(r.fixedColumns=0,r.numberOfImagesPerCol){case 1:default:r.groupTypes="1",r.groupSize=1,r.collageAmount=0,r.collageDensity=0;break;case 2:r.groupTypes="2v",r.groupSize=2,r.collageAmount=1,r.collageDensity=1;break;case 3:r.groupTypes="3v",r.groupSize=3,r.collageAmount=1,r.collageDensity=1}return r.forceMobileCustomButton&&(r.targetItemSize=Math.round(405),r.titlePlacement=c.a.SHOW_BELOW,r.galleryLayout=2,r.fixedColumns=1,r.numberOfImagesPerRow=1),r.fixedColumns>0&&u.a.isMobile()&&void 0===r.m_numberOfImagesPerRow&&(r.fixedColumns=1),r.gallerySizeType===w.a.PIXELS&&r.gallerySizePx>0?r.targetItemSize=r.gallerySizePx:r.gallerySizeType===w.a.RATIO&&r.gallerySizeRatio>0&&(r.targetItemSize=(p.a&&p.a.innerWidth||980)*(r.gallerySizeRatio/100)),r.textBoxHeight=function(e,t){if(!function(e,t){return Object(c.h)(e.titlePlacement)&&t}(e,t))return 0;return e.textBoxHeight}(r,t),r.externalInfoHeight=function(e,t){var r=t;t>0&&Object(c.h)(e.titlePlacement)&&e.imageInfoType===S.a.SEPARATED_BACKGROUND&&(r+=e.textImageSpace,r+=2*e.textBoxBorderWidth);return r}(r,r.textBoxHeight),r.externalInfoWidth=function(e,t){if(!function(e,t){var r=e.oneRow,i=e.isVertical,n=e.groupSize,o=e.titlePlacement;return!r&&i&&1===n&&Object(c.d)(o)&&t}(e,t))return 0;var r=e.targetItemSize,i=e.calculateTextBoxWidthMode,n=e.textBoxWidth,o=e.textBoxWidthPercent,s=0;s=i===E.a.PERCENT?Math.min(100,Math.max(0,o))/100:Math.min(r,n);return s}(r,t),"auto"===r.videoPlay&&"nothing"===r.itemClick&&u.a.isiOS()&&(r.videoPlay="onClick"),r};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A={galleryLayout:l.a.ALTERNATE,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.48,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",gallerySize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,2h,1,2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"",slideshowLoop:!1};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={galleryLayout:l.a.BRICKS,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,collageDensity:.8,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",slideshowLoop:!1,gallerySize:400,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"2h",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:"0.707,1.414,1.414,0.707"};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G={galleryLayout:l.a.COLLAGE,cubeImages:!1,titlePlacement:c.a.SHOW_ON_HOVER,groupSize:3,hasThumbnails:!1,groupTypes:"1,2h,2v,3t,3b,3l,3r",slideshowLoop:!1,targetItemSize:0,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1},H=function(e){return D(D(D({},e),G),{},{targetItemSize:P(e,Math.round(5*e.gallerySize+500))})};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W={galleryLayout:l.a.FULLSIZE,cubeImages:!0,cubeRatio:"100%/100%",cubeType:"fill",oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K={galleryLayout:l.a.COLUMN,cubeType:"fill",cubeImages:!0,cubeRatio:.35,oneRow:!0,scrollDirection:h.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Strips",fixedColumns:0,enableScroll:!0,isGrid:!1,isColumns:!0,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1},q=function(e){return V(V(V({},e),K),{},{targetItemSize:P(e)})};function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z={galleryLayout:l.a.GRID,cubeImages:!0,isVertical:!0,groupSize:1,hasThumbnails:!1,groupTypes:"1",slideshowLoop:!1,smartCrop:!1,galleryType:"Columns",fixedColumns:0,targetItemSize:0,enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isMasonry:!1,isSlideshow:!1,minItemSize:50},Q=function(e){return J(J(J({},e),Z),{},{targetItemSize:P(e,Math.round(8.5*e.gallerySize+150))})};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={galleryLayout:l.a.MAGIC,cubeImages:void 0,cubeRatio:void 0,isVertical:void 0,targetItemSize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,scatter:void 0,galleryMargin:void 0,chooseBestGroup:void 0,smartCrop:void 0,cubeType:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlideshow:void 0,isSlider:void 0,isColumns:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0,slideshowLoop:!1},ne=function(e){!e>0&&(e=999999),e=Math.floor(e);var t=function(t,r,i){var n,o,s=function(e){e=String(e);for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}(i),a=r-t+1;return n=e,o=s,Math.floor(1e7*(n/o-Math.floor(n/o)))%a+t},r=function(e){return!!t(0,1,e)},i={cubeImages:r("cubeImages"),cubeRatio:t(1,25,"cubeRatio")/5,isVertical:r("isVertical"),targetItemSize:t(300,800,"gallerySize"),collageAmount:t(5,10,"collageAmount")/10,collageDensity:(y.supports.spacingCalculation?t(1,100,"collageDensity"):t(5,10,"collageDensity"))/100,groupTypes:["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(e,t){return r("groupTypes"+t)}))),oneRow:r("oneRow"),imageMargin:t(0,y.supports.spacingCalculation?t(300,800,"gallerySize")/5:5,"imageMargin"),galleryMargin:y.supports.spacingCalculation?0:t(0,5,"imageMargin"),scatter:0,chooseBestGroup:r("chooseBestGroup"),smartCrop:r("smartCrop"),cubeType:"fill",enableScroll:!0,isGrid:!1,isSlideshow:!1,isSlider:!1,isColumns:!1,cropOnlyFill:!1,fixedColumns:0,enableInfiniteScroll:1};return i.oneRow?(i.isVertical=!1,i.scrollDirection=h.a.HORIZONTAL):i.scrollDirection=h.a.VERTICAL,i.galleryType=i.isVertical?"Columns":"Strips",i.groupSize=parseInt(i.groupTypes.slice(-1)[0]),i.groupTypes=i.groupTypes.join(","),i.minItemSize=i.targetItemSize/i.groupSize/2,i};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le={galleryLayout:l.a.MASONRY,cubeImages:!1,scrollDirection:h.a.VERTICAL,groupSize:1,groupTypes:"1",slideshowLoop:!1,fixedColumns:0,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1},ce=function(e){return se(se(se({},e),le),{},{targetItemSize:P(e,e.isVertical?8*e.gallerySize+200:5*e.gallerySize+200)})};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de={galleryLayout:l.a.MIX,cubeType:"fill",cubeImages:!0,cubeRatio:1,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.VERTICAL,galleryMargin:0,isVertical:!0,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",collageDensity:.48,targetItemSize:86,minItemSize:50,chooseBestGroup:!0,rotatingGroupTypes:"1,3l,1,3r",smartCrop:!1,scatter:0,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,rotatingCropRatios:""};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye={galleryLayout:l.a.PANORAMA,cubeImages:!1,scrollDirection:h.a.VERTICAL,isVertical:!0,groupSize:1,groupTypes:"1",galleryType:"Columns",oneRow:!1,fixedColumns:1,enableScroll:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,slideshowLoop:!1},be=function(e){return fe(fe(fe({},e),ye),{},{targetItemSize:P(e)})};function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we={galleryLayout:l.a.SLIDER,enableInfiniteScroll:!0,cubeImages:!0,oneRow:!0,scrollDirection:h.a.HORIZONTAL,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!0,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!0};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te={galleryLayout:l.a.SLIDESHOW,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,hoveringBehaviour:b.a.NEVER_SHOW,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",itemBorderWidth:0,itemBorderRadius:0,itemBorderColor:void 0,smartCrop:!1,targetItemSize:550,galleryType:"Strips",fixedColumns:1,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,scatter:0,imageMargin:0},Le=function(e){return Ee(Ee(Ee({},e),Te),{},{targetItemSize:P(e)})};function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e={galleryLayout:l.a.THUMBNAIL,enableInfiniteScroll:!0,cubeRatio:"100%/100%",cubeImages:!0,oneRow:!0,titlePlacement:c.a.SHOW_ON_HOVER,scrollDirection:h.a.HORIZONTAL,galleryMargin:0,isVertical:!1,groupSize:1,groupTypes:"1",smartCrop:!1,galleryType:"Strips",hasThumbnails:!0,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,scatter:0,imageMargin:0};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je={galleryLayout:l.a.EMPTY},De=function(e){var t=e.galleryType,r=e.galleryType,i=e.galleryLayout;if(void 0!==r&&void 0===i)switch(t){case"1":return H(e);case"2":return Q(e);case"3":case"4":return ce(e);case"5":return be(e);case"6":return q(e);case"7":return Le(e);case"0":default:return H(e)}else switch(e.galleryLayout){case l.a.MASONRY:return ce(e);case l.a.GRID:return Q(e);case l.a.THUMBNAIL:return function(e){return Ce(Ce(Ce({},e),_e),{},{targetItemSize:P(e)})}(e);case l.a.SLIDER:return function(e){return Ie(Ie(Ie({},e),we),{},{targetItemSize:P(e)})}(e);case l.a.SLIDESHOW:return Le(e);case l.a.PANORAMA:return be(e);case l.a.COLUMN:return q(e);case l.a.MAGIC:return function(e){return te(te(te({},e),ie),ne(e.magicLayoutSeed))}(e);case l.a.FULLSIZE:return function(e){return z(z(z({},e),W),{},{targetItemSize:P(e)})}(e);case l.a.BRICKS:return function(e){return R(R(R({},e),k),{},{targetItemSize:P(e)})}(e);case l.a.MIX:return function(e){return ue(ue(ue({},e),de),{},{targetItemSize:P(e)})}(e);case l.a.ALTERNATE:return function(e){return x(x(x({},e),A),{},{targetItemSize:P(e)})}(e);case l.a.EMPTY:return function(e){return Me(Me(Me({},e),je),{},{targetItemSize:P(e,Math.round(9*e.gallerySize+100))})}(e);case l.a.COLLAGE:default:return H(e)}},Ne={alternate:A,bricks:k,collage:G,fullsize:W,column:K,grid:Z,magic:ie,masonry:le,mix:de,panorama:ye,slider:we,slideshow:Te,thumbnails:_e,empty:je},Ge=r(418);function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=new(function(){function e(){this._hash2int={}}var t=e.prototype;return t.stripSlashes=function(e){var t="";return"string"==typeof e&&(t=e.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),t},t.parseStringObject=function(e){if("string"!=typeof e)return e;var t=this.stripSlashes(e);if("string"==typeof e&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(t)}catch(r){}return t},t.hashToInt=function(e,t,r){var i=0;if(void 0===e||0===e.length)return i;if(!this._hash2int[e]){for(var n=0;n<e.length;n++)i+=e.charCodeAt(n);this._hash2int[e]=i}return void 0===t||void 0===r?this._hash2int[e]:this._hash2int[e]%(r-t+1)+t},t.insertIfDefined=function(e,t,r){void 0!==r&&(e[t]=r)},t.convertStyleParams=function(e){var t=Object.assign({cubeImages:!1,cubeType:"fill",cubeRatio:1,rotatingCropRatios:"",smartCrop:!1,imageMargin:10,galleryMargin:0,scatter:0,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",rotatingGroupTypes:"",isVertical:!0,minItemSize:120,oneRow:!1,targetItemSize:500,collageDensity:50,fixedColumns:0,columnWidths:""},e);return this.insertIfDefined(t,"cubeImages",t.cropItems),this.insertIfDefined(t,"cubeType",t.cropType),this.insertIfDefined(t,"cubeRatio",t.cropRatio),this.insertIfDefined(t,"rotatingCropRatios",Array.isArray(t.rotatingCropRatios)?t.rotatingCropRatios.join(","):void 0),this.insertIfDefined(t,"smartCrop",t.smartCrop),this.insertIfDefined(t,"imageMargin",t.itemSpacing),this.insertIfDefined(t,"galleryMargin",t.layoutSpacing),this.insertIfDefined(t,"scatter",t.randomSpacings),this.insertIfDefined(t,"chooseBestGroup",t.smartGrouping),this.insertIfDefined(t,"groupSize",t.itemsPerGroup),this.insertIfDefined(t,"groupTypes",Array.isArray(t.allowedGroupTypes)?t.allowedGroupTypes.join(","):void 0),this.insertIfDefined(t,"rotatingGroupTypes",Array.isArray(t.rotatingGroupTypes)?t.rotatingGroupTypes.join(","):void 0),this.insertIfDefined(t,"isVertical",t.isColumnsLayout),this.insertIfDefined(t,"minItemSize",t.minItemSize),this.insertIfDefined(t,"oneRow",t.isVerticalScroll),this.insertIfDefined(t,"targetItemSize",t.rowSize||t.columnSize),this.insertIfDefined(t,"collageDensity",t.collageDensity),this.insertIfDefined(t,"fixedColumns",t.fixedColumns),this.insertIfDefined(t,"columnWidths",Array.isArray(t.columnWidths)?t.columnWidths.join(","):void 0),t},t.convertContainer=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({bounds:{}},e);return e.width>=0&&!(e.galleryWidth>=0)&&(r.galleryWidth=e.width+2*((t.imageMargin||0)-(t.galleryMargin||0)),delete r.width),e.height>=0&&!(e.galleryHeight>=0)&&(r.galleryHeight=e.height+((t.imageMargin||0)-(t.galleryMargin||0)),delete r.height),t.externalInfoHeight>=0&&t.oneRow&&(r.galleryHeight-=t.externalInfoHeight),r},e}());function Be(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var We=function(){function e(e){if(this.style={},this.visibility={},(e=e||{}).dto||(console.error("Item has no DTO",e),e.dto={}),this.config=e,this.dto=e.dto,this.idx=e.idx,this.inGroupIdx=e.inGroupIdx,this.container=e.container,this.cubeType="fill",e.styleParams){var t=e.styleParams;this.cubeType=t.cubeType,this.cubeImages=t.cubeImages,this._cubeRatio=t.cubeRatio,this.rotatingCropRatios=t.rotatingCropRatios,this.smartCrop=t.smartCrop,this.cropOnlyFill=t.cropOnlyFill,this.imageMargin=t.imageMargin,this.galleryMargin=t.galleryMargin,this.scatter=t.scatter,this.smartCrop=t.smartCrop}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}var t,r,i,n=e.prototype;return n.fixMetadataVerticalVideoRatio=function(e){if(e.qualities&&e.qualities[0]){var t=e.qualities,r=t[t.length-1],i=r.height,n=r.width;e.height=i,e.width=n}},n.resize=function(e){var t=1;if(!1!==e){if(e>0)t=e;else if("object"==typeof e){if(e.width)t=Math.max(1,e.width)/this.width;else if(e.height){t=Math.max(1,e.height)/this.height}}return this.width*=t,this.height*=t,this.resized=!0,this}},n.pinToCorner=function(e,t){var r=this;void 0===t&&(t=!1);var i=e.indexOf("top")>=0,n=e.indexOf("left")>=0;this.style.top=i?0:"auto",this.style.bottom=i?"auto":0,this.style.left=n?0:"auto",this.style.right=n?"auto":0,this.pin=e,this.isPinnedTop=i,this.isPinnedLeft=n,this.pinAfter=t,this.pinAfterType=i?"top":n?"left":"",this.calcPinOffset=function(e,t){if(r.pinAfter){if(r.pin===t){var i=r.imageMargin;return"top"===t?r.pinAfter.height+2*i:"left"===t?r.pinAfter.width+2*i:0}return 0}return 0}},n.setPosition=function(e){this.style.position=e},n.getPosition=function(e){return parseInt(e,10)>=0?e:"auto"},n.calcScatter=function(e){if(this.scatter>0){var t=this.imageMargin,r=this.galleryMargin,i=e.left>0?t:r,n=this.container.galleryWidth-e.right>2*t?t:r,o=e.top>0?t:r,s=this.container.galleryHeight-e.bottom>2*t?t:r;return{x:ze.hashToInt(this.hash+e.right+"x",-1*i,n)*(this.scatter/100),y:ze.hashToInt(this.hash+e.top+"y",-1*o,s)*(this.scatter/100)}}return{x:0,y:0}},t=e,(r=[{key:"top",get:function(){return this.getPosition(this.style.top)}},{key:"left",get:function(){return this.getPosition(this.style.left)}},{key:"right",get:function(){return this.getPosition(this.style.right)}},{key:"bottom",get:function(){return this.getPosition(this.style.bottom)}},{key:"group",set:function(e){Object.assign(this._group,e)},get:function(){return this._group}},{key:"groupOffset",set:function(e){Object.assign(this._groupOffset,e)}},{key:"offset",get:function(){var e={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0},t=this.calcScatter(e),r=t.x,i=t.y;return e.left+=r,e.top+=i,e.right=e.left+this.width,e.bottom=e.top+this.height,e}},{key:"id",get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(e){this.dto.itemId=this.dto.photoId=this.dto.id=e}},{key:"hash",get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id}},{key:"maxWidth",get:function(){return this.dto.width||this.dto.w},set:function(e){this.dto.width=e}},{key:"outerWidth",get:function(){return this.width+2*this.margins}},{key:"infoWidth",get:function(){return this.Group?this.Group.infoWidth:0}},{key:"orgWidth",get:function(){return this.style.width||this.dto.width||this.dto.w||1}},{key:"width",get:function(){var e;return e=this.cubeImages&&this.ratio>=this.cubeRatio?this.style.cubedWidth||this.orgHeight*this.cubeRatio:this.orgWidth,Math.max(e,1)},set:function(e){this.style.cubedWidth=this.style.width=Math.max(1,e)}},{key:"outerHeight",get:function(){return this.height+2*this.margins}},{key:"orgHeight",get:function(){return this.style.height||this.dto.height||this.dto.h||1}},{key:"height",get:function(){var e;return e=this.cubeImages&&this.ratio<this.cubeRatio?this.style.cubedHeight||this.orgWidth/this.cubeRatio:this.orgHeight,Math.max(e,1)},set:function(e){this.style.cubedHeight=this.style.height=Math.max(1,e)}},{key:"maxHeight",get:function(){return this.dto.height||this.dto.h},set:function(e){this.dto.height}},{key:"infoHeight",get:function(){return this.Group?this.Group.infoHeight:0}},{key:"margins",get:function(){return this.imageMargin||0},set:function(e){this.imageMargin=e}},{key:"cubeRatio",get:function(){var e,t=this;if(this.rotatingCropRatio)e=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var r=String(this.rotatingCropRatios).split(",");e=this.rotatingCropRatio=r[this.idx%r.length]}if(e||"function"!=typeof this._cubeRatio||(e=this._cubeRatio()),!e&&this.cropOnlyFill&&"fit"===this.cubeType&&(e=this.ratio),e||(e=this._cubeRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof e){if(!this.dynamicCropRatios){var i=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(e);this.dynamicCropRatios=i?e.split("/").map((function(e,t){return e.indexOf("%")>0?{type:"%",val:parseFloat(e.replace("%",""))/100,dim:0===t?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(e.replace("px",""))}})):null}if(this.dynamicCropRatios){var n=this.dynamicCropRatios.map((function(e){if("%"===e.type){var r=t.container[e.dim]+("galleryHeight"===e.dim?t.imageMargin:0);return e.val*r-2*t.imageMargin}return e.val}));e=n[0]/n[1]}}return e=Number(e),!0===this.smartCrop&&(e=this.isPortrait?Math.min(e,1/e):Math.max(e,1/e)),"min"===this.cubeType?e=Math.max(e,this.orgRatio):"max"===this.cubeType&&(e=Math.min(e,this.orgRatio)),e},set:function(e){"number"==typeof this._cubeRatio&&(this._cubeRatio=e,this.style.cubedHeight=this.style.cubedWidth=0)}},{key:"orientation",get:function(){return this.ratio<.999?"portrait":"landscape"}},{key:"isPortrait",get:function(){return"portrait"===this.orientation}},{key:"isLandscape",get:function(){return"landscape"===this.orientation}},{key:"ratio",get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(e){this.orgRatio=e}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,cropRatio:this.cubeRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}}}])&&Be(t.prototype,r),i&&Be(t,i),e}();function Ue(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ve(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Xe={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},Je={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},$e={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},Ze=function(){function e(e){var t=this;if(this.idx=e.idx,this.stripIdx=e.stripIdx,this.inStripIdx=e.inStripIdx,this.top=e.top,this.showAllItems=e.showAllItems,this.isLastItems=e.isLastItems,this.dummyItems=[],this.targetItemSize=e.targetItemSize,this.items=e.items.map((function(e){return e.Group=t,e})),e.styleParams){var r=e.styleParams;this.oneRow=r.oneRow,this.cubeType=r.cubeType,this.cubeImages=r.cubeImages,this.isVertical=r.isVertical,this.minItemSize=r.minItemSize,this.collageAmount=r.collageAmount,this.collageDensity=r.collageDensity,this.groupTypes=r.groupTypes,this.rotatingGroupTypes=r.rotatingGroupTypes,this.rotatingCropRatios=r.rotatingCropRatios,this.chooseBestGroup=r.chooseBestGroup,this.layoutsVersion=r.layoutsVersion,this.externalInfoHeight=r.externalInfoHeight,this.externalInfoWidth=r.externalInfoWidth,this.imageMargin=r.imageMargin,this.groupSize=r.groupSize}this.visible=!0,this.rendered=!0,this.required=!0;for(var i=this.items.length;!this.isWithinMinItemSize&&i>0;)this.placeItems(i),this.resize(),i--}var t,r,i,n=e.prototype;return n.resize=function(){this.isVertical?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)},n.safeGetItem=function(e){if(this.items[e])return this.items[e];if(this.dummyItems[e])return this.dummyItems[e];var t=new We(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.items[this.items.length-1].config));return t.idx=t.config.idx+e-(this.items.length-1),t.type="dummy",this.dummyItems[e]=t,t},n.setCubedHeight=function(e){var t=this.cubeImages&&1===this.groupSize&&["fill","fit"].includes(this.cubeType)&&0===this.rotatingGroupTypes.length&&0===this.rotatingCropRatios.length;this.cubedHeight=t?e:null},n.round=function(){this.isLastGroup&&!this.oneRow?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(var e,t=Ue(this.items);!(e=t()).done;){var r=e.value;r.width=Math.round(r.width),r.height=Math.round(r.height),r.group={width:this.width,height:this.height}}var i=2*this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-i,this.safeGetItem(0).height=this.height-i;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-i,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-i,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i;break;case"3t":this.safeGetItem(0).width=this.width-i,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*i,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(2).width=this.width-i;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*i,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(0).height=this.height-i;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*i,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*i,this.safeGetItem(2).height=this.height-i;break;case"3v":this.safeGetItem(0).width=this.width-i,this.safeGetItem(1).width=this.width-i,this.safeGetItem(2).width=this.width-i,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*i;break;case"3h":this.safeGetItem(0).height=this.height-i,this.safeGetItem(1).height=this.height-i,this.safeGetItem(2).height=this.height-i,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*i}},n.getGroupType=function(e){if(this.rotatingGroupTypes){var t=String(this.rotatingGroupTypes).split(",");return t[this.idx%t.length]}var r,i=this.isVertical;if(this.chooseBestGroup){var n=this.items.map((function(e){return e.orientation.slice(0,1)})).join("");r=(i?Xe:Je)[n]}else 3!==this.items.length&&3!==e||(r=i?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==e||(r=i?"1,2h":"1,2v"),1!==this.items.length&&1!==e||(r="1");var o=r.length>0?r.split(","):[];if(this.groupTypes){var s=this.groupTypes.split(",");s.length>1?0===(o=o.filter((function(e){return s.indexOf(e)>=0}))).length&&(o=["1"]):o=s}if(this.layoutsVersion>1&&this.collageDensity>=0){var a=this.collageDensity,l=parseInt(o[o.length-1]),c=$e[l],h=c[Math.floor(a*(c.length-1))];0===(o=o.filter((function(e){return h.indexOf(parseInt(e))>=0}))).length&&(o=["1"])}return o[this.calculateRandomSeed(o.length)]||"1"},n.calculateRandomSeed=function(e){var t;return t=this.isVertical?ze.hashToInt(this.items[0].hash)%e:(this.inStripIdx+this.stripIdx)%e,1===this.layoutsVersion&&this.collageAmount>=0&&(t+=(this.collageAmount-.5)*e),Math.round(Math.min(Math.max(0,t),e-1))},n.placeItems=function(e){this.type=this.getGroupType(e);var t,r=[],i=0,n=0;switch(this.type){default:case"1":(t=this.safeGetItem(0)).pinToCorner("top-left"),r.push(t),i=t.width,n=t.height;break;case"2v":(t=this.safeGetItem(0)).pinToCorner("top-left"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(1)).pinToCorner("bottom-left"),t.resize(i/t.width),n+=t.height,r.push(t);break;case"2h":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.innerOffset=[0,0],r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(1)).pinToCorner("top-right"),t.innerOffset=[0,0],t.resize(n/t.height),i+=t.width,r.push(t);break;case"3b":(t=this.safeGetItem(0)).pinToCorner("top-left"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(1)).pinToCorner("top-right"),t.resize(n/t.height),i+=t.width,r.push(t),(t=this.safeGetItem(2)).pinToCorner("bottom-left"),t.resize(i/t.width),n+=t.height,r.push(t);break;case"3t":(t=this.safeGetItem(1)).pinToCorner("bottom-left"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-right"),t.resize(n/t.height),i+=t.width,r.push(t),(t=this.safeGetItem(0)).pinToCorner("top-left"),t.resize(i/t.width),n+=t.height,r=[t].concat(r);break;case"3r":(t=this.safeGetItem(0)).pinToCorner("top-left"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(1)).pinToCorner("bottom-left"),t.resize(i/t.width),n+=t.height,r.push(t),(t=this.safeGetItem(2)).pinToCorner("top-right"),t.resize(n/t.height),i+=t.width,r.push(t);break;case"3l":(t=this.safeGetItem(1)).pinToCorner("top-right"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-right"),t.resize(i/t.width),n+=t.height,r.push(t),(t=this.safeGetItem(0)).pinToCorner("top-left"),t.resize(n/t.height),i+=t.width,r=[t].concat(r);break;case"3v":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.setPosition("relative"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(2)).pinToCorner("bottom-left"),t.setPosition("relative"),t.resize(i/t.width),n+=t.height,r.push(t),(t=this.safeGetItem(1)).setPosition("relative"),t.resize(i/t.width),n+=t.height,t.pinToCorner("top",r[0]),r=[r[0],t,r[1]];break;case"3h":(t=this.safeGetItem(0)).pinToCorner("top-left"),t.setPosition("relative"),r.push(t),i=t.width,n=t.height,(t=this.safeGetItem(2)).pinToCorner("top-right"),t.setPosition("relative"),t.resize(n/t.height),i+=t.width,r.push(t),(t=this.safeGetItem(1)).setPosition("relative"),t.resize(n/t.height),i+=t.width,t.pinToCorner("left",r[0]),r=[r[0],t,r[1]]}this.width=i,this.height=n,this.items=r,this.placed=!0},n.resizeToHeight=function(e){this.height=e,this.width=this.getWidthByHeight(e),this.resizeItems()},n.resizeToWidth=function(e){this.width=e,this.height=this.getHeightByWidth(e),this.resizeItems()},n.resizeItems=function(){var e=this,t=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;t.forEach((function(r,i){r.resize(e.getItemDimensions(t,i)),r.group={top:e.top,left:e.left,width:e.width,height:e.height},r.groupOffset={bottom:e.top+e.height,right:e.left+e.width}}))},n.getItemDimensions=function(e,t){var r=2*this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-r};case"2h":case"3h":return{height:this.height-r};case"3t":case"3b":return 0===t?{width:this.width-r}:{height:this.height-e[0].height-2*r};case"3r":case"3l":return 0===t?{height:this.height-r}:{width:this.width-e[0].width-2*r}}},n.getHeightByWidth=function(e){var t=1,r=1,i=2*this.imageMargin,n=this.items.map((function(e){return e.width/e.height}));switch(this.type){default:case"1":r=1-(t=1/n[0]);break;case"2h":r=1-2*(t=1/(n[0]+n[1]));break;case"2v":r=2-(t=1/n[0]+1/n[1]);break;case"3h":r=1-3*(t=1/(n[0]+n[1]+n[2]));break;case"3v":r=3-(t=1/n[0]+1/n[1]+1/n[2]);break;case"3t":t=1/(n[2]+n[1])+1/n[0],r=2-2/(n[2]+n[1])+1/n[0];break;case"3b":t=1/(n[0]+n[1])+1/n[2],r=2-2/(n[0]+n[1])+1/n[2];break;case"3l":r=2-(t=(n[1]+n[2])/(n[0]*n[1]+n[1]*n[2]+n[0]*n[2]))*(2+n[0]);break;case"3r":r=2-(t=(n[0]+n[1])/(n[0]*n[1]+n[1]*n[2]+n[0]*n[2]))*(2+n[2])}return e*t+i*r},n.getWidthByHeight=function(e){var t=1,r=1,i=2*this.imageMargin,n=this.items.map((function(e){return e.width/e.height}));switch(this.type){default:case"1":r=1-(t=n[0]);break;case"2h":r=2-(t=n[0]+n[1]);break;case"2v":r=1-2*(t=1/(1/n[0]+1/n[1]));break;case"3h":r=3-(t=n[0]+n[1]+n[2]);break;case"3v":r=1-3*(t=1/(1/n[0]+1/n[1]+1/n[2]));break;case"3t":t=1/(1/(n[2]+n[1])+1/n[0]),r=(2/(n[2]+n[1])+1/n[0]-2)*t;break;case"3b":t=1/(1/(n[0]+n[1])+1/n[2]),r=(2/(n[0]+n[1])+1/n[2]-2)*t;break;case"3l":t=(n[0]*n[1]+n[1]*n[2]+n[0]*n[2])/(n[1]+n[2]),r=2+n[0]-2*t;break;case"3r":t=(n[0]*n[1]+n[1]*n[2]+n[0]*n[2])/(n[0]+n[1]),r=2+n[2]-2*t}return e*t+i*r},n.setTop=function(e){this.top=e||0;for(var t,r=Ue(this.items);!(t=r()).done;){t.value.groupOffset={top:e,bottom:e+this.height}}},n.setLeft=function(e){this.left=e||0;for(var t,r=Ue(this.items);!(t=r()).done;){t.value.groupOffset={left:e,right:e+this.width}}},t=e,(r=[{key:"id",get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id}},{key:"ratio",get:function(){return this.width/this.height}},{key:"height",get:function(){return this.cubedHeight||this._height},set:function(e){this._height=e}},{key:"totalHeight",get:function(){return this.height+this.infoHeight}},{key:"infoHeight",get:function(){return this.externalInfoHeight||0}},{key:"infoWidth",get:function(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}},{key:"realItems",get:function(){return this._items.filter((function(e){return"dummy"!==e.type}))}},{key:"isWithinMinItemSize",get:function(){var e=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(t,r){var i=Math.min(r.width,r.height)>=e.minItemSize;return t&&i}),!0))}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(e){return e.scheme})),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}}}])&&qe(t.prototype,r),i&&qe(t,i),e}();function Qe(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function tt(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var rt=function(){function e(e){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=e.idx,this.groupsPerStrip=e.groupsPerStrip,this.oneRow=e.oneRow,this.targetItemSize=e.targetItemSize,this.container=e.container}var t,r,i,n=e.prototype;return n.addGroup=function(e){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(e),e.stripIdx=this.idx,e.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},n.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},n.canRemainIncomplete=function(){return 1.5*this.targetItemSize<this.height},n.setWidth=function(e){this.width=e,this.hasGroups&&(this.lastGroup.stripWidth=e)},n.resizeToHeight=function(e){this.height=e;for(var t,r=0,i=0,n=Qe(this.groups);!(t=n()).done;){var o=t.value;o.setLeft(r),o.width+=i,o.resizeToHeight(e),i=o.width,o.round(),i-=o.width,r+=o.width}},n.isFull=function(e,t){if(!this.hasGroups)return!1;var r=this.groupsPerStrip,i=this.oneRow,n=this.targetItemSize;if(r>0)return this.groups.length>=r;var o,s=this.container.galleryWidth;if(i)o=!1;else{var a=s/(this.ratio+e.ratio)-n,l=s/this.ratio-n;(o=!isNaN(a)&&!isNaN(l)&&(l<0||a<0&&Math.abs(l)<Math.abs(a)))&&t&&(o=Number(Math.abs(l))<Math.abs(a))}return o},t=e,(r=[{key:"hasGroups",get:function(){return this.groups.length>0}},{key:"lastGroup",get:function(){return this.groups[this.groups.length-1]}},{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(e){return e.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}}}])&&tt(t.prototype,r),i&&tt(t,i),e}();function it(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var nt=function(){function e(e,t,r,i,n){this.idx=e,this.groups=[],this.height=0,this.width=t,this.left=r,this.cubedHeight=i,this.infoWidth=n||0}var t,r,i,n=e.prototype;return n.addGroup=function(e){this.addGroups([e])},n.addGroups=function(e){var t=this;this.groups=this.groups.concat(e),e.forEach((function(e){e.columnIdx=t.idx,e.Column=t}))},t=e,(r=[{key:"totalWidth",get:function(){return this.width+this.infoWidth}},{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(e){return e.scheme})),width:this.width,height:this.height}}}])&&it(t.prototype,r),i&&it(t,i),e}();function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lt=new(function(){function e(){}var t,r,i;return t=e,(r=[{key:"layout",set:function(e){this._layout=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)},get:function(){return this._layout}}])&&at(t.prototype,r),i&&at(t,i),e}());function ct(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function ut(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var pt=function(){function e(e){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(e),!1!==this.createLayoutOnInit&&this.createLayout(e)}var t,r,i,n=e.prototype;return n.updateParams=function(e){this.srcItems=e.items,this.styleParams=ze.convertStyleParams(e.styleParams),this.container=ze.convertContainer(e.container,this.styleParams);var t=e.options||{};this.useExistingLayout=!!t.useExistingLayout,this.createLayoutOnInit=t.createLayoutOnInit,this.showAllItems=!!t.showAllItems||!!e.showAllItems,this.useLayoutStore=!!t.useLayoutStore},n.verifyGalleryState=function(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")},n.calcNumberOfColumns=function(e,t){var r=1;if(this.styleParams.isVertical)if(this.styleParams.fixedColumns>0)r=this.styleParams.fixedColumns;else if(this.styleParams.columnWidths)r=this.styleParams.columnWidths.split(",").length;else{var i=e/t,n=[Math.floor,Math.ceil],o=n.map((function(e){return e(i)})).map((function(t){return Math.round(e/t)})).map((function(e){return Math.abs(t-e)}));r=(0,n[o.indexOf(Math.min.apply(Math,o))])(i)||1}else r=1;return r},n.findShortestColumn=function(e,t){var r=e[0];if(this.styleParams.placeGroupsLtr)r=e[t%e.length];else for(var i,n=-1,o=ct(e);!(i=o()).done;){var s=i.value,a=s.height;(a<n||n<0)&&(n=a,r=s)}return r},n.saveExistingLayout=function(){this.useLayoutStore&&(lt.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})},n.prepareLayoutParams=function(){var e=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,lt.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(t){var r=e.columns[t.columnIdx];r&&(r.height-=t.totalHeight,r.groups.splice(-1,1)),e.groups.splice(-1,1),t.realItems.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--}))}else{if(this.styleParams.oneRow){this.groups.slice(-1).forEach((function(t){var r=e.columns[0];r&&r.groups.splice(-1,1);var i=e.strips[0];i&&(i.setWidth(i.width-t.width),i.ratio=i.width/i.height,i.groups.splice(-1,1),e.strip=i),e.strips=[],e.groups.splice(-1,1),t.realItems.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--})),this.galleryHeight=0}else{var t=this.strips.slice(-2);t&&(t.forEach((function(t){t&&(e.strips.splice(-1,1),t.groups.forEach((function(t){e.groups.splice(-1,1),t.items.forEach((function(){e.layoutItems.splice(-1,1),e.pointer--})),e.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(e,t){return e+t.height}),0),this.strip=new rt({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{var r;if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else r="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(r)+Math.ceil(2*(this.styleParams.imageMargin-this.styleParams.galleryMargin));this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new rt({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;var i,n=this.styleParams,o=n.columnWidths,s=n.cubeRatio,a=n.externalInfoWidth,l=n.imageMargin,c=!!(o&&o.length>0)&&o.split(","),h=0,u=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map((function(t,r){var n=c?c[r]:Math.round(u/(e.numOfCols-r)),o=h;h+=n,u-=n;var p=Math.round(a>1?a:a*n)||0;return n-=p,i=i||(e.targetItemSize-p-2*l)/s+2*l,new nt(r,n,o,i,p)})),this.maxLoops=10*this.srcItems.length}},n.createLayout=function(e){for(void 0!==e&&this.updateParams(e),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new We({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new Ze({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var t=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(t.cubedHeight),this.group.resizeToWidth(t.width),this.group.round(),this.group.setTop(t.height),this.group.setLeft(t.left),t.addGroup(this.group),t.height+=this.group.totalHeight,this.galleryHeight<t.height&&(this.galleryHeight=t.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new rt({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(this.styleParams.oneRow?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin-this.styleParams.galleryMargin):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var r=this.container.galleryHeight/this.galleryHeight;this.items.map((function(e){return e.cubeImages=!0,e.cubeRatio=e.ratio=e.width/(e.height*r),e.height*=r,e})),this.groups.map((function(e){return e.height*=r,e.setTop(e.top*r),e.resizeItems(),e}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin-this.styleParams.galleryMargin),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme},n.lastVisibleItemIdxInHeight=function(e){for(var t=this.items.length-1;t>=0;t--){if(this.items[t].offset.top<e)return t}return this.items.length-1},n.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},n.findNeighborItem=function(e,t){var r,i=this,n=this.layoutItems[e],o=function(e,t,r){var n,o,s,a=null,l={};return i.layoutItems.forEach((function(i){n=i.offset.top+i.height/2,o=i.offset.left+i.width/2,s=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),(null===a||s>0&&s<a)&&r(e,t,o,n)&&(a=s,l=i)})),l};switch(t){case"up":r=o(n.offset.left+n.width/2,n.offset.top,(function(e,t,r,i){return i<t}));break;case"left":r=o(n.offset.left,n.offset.top+n.height/2,(function(e,t,r){return r<e}));break;case"down":r=o(n.offset.left+n.width/2,n.offset.bottom,(function(e,t,r,i){return i>t}));break;default:case"right":r=o(n.offset.right,n.offset.top+n.height/2,(function(e,t,r){return r>e}))}return r.idx>=0?r.idx:(console.warn("Could not find offset for itemIdx",e,t),e)},n.getMaxGroupSize=function(){var e=1;try{e=("string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes).reduce((function(e,t){return Math.max(e,parseInt(t))}),1),e=Math.min(e,this.styleParams.groupSize)}catch(t){console.error("couldn't calculate max group size - returing 3 (?)",t),e=3}return e},t=e,(r=[{key:"isLastImage",get:function(){return!this.srcItems[this.pointer+1]}},{key:"isLastImages",get:function(){return this.styleParams.layoutsVersion>1?!this.srcItems[this.pointer+1]:!this.srcItems[this.pointer+3]}},{key:"imagesLeft",get:function(){return this.srcItems.length-this.pointer-1}},{key:"items",get:function(){return this.layoutItems}},{key:"scheme",get:function(){return{items:this.items.map((function(e){return e.scheme})),groups:this.groups.map((function(e){return e.scheme})),strips:this.strips.map((function(e){return e.scheme})),columns:this.columns.map((function(e){return e.scheme})),height:this.height,width:this.width}}}])&&ut(t.prototype,r),i&&ut(t,i),e}(),dt=r(413),mt=r(416);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var vt=function(){function e(e){this.uniqueId=u.a.generateUUID(),this.isGalleryItem=!0,this.createdBy=e.createdBy,this.createUrl=this.createUrl.bind(this),this.update(e)}var t,r,i,n=e.prototype;return n.update=function(e){if(this.resizeMediaUrl=e.resizeMediaUrl,e.dto&&e.dto.dto&&(e.dto=e.dto.dto,u.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=gt({},e.dto),e.scheme)this.processScheme(e.scheme);else{var t={};Object.assign(t,this.dto,this.metadata),this.processScheme(new We({dto:t}).scheme)}if(this.dto){var r=this.dto.metaData||this.dto.metadata;r&&(this.dto.metaData=u.a.parseStringObject(r))}this.sharpParams=gt({},e.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=e.thumbnailSize||120,this.resetUrls(),this.updateSharpParams()},n.processScheme=function(e){this.id=e.id,this.idx=e.idx,this.type=e.type,this.style=e.style,this.width=e.width,this.maxWidth=e.maxWidth,this.infoWidth=e.infoWidth,this.height=e.height,this.maxHeight=e.maxHeight,this.infoHeight=e.infoHeight,this.margins=e.margins,this.ratio=e.ratio,this.cubeRatio=e.cropRatio,this.cubeImages=e.isCropped,this.cubeType=e.cropType||dt.a.FILL,this.offset=e.offset,this.group=e.group,this.orientation=e.orientation,this.visibility=e.visibility},n.renderProps=function(e){return gt({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,url:this.url,alt:this.alt,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cubeRatio:this.cubeRatio,offset:this.offset,style:gt({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},e)},n.getDataForShop=function(){var e=this.focalPoint,t=this.metadata;return{isDemo:t.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:t.height,title:t.title,itemWidth:t.width,itemType:t.type||"image",imageUrl:this.resizedUrl(dt.a.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:e[0],fpY:e[1]}},n.getHighestMp4Resolution=function(e){var t=e.filter((function(e){return"mp4"===e.formats[0]})).sort((function(e,t){return t.width-e.width}))[0];return{width:t.width,height:t.height}},n.resizedUrl=function(e,t,r,i){var n=this,o=function(e,t){var r;if("function"==typeof n.resizeMediaUrl)try{for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];var a=String(u.a.hashCode(JSON.stringify(gt({url:t},o))));n._cachedUrls[a]||(n._cachedUrls[a]=String(n.resizeMediaUrl.apply(n,[e,t].concat(o))||"")),r=n._cachedUrls[a]}catch(l){r=String(t)}else r=String(t);return r};t=Math.ceil(t),r=Math.ceil(r);var s=e===dt.a.FILL&&this.isCropped&&this.focalPoint,a={},l=this.url;return this.isText?Object.assign.apply(Object,[{}].concat(Object.values(mt.b).map((function(e){var t;return(t={})[e]=function(){return""},t})))):((this.isVideo||this.isVideoPlaceholder)&&(l=this.poster,u.a.isExternalUrl(this.url)?a[mt.b.VIDEO]=function(){return n.url}:a[mt.b.VIDEO]=function(){return o(n,n.url,dt.a.VIDEO,t,r)}),a[mt.b.HIGH_RES]=function(){return o(n,l,e,t,r,i,s)},a[mt.b.LOW_RES]=function(){return o(n,l,e,250,250*r/t,gt(gt({},i),{},{quality:30,blur:30}),s)},a[mt.b.SEO]=function(){return a[mt.b.HIGH_RES]().replace(/\.webp$/i,"."+n.fileType)},a)},n.resetUrls=function(){var e=this.maxWidth||this.dto.width||this.metadata.width,t=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(e,Math.ceil(this.width)),this.resizeHeight=Math.min(t,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},n.createUrl=function(e,t){try{return this[e+"_url"][t]()}catch(r){return""}},n.createDownloadUrl=function(e){var t=this;return this.urls.download_url||(this.urls.download_url=e,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){return t.urls.download_url._img()+"?dn="+t.fileName}),this.urls.download_url},n.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var e=this.dto.metaData.sharpParams.L;e.quality&&!0===e.overrideQuality&&(this.sharpParams.quality=e.quality),e.usm&&!0===e.overrideUsm&&(this.sharpParams.usm=e.usm)}},n.updateId=function(e){this.dto.itemId=this.id=e},n.updateOrderIndex=function(e){var t=this.orderIndex!==e;return this.orderIndex=e,t},t=e,(r=[{key:"resized_url",get:function(){return this.urls.resized_url||(this.urls.resized_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url}},{key:"pixel_url",get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.resizedUrl(dt.a.FILL,1,1,{quality:5})),this.urls.pixel_url}},{key:"thumbnail_url",get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.resizedUrl(dt.a.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url}},{key:"square_url",get:function(){return this.urls.square_url||(this.urls.square_url=this.resizedUrl(dt.a.FILL,100,100,{quality:80})),this.urls.square_url}},{key:"full_url",get:function(){return this.urls.full_url||(this.urls.full_url=this.resizedUrl(dt.a.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url}},{key:"sample_url",get:function(){return this.urls.sample_url||(this.urls.sample_url=this.resizedUrl(dt.a.FIT,500,500,this.sharpParams)),this.urls.sample_url}},{key:"preload_url",get:function(){return this.urls.preload_url||(this.urls.preload_url=this.resized_url),this.urls.preload_url}},{key:"download_url",get:function(){return this.createDownloadUrl(this.full_url)}},{key:"download_sample_url",get:function(){return this.createDownloadUrl(this.sample_url)}},{key:"itemId",get:function(){return this.id}},{key:"metadata",get:function(){var e=this.dto.metaData||this.dto.metadata;return u.a.isUndefined(e)&&(e={}),e}},{key:"metaData",get:function(){return this.metadata}},{key:"bgColor",get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"}},{key:"isCropped",get:function(){return this.cubeImages&&this.cubeType===dt.a.FILL}},{key:"focalPoint",get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(e){this.metadata.focalPoint=e}},{key:"photoId",get:function(){return this.id}},{key:"key",get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key}},{key:"orderIndex",get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(e){this.dto.orderIndex=e}},{key:"url",get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src}},{key:"fileType",get:function(){return this.url.split(".").pop()}},{key:"mediaUrl",get:function(){return this.url}},{key:"html",get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text}},{key:"lastModified",get:function(){return this.metadata.lastModified}},{key:"seed",get:function(){return u.a.hashToInt(this.url)}},{key:"isImage",get:function(){return"image"===this.type}},{key:"isImportant",get:function(){return!!this.dto.i}},{key:"videoUrl",get:function(){return this.metadata.videoUrl}},{key:"poster",get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster.url||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1].url:null)}},{key:"qualities",get:function(){return this.metadata.qualities}},{key:"isExternalVideo",get:function(){return this.metadata.isExternal}},{key:"isExternal",get:function(){return!0===this.metadata.isExternal}},{key:"type",set:function(e){this._type=e},get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}}},{key:"isVideoPlaceholder",get:function(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)}},{key:"alt",get:function(){return this.metadata.alt||this.title||this.description}},{key:"title",get:function(){return this.metadata.title||""},set:function(e){this.metadata.title=e}},{key:"fileName",get:function(){return this.metadata.fileName||"file"},set:function(e){this.metadata.fileName=e}},{key:"description",get:function(){return this.metadata.description||""},set:function(e){this.metadata.description=e}},{key:"exif",get:function(){return this.metadata.exif||""}},{key:"hasLink",get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}}},{key:"link",get:function(){return this.metadata.link||{}}},{key:"linkData",get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=e}},{key:"linkType",get:function(){return this.metadata.link&&!u.a.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:e,url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"defaultLinkText",get:function(){var e=this.linkData;switch(this.linkType){case"wix":if(!e)return"Go to Link";switch(e.type){case"PageLink":return"Go to Page "+e.pageName;case"AnchorLink":return"Scroll to "+e.anchorName;case"ExternalLink":return""+e.url;case"EmailLink":return"Email "+e.recipient;case"PhoneLink":return"Call "+e.phoneNumber;case"DocumentLink":return"Open "+e.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"defaultLinkValue",get:function(){var e=this.linkData;switch(this.linkType){case"wix":if(!e)return"Add a Link";switch(e.type){case"PageLink":return e.pageName?"PAGE - "+e.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+e.anchorName;case"ExternalLink":return"LINK - "+e.url;case"EmailLink":return"EMAIL - "+e.recipient;case"PhoneLink":return"PHONE - "+e.phoneNumber;case"DocumentLink":return"DOCUMENT - "+e.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"linkText",get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=e}},{key:"linkTitle",get:function(){return this.metadata.link&&this.metadata.link.title},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=e}},{key:"linkUrl",get:function(){return this.metadata.link&&this.metadata.link.url},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=e}},{key:"isWixUrl",get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")}},{key:"linkTitleFromUrl",get:function(){var e=/[^/]*\.\w+$/g.exec(this.linkUrl),t=e&&e[0];return t&&t.split(".")[0]}},{key:"unprotectedLinkOpenType",get:function(){return u.a.get(this,"metadata.link.target")}},{key:"linkOpenType",get:function(){return this.metadata.link&&!u.a.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!u.a.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(e){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=e}},{key:"initialLinkObject",get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"isDemo",get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(e){this.metadata.isDemo=e}},{key:"isText",get:function(){return"text"===this.type}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isVisible",get:function(){return!0}},{key:"isRendered",get:function(){return!0}},{key:"isDimensionless",get:function(){return!(this.maxWidth>1||this.maxHeight>1)}},{key:"isTransparent",get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)}},{key:"directLink",get:function(){return this.dto.directLink||""}},{key:"directShareLink",get:function(){return this.dto.directShareLink||""}}])&&bt(t.prototype,r),i&&bt(t,i),e}();function It(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ot=function(){function e(e){this.uniqueId=u.a.generateUUID(),this.isGalleryGroup=!0,e.dto&&e.dto.dto&&(e.dto=e.dto.dto,u.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},e.dto),e.scheme?this.processScheme(e.scheme):this.processScheme(new Ze({dto:e.dto}).scheme),e.items?this.items=e.items:console.warn("Pro Gallery created Gallery Group without items",e)}var t,r,i,n=e.prototype;return n.processScheme=function(e){this.id=e.id,this.idx=e.idx,this.width=e.width,this.height=e.height,this.totalHeight=e.totalHeight,this.ratio=e.ratio,this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this.visible=e.visible,this.rendered=e.rendered,this.required=e.required},n.renderProps=function(e){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:e}},t=e,(r=[{key:"key",get:function(){return"group_"+this.id}}])&&It(t.prototype,r),i&&It(t,i),e}();function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pt=function(){function e(){}return e.convertDtoToLayoutItem=function(e){if(!!(e.id&&e.width>0&&e.height>0))return e;var t=e.metadata||e.metaData,r="object"==typeof t?t:u.a.parseStringObject(t)||{};return St({id:e.itemId||e.photoId,width:r.width,height:r.height},e)},e.convertToGalleryItems=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r=[]),e.galleryItems=[];for(var i=0;i<e.columns.length;i++){var n=e.columns[i];n.galleryGroups=[];for(var o=n.groups||n,s=0;s<o.length;s++){for(var a=o[s],l=[],c=0;c<a.items.length;c++){var h=a.items[c],u=St({scheme:h,dto:h.dto},t),p=r[h.idx],d=void 0;p&&p.id&&p.id===h.id?(d=p).update(u):d=new vt(u),l[c]=d,e.galleryItems[h.idx]=l[c]}n.galleryGroups[s]=new Ot({scheme:a,dto:a.dto,items:l})}}return e},e.convertExistingStructureToGalleryItems=function(e,t,r){void 0===r&&(r={}),u.a.isVerbose()&&console.time("convertToGalleryItems"),e.galleryItems||(e.galleryItems=[]);var i=e.columns.slice(-1)[0].galleryGroups.pop();i&&e.galleryItems.splice(-i.items.length);for(var n=0;n<t.columns.length;n++){var o=t.columns[n],s=e.columns[n]||o;s.galleryGroups||(s.galleryGroups=[]);for(var a=o.groups||o,l=0;l<a.length;l++){for(var c=a[l],h=[],p=0;p<c.items.length;p++){var d=c.items[p];e.galleryItems[d.idx]?e.galleryItems[d.idx].processScheme(d):(h[p]=new vt(Object.assign({scheme:d,dto:d.dto},r)),e.galleryItems[d.idx]=h[p])}s.galleryGroups[l]?s.galleryGroups[l].processScheme(c):s.galleryGroups[l]=new Ot({scheme:c,dto:c.dto,items:h})}o.galleryGroups=s.galleryGroups}return t.galleryItems=e.galleryItems,u.a.isVerbose()&&console.timeEnd("convertToGalleryItems"),t},e}(),Tt=r(195);var Lt=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){if("true"!==u.a.getTopUrlParam("pgdebug"))return!1;var e=n.a.createElement("div",{className:"version-header "},"Pro Gallery Version #",p.a.staticsVersion),t="";try{t=" psw"+p.a.top.screen.width+" piw"+p.a.top.innerWidth+" pbw"+p.a.top.document.body.clientWidth}catch(i){}var r=n.a.createElement("div",{className:"version-header "},u.a.isLandscape()?"land":"port"," sw",p.a.screen.width,"sh",p.a.screen.height," iw",p.a.innerWidth," bw",p.a.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,t,"www",this.props.maxGalleryWidth);return n.a.createElement("div",null,e,r)},i}(Tt.a);function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Mt=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).getImageContainer=r.getImageContainer.bind(Rt(r)),r.getImageContainerClassNames=r.getImageContainerClassNames.bind(Rt(r)),r.getImageElement=r.getImageElement.bind(Rt(r)),r.state={isHighResImageLoaded:!1},r.removeLowResImageTimeoutId=void 0,r.handleHighResImageLoad=r.handleHighResImageLoad.bind(Rt(r)),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(e){console.error(e)}},s.handleHighResImageLoad=function(e){var t=this,r=e.target;this.removeLowResImageTimeoutId=setTimeout((function(){t.setState({isHighResImageLoaded:!0}),t.removeLowResImageTimeoutId=void 0}),1e3);try{r.style.opacity="1",this.props.actions.setItemLoaded()}catch(i){console.error("Failed to load high res image",i)}},s.componentWillUnmount=function(){void 0!==this.removeLowResImageTimeoutId&&clearTimeout(this.removeLowResImageTimeoutId)},s.getImageContainerClassNames=function(){var e=this.props.styleParams;return["gallery-item-content","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",e.cubeImages&&"fit"===e.cubeType?"grid-fit":"",e.imageLoadingMode===o.a.loadingMode.COLOR?"load-with-color":""].join(" ")},s.getImageContainer=function(e,t,r){var i=this.props,o=i.imageDimensions,s=i.id,a=i.actions;return n.a.createElement("div",{className:t,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,key:"image_container-"+s,"data-hook":"image-item",style:o.borderRadius?{borderRadius:o.borderRadius}:{}},e(),r)},s.getImageElement=function(){var e=this,t=this.props,r=t.alt,i=t.imageDimensions,s=t.createUrl,a=t.id,l=t.settings,c=t.styleParams,h=this.state.isHighResImageLoaded,p=l&&l.imageProps&&"function"==typeof l.imageProps?l.imageProps(a):{},d=i||{},m=(d.marginLeft,d.marginTop,function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(d,["marginLeft","marginTop"]));return function(){var t=[],i=u.a.isMobile()&&!e.props.styleParams.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{};if(!h){var l=null,d=At({className:"gallery-item-visible gallery-item gallery-item-preloaded",key:"gallery-item-image-img-preload","data-hook":"gallery-item-image-img-preload",loading:"lazy"},p),f=Object(Ge.c)()?{width:"100%",height:"100%"}:{};switch(c.imageLoadingMode){case o.a.loadingMode.BLUR:var g=At(At({},m),{},{backgroundSize:"0.3px",backgroundRepeat:"repeat"});l=n.a.createElement("img",xt({alt:"",key:"image_preload_blur-"+a,src:s(o.a.urlSizes.RESIZED,Object(Ge.e)()?o.a.urlTypes.SEO:o.a.urlTypes.LOW_RES),style:At(At(At({},g),f),i)},d));break;case o.a.loadingMode.MAIN_COLOR:l=n.a.createElement("img",xt({alt:"",key:"image_preload_main_color-"+a,src:s(o.a.urlSizes.PIXEL,Object(Ge.e)()?o.a.urlTypes.SEO:o.a.urlTypes.LOW_RES),style:At(At(At({},m),f),i)},d))}t.push(l)}if(!Object(Ge.c)()&&!u.a.isSSR()){var y=n.a.createElement("img",xt({key:"image_highres-"+a,className:"gallery-item-visible gallery-item gallery-item-preloaded "+(Object(Ge.e)()?"":"gallery-item-hidden"),"data-hook":"gallery-item-image-img",alt:r||"untitled image",src:s(o.a.urlSizes.RESIZED,Object(Ge.e)()?o.a.urlTypes.SEO:o.a.urlTypes.HIGH_RES),loading:"lazy",onLoad:e.handleHighResImageLoad,style:At(At(At({},m),e.state.isHighResImageLoaded&&{opacity:1}),i)},p));t.push(y)}return t}},s.render=function(){var e=this.getImageElement(),t=this.getImageContainerClassNames();return this.getImageContainer(e,t)},i}(Tt.a);function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gt=function(e){var t,r;function i(t){var r;return"function"==typeof(r=e.call(this,t)||this).props.actions.setItemLoaded&&r.props.actions.setItemLoaded(),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.getTextDimensions=function(){var e=this.props,t=e.style,r=e.styleParams,i=e.cubeRatio,n=t.ratio<i-.01,o=(n?t.height/t.maxHeight:t.width/t.maxWidth)*t.maxHeight,s="fit"===r.cubeType?0:(t.height-o)/2,a="translate(0, 0) scale("+(n?t.height/t.maxHeight:t.width/t.maxWidth)+")";return{marginTop:s,width:t.maxWidth+"px",height:t.maxHeight+"px",transformOrigin:"0 0",WebkitTransform:a,MsTransform:a,OTransform:a,transform:a}},o.processInnerhtml=function(e){try{return e.replace(/class="font_\d+"/gm,"")}catch(t){return e}},o.render=function(){var e=this.props,t=e.id,r=e.styleParams,i=e.html,o=e.style,s=e.actions,a=e.imageDimensions,l=this.processInnerhtml(i),c=this.getTextDimensions(),h={dangerouslySetInnerHTML:{__html:l}},u={style:Object.assign(c,"fit"===r.cubeType?{backgroundColor:o.bgColor}:{})},p=Dt(Dt({},h),u),d={height:a?a.height:"inherit",backgroundColor:"fit"!==r.cubeType?o.bgColor:"inherit"};return a&&a.borderRadius&&(d.borderRadius=a.borderRadius),n.a.createElement("div",{className:"gallery-item-content",style:d},n.a.createElement("div",kt({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+t,onTouchStart:s.handleItemMouseDown,onTouchEnd:s.handleItemMouseUp,"data-hook":"text-item"},p)))},i}(Tt.a);var Ht=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.getHoverClass=function(){var e=this.props,t=e.styleParams,r=e.forceShowHover,i=["gallery-item-hover"];return i.push("fullscreen-"+(t.fullscreen?"enabled":"disabled")),u.a.isUndefined(t.itemOpacity)&&i.push("default"),r?i.push("force-hover"):u.a.isMobile()&&i.push("hide-hover"),i.join(" ")},s.shouldRenderHoverInnerIfExist=function(){var e=this.props,t=e.itemWasHovered,r=e.styleParams,i=r.hoveringBehaviour,n=r.overlayAnimation,s=r.alwaysShowHover,a=o.a.infoBehaviourOnHover.APPEARS,l=o.a.overlayAnimations.NO_EFFECT;return!!s||(i!==a||n===l||t)},s.render=function(){var e=this.props,t=e.imageDimensions,r=e.actions,i=e.idx,o=e.renderCustomInfo,s=this.getHoverClass();return n.a.createElement("div",{className:s,key:"item-hover-"+i,"data-hook":"item-hover-"+i,"aria-hidden":!0,style:t&&t.borderRadius?{borderRadius:t.borderRadius}:{}},n.a.createElement("div",{style:{height:"100%"},onTouchStart:r.handleItemMouseDown,onTouchEnd:r.handleItemMouseUp},this.shouldRenderHoverInnerIfExist()&&o?n.a.createElement("div",{className:"gallery-item-hover-inner"},o()):null))},i}(Tt.a),Ft=new(function(){function e(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(p.a.screen.width,p.a.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}var t=e.prototype;return t.calcScrollPaddings=function(){var e=this;this.allPagePadding=function(){return[1/0,1/0]},this.inScreenPadding=function(){return[0,0]},this.aboveScreenPadding=function(){return[0,1/0]},this.justBelowScreenPadding=function(t){return[1/0,-1*(t+e.screenSize)]},this.justBelowAndAboveScreenPadding=function(){return[2560,1/0]},this.justBelowAndInScreenPadding=function(){return[5120,0]},this.belowScreenPadding=function(){return[1/0,0]},this.highResPadding=function(){return[5120,1/0]},this.lowResPadding=function(){return[10240,1/0]}},t.getSellectorDomId=function(e){var t=e.id,r=e.idx;return"pgi"+String(t).replace(/[\W]+/g,"")+"_"+r},t.buildScrollClassName=function(e,t,r){var i=String(e).replace(/[\W]+/g,"").slice(-8);return this.pgScrollClassName+"_"+i+"_"+r+"-"+(this.pgScrollSteps[t]+Number(r))},t.calcScrollClasses=function(e,t){var r=this;return this.pgScrollClassName+"-"+t+" "+this.pgScrollSteps.map((function(i,n){return r.buildScrollClassName(e,n,Math.floor(t/i)*i)})).join(" ")},t.calcScrollCss=function(e){var t=this,r=e.domId,i=e.items,n=e.styleParams;if(!i||!i.length)return[];var s=n.scrollAnimation;if(!s||s===o.a.scrollAnimations.NO_EFFECT)return[];this.screenSize=n.oneRow?Math.min(p.a.outerWidth,p.a.screen.width):Math.min(p.a.outerHeight,p.a.screen.height),!n.oneRow&&u.a.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings();var a=i.slice(-1)[0].offset,l=a.top,c=a.right,h=this.pgScrollSteps[0];return this.minHeight=0-h,this.maxHeight=(Math.ceil(((n.oneRow?c:l)+this.screenSize)/h)+1)*h,i.map((function(e){return t.calcScrollCssForItem({domId:r,item:e,styleParams:n})}))},t.shouldCalcScrollCss=function(e){var t=e.type;return"video"!==t&&"text"!==t},t.createScrollSelectorsFunction=function(e){var t=this,r=e.domId,i=e.item,n=e.styleParams,o=n.oneRow?i.offset.left-this.screenSize:i.offset.top-this.screenSize,s=n.oneRow?i.offset.left+i.width:i.offset.top+i.height,a=this.pgScrollSteps[this.pgScrollSteps.length-1],l=this.getSellectorDomId(i);return function(e,i){var n=e[0],c=e[1];if(n===1/0&&c===1/0)return"#pro-gallery-"+r+" #"+l+" "+i;for(var h,u,p=(h=o-n,u=a,Math.floor(Math.max(t.minHeight,h)/u)*u),d=function(e,r){return Math.ceil(Math.min(t.maxHeight,e)/r)*r}(s+c,a),m=[];p<d;){var f=t.pgScrollSteps.findIndex((function(e){return p%e==0&&p+e<=d}));if(-1===f){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",p,"\nto =",d,"\npadding[0] =",e[0],"\npadding[1] =",e[1]);break}m.push("."+t.buildScrollClassName(r,f,p)+" ~ div #"+l+" "+i),p+=t.pgScrollSteps[f]}return m.join(", ")}},t.calcScrollCssForItem=function(e){var t=e.domId,r=e.item,i=e.styleParams,n=r.idx,o="",s=this.createScrollSelectorsFunction({domId:t,item:r,styleParams:i});return o+=this.createScrollAnimationsIfNeeded({idx:n,item:r,styleParams:i,createScrollSelectors:s}),this.scrollCss[n]=o||this.scrollCss[n],this.scrollCss[n]},t.createScrollAnimationsIfNeeded=function(e){var t=e.idx,r=e.styleParams,i=e.createScrollSelectors,n=r.scrollAnimation;if(!n||n===o.a.scrollAnimations.NO_EFFECT)return"";var s=100*(t%3+1),a=100*(t%3+1),l=this.allPagePadding(),c=this.aboveScreenPadding(),h="";if(n===o.a.scrollAnimations.MAIN_COLOR&&(h+=i(l," .image-item")+"{background-size: 1px; background-repeat: repeat;}",h+=i(l," img")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in "+s+"ms !important;}",h+=i(c," img")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.BLUR&&(h+=i(l," img")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in "+s+"ms !important;}",h+=i(c," img")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.FADE_IN&&(h+=i(l," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 1."+a+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"),n===o.a.scrollAnimations.GRAYSCALE&&(h+=i(l," .gallery-item-wrapper")+"{filter: grayscale(100%); transition: filter 1."+(200+a)+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),n===o.a.scrollAnimations.SLIDE_UP&&(h+=i(l,"")+"{transform: translateY(100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}",h+=i(c,"")+"{transform: translateY(0) !important;}"),n===o.a.scrollAnimations.EXPAND&&(h+=i(l,"")+"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c,"")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.SHRINK&&(h+=i(l,"")+"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c,"")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.ZOOM_OUT&&(h+=i(l," .gallery-item-wrapper")+"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) "+s+"ms !important;}",h+=i(c," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),n===o.a.scrollAnimations.ONE_COLOR){var u=r.oneColorAnimationColor&&r.oneColorAnimationColor.value?r.oneColorAnimationColor.value:"transparent";h+=i(l,"")+"{background-color: "+u+";}",h+=i(l," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 0."+(600+a)+"s ease-in !important;}",h+=i(c," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return h},e}());function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ut(e){return Bt({},(e.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND||o.a.hasHoverPlacement(e.titlePlacement))&&Bt(Bt({},Yt(e.itemBorderRadius,e.itemBorderWidth,e.itemBorderColor)),function(e){var t={};if(e.itemEnableShadow){var r=e.itemShadowBlur,i=e.itemShadowDirection,n=e.itemShadowSize,o=-1*(Number(i)-90)/360*2*Math.PI,s=Math.round(n*Math.cos(o)),a=Math.round(-1*n*Math.sin(o));t={boxShadow:s+"px "+a+"px "+r+"px "+u.a.formatColor(e.itemShadowOpacityAndColor)}}return t}(e)))}function Vt(e){return Bt({},!o.a.hasHoverPlacement(e.titlePlacement)&&(e.imageInfoType===o.a.infoType.NO_BACKGROUND||e.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND)&&Bt({},Yt(e.itemBorderRadius,e.itemBorderWidth,e.itemBorderColor)))}function Yt(e,t,r){return Bt({overflow:"hidden",borderRadius:e,borderWidth:t+"px",borderColor:u.a.formatColor(r)},t&&{borderStyle:"solid"})}function Kt(e,t,r,i){var n=Bt(Bt({},o.a.hasHorizontalPlacement(e)&&{height:r,float:o.a.isRightPlacement(e)?"right":"left"}),o.a.hasVerticalPlacement(e)&&{height:i,boxSizing:"content-box"});return t.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND?Bt(Bt(Bt(Bt({},n),Yt(t.textBoxBorderRadius,t.textBoxBorderWidth,t.textBoxBorderColor)),o.a.hasAbovePlacement(e)&&{marginBottom:t.textImageSpace}),o.a.hasBelowPlacement(e)&&{marginTop:t.textImageSpace}):n}function qt(e,t,r,i){var n=Bt(Bt({},(t.imageInfoType===o.a.infoType.SEPARATED_BACKGROUND||t.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND)&&t.textBoxFillColor&&t.textBoxFillColor.value&&{backgroundColor:t.textBoxFillColor.value}),{},{overflow:"hidden",boxSizing:"border-box"}),s=o.a.hasVerticalPlacement(e),a=o.a.hasHorizontalPlacement(e);return Bt(Bt(Bt({},n),s&&function(e,t){return{width:"100%",height:t}}(0,r)),a&&function(e,t){return{height:"100%",width:t}}(0,i))}var Xt=r(419),Jt=r.n(Xt);function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var Zt=function(e){var t=e.size,r=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["size"]);return n.a.createElement("svg",$t({viewBox:"0 0 60 60",fill:"currentColor",width:t||"60",height:t||"60"},r),n.a.createElement("path",{d:"M30,0c16.6,0,30,13.4,30,30S46.6,60,30,60C13.4,60,0,46.6,0,30S13.4,0,30,0z",fillRule:"evenodd",clipRule:"evenodd"}))};Zt.displayName="play_background";var Qt=Zt;function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var tr=function(e){var t=e.size,r=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["size"]);return n.a.createElement("svg",er({viewBox:"0 0 60 60",fill:"currentColor",width:t||"60",height:t||"60"},r),n.a.createElement("path",{d:"M41.5,30l-17,10V20L41.5,30z"}))};tr.displayName="play_triangle";var rr=tr;var ir=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props.videoControls,t=this.getImageContainerClassNames()+" video-item gallery-item-video",r=this.getImageElement();return this.getImageContainer(r,t,e)},i}(Mt);function nr(e,t,r,i,n,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?t(l):Promise.resolve(l).then(i,n)}function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ar=[n.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},n.a.createElement(rr,null)),n.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},n.a.createElement(Qt,null))],lr=function(e){var t,i;function o(t){var r;return(r=e.call(this,t)||this).shouldPlayVideo=r.shouldPlayVideo.bind(sr(r)),r.createVideoItemPlaceholder=r.createVideoItemPlaceholder.bind(sr(r)),r.state={VideoItemLoaded:!1},r}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=o.prototype;return s.shouldPlayVideo=function(){var e=this.props.styleParams,t=e.videoPlay,r=e.itemClick,i=this.props.hasLink;if(this.props.isVideoPlaceholder)return!1;if(this.props.idx===this.props.playingVideoIdx||this.props.idx===this.props.nextVideoIdx){if("hover"===t||"auto"===t)return!0;if("nothing"===r)return!0;if("link"===r&&!i)return!0}return!1},s.createVideoItemPlaceholder=function(e){var t=u.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings","actions"]);return n.a.createElement(ir,or({},t,{key:"videoPlaceholder",imageDimensions:this.props.imageDimensions,isThumbnail:!!this.props.thumbnailHighlightId,id:this.props.idx,videoControls:e&&ar}))},s.componentDidMount=function(){var e,t=(e=Jt.a.mark((function e(){var t;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.e(66).then(r.bind(null,809));case 3:t=e.sent,this.VideoItem=t.default,this.shouldPlayVideo()&&this.setState({VideoItemLoaded:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch VideoItem");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})),function(){var t=this,r=arguments;return new Promise((function(i,n){var o=e.apply(t,r);function s(e){nr(o,i,n,s,a,"next",e)}function a(e){nr(o,i,n,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),s.render=function(){var e=this.props.hover,t=!this.props.hidePlay&&this.props.styleParams.showVideoPlayButton,r=this.createVideoItemPlaceholder(t),i=this.VideoItem;return this.shouldPlayVideo()&&i?n.a.createElement(i,or({},this.props,{videoControls:t&&ar})):[r,e]},o}(Mt);function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=function(e){var t,r;function i(t){var r;return dr(pr(r=e.call(this,t)||this),"shouldUseDirectLink",(function(){var e=r.props.directLink||{},t=e.url,i=e.target,n=!(!t||!i||"link"!==r.props.styleParams.itemClick);return r.shouldShowHoverOnMobile()&&r.isClickOnCurrentHoveredItem()&&n?(r.props.actions.eventsListener(o.a.events.HOVER_SET,-1),!0):!(!n||r.shouldShowHoverOnMobile())})),dr(pr(r),"isClickOnCurrentHoveredItem",(function(){return r.state.isCurrentHover})),r.props.actions.eventsListener(o.a.events.ITEM_CREATED,r.props),r.init(),r.state={isCurrentHover:!1,itemWasHovered:!1},r.activeElement="",r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.init=function(){this.onItemClick=this.onItemClick.bind(this),this.onItemWrapperClick=this.onItemWrapperClick.bind(this),this.onItemInfoClick=this.onItemInfoClick.bind(this),this.onContainerKeyDown=this.onContainerKeyDown.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.isHighlight=this.isHighlight.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.changeActiveElementIfNeeded=this.changeActiveElementIfNeeded.bind(this),this.checkIfCurrentHoverChanged=this.checkIfCurrentHoverChanged.bind(this),this.getCustomInfoRendererProps=this.getCustomInfoRendererProps.bind(this)},s.setItemLoaded=function(){this.props.actions.eventsListener(o.a.events.ITEM_LOADED,this.props),this.setState({loaded:!0})},s.isIconTag=function(e){return["button","i","a","svg","path"].indexOf(e.toLowerCase())>=0},s.onMouseOver=function(){u.a.isMobile()||this.props.actions.eventsListener(o.a.events.HOVER_SET,this.props.idx)},s.onMouseOut=function(){u.a.isMobile()||this.props.actions.eventsListener(o.a.events.HOVER_SET,-1)},s.onContainerKeyDown=function(e){switch(e.keyCode||e.charCode){case 32:case 13:e.stopPropagation();return this.onItemClick(e,"item-container",!1),this.shouldUseDirectLink()&&this.itemAnchor.click(),!1;default:return!0}},s.handleGalleryItemAction=function(e){this.props.actions.eventsListener(o.a.events.ITEM_ACTION_TRIGGERED,this.props,e)},s.onItemWrapperClick=function(e){this.onItemClick(e,"item-media")},s.onItemInfoClick=function(e){this.onItemClick(e,"item-info")},s.onItemClick=function(e,t,r){void 0===r&&(r=!0),u.a.isFunction(u.a.get(p.a,"galleryWixCodeApi.onItemClicked"))&&p.a.galleryWixCodeApi.onItemClicked(this.props),this.props.actions.eventsListener(o.a.events.ITEM_CLICKED,ur(ur({},this.props),{},{clickTarget:t}),e),this.shouldUseDirectLink()||(r&&e.preventDefault(),this.shouldShowHoverOnMobile()?this.handleHoverClickOnMobile(e):this.handleGalleryItemAction(e))},s.handleHoverClickOnMobile=function(e){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemAction(e),this.props.actions.eventsListener(o.a.events.HOVER_SET,-1)):this.props.actions.eventsListener(o.a.events.HOVER_SET,this.props.idx)},s.handleItemMouseDown=function(){return!0},s.handleItemMouseUp=function(){return u.a.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0},s.shouldShowHoverOnMobile=function(){if(u.a.isMobile()){var e=this.props.styleParams,t=e.titlePlacement,r=e.hoveringBehaviour,i=e.itemClick,n=e.alwaysShowHover,s=e.previewHover,a=e.allowDescription,l=e.allowTitle,c=e.isStoreGallery,h=y.supports.mobileSettings;if(r===o.a.infoBehaviourOnHover.NEVER_SHOW)return!1;if("nothing"===i&&"video"!==this.props.type)return!0;if(this.props.customHoverRenderer&&o.a.hasHoverPlacement(t)&&r!==o.a.infoBehaviourOnHover.NEVER_SHOW&&h&&(a||l||c))return!0;if(n)return!0;if(Object(Ge.a)()&&s)return!0}return!1},s.isHighlight=function(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id},s.shouldHover=function(){var e=this.props.styleParams,t=e.alwaysShowHover,r=e.previewHover,i=e.hoveringBehaviour,n=e.overlayAnimation,s=o.a.infoBehaviourOnHover,a=s.NEVER_SHOW,l=s.APPEARS,c=o.a.overlayAnimations.NO_EFFECT;return i!==a&&(!0===t||(!(!Object(Ge.a)()||!r)||!(i===l&&n===c&&!this.state.itemWasHovered)&&(!u.a.isMobile()||this.shouldShowHoverOnMobile())))},s.getImageDimensions=function(){var e=this.props,t=e.styleParams,r=e.cubeRatio,i=e.style,n=i.ratio>=r,o=Math.round((i.height*i.ratio-i.width)/-2),s=Math.round((i.width/i.ratio-i.height)/-2),a=t.cubeImages&&"fit"===t.cubeType,l={};return a?a&&n?l={height:i.height-2*s,width:i.width,margin:s+"px 0"}:a&&!n&&(l={width:i.width-2*o,height:i.height,margin:"0 "+o+"px"}):l={width:i.width,height:i.height},t.itemBorderRadius&&(l.borderRadius=t.itemBorderRadius+"px"),l},s.getItemHover=function(e){var t=this,r=this.props,i=r.customHoverRenderer,o=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(r,["customHoverRenderer"]);return this.shouldHover()&&n.a.createElement(Ht,cr({},o,{forceShowHover:this.simulateOverlayHover(),imageDimensions:e,itemWasHovered:this.state.itemWasHovered,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},renderCustomInfo:i?function(){return i(t.getCustomInfoRendererProps())}:null}))},s.getCustomInfoRendererProps=function(){return ur(ur({},this.props),{isMobile:u.a.isMobile()})},s.getImageItem=function(e){var t=u.a.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings"]);return n.a.createElement(Mt,cr({},t,{key:"imageItem",imageDimensions:e,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},s.getVideoItem=function(e,t){return n.a.createElement(lr,cr({},this.props,{playing:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:t,imageDimensions:e,hasLink:this.itemHasLink(),actions:ur(ur({},this.props.actions),{},{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))},s.getTextItem=function(e){var t=u.a.pick(this.props,["id","styleParams","style","html","cubeRatio"]);return n.a.createElement(Gt,cr({},t,{key:"textItem",imageDimensions:e,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},s.getItemInner=function(){var e,t=this,r=this.props,i=r.styleParams,o=r.type,s=this.getImageDimensions(),a={width:s.width,height:s.height},l=null;switch((this.shouldHover()||i.isSlideshow)&&(l=this.getItemHover(a)),o){case"dummy":e=n.a.createElement("div",null);break;case"video":e=this.getVideoItem(a,l);break;case"text":e=[this.getTextItem(a),l];break;case"image":case"picture":default:e=this.props.isVideoPlaceholder?this.getVideoItem(a,l):[this.getImageItem(a),l]}if(i.isSlideshow){var c=this.props.customSlideshowInfoRenderer,h={height:i.slideshowInfoSize+"px",bottom:"-"+i.slideshowInfoSize+"px"},u=c?c(this.getCustomInfoRendererProps()):null,p=this.props,d=p.photoId,m=p.id,f=p.idx;e=n.a.createElement("div",null,n.a.createElement("a",cr({ref:function(e){return t.itemAnchor=e},"data-id":d,"data-idx":f,key:"item-container-link-"+m},this.getLinkParams(),{tabIndex:-1}),e),n.a.createElement("div",{className:"gallery-slideshow-info","data-hook":"gallery-slideshow-info-buttons",style:h},u))}return e},s.getRightInfoElementIfNeeded=function(){return o.a.hasRightPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ON_THE_RIGHT,"gallery-item-right-info"):null},s.getLeftInfoElementIfNeeded=function(){return o.a.hasLeftPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ON_THE_LEFT,"gallery-item-left-info"):null},s.getBottomInfoElementIfNeeded=function(){return o.a.hasBelowPlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_BELOW,"gallery-item-bottom-info"):null},s.getTopInfoElementIfNeeded=function(){return o.a.hasAbovePlacement(this.props.styleParams.titlePlacement)?this.getExternalInfoElement(o.a.placements.SHOW_ABOVE,"gallery-item-top-info"):null},s.getExternalInfoElement=function(e,t){var r=this.props,i=r.styleParams,o=r.customInfoRenderer,s=r.style;if(!o)return null;var a=i.textBoxHeight+(this.hasRequiredMediaUrl?0:s.height),l=s.infoWidth+(this.hasRequiredMediaUrl?0:s.width),c=o(this.getCustomInfoRendererProps(),e);return n.a.createElement("div",{style:Kt(e,i,s.height,i.textBoxHeight)},n.a.createElement("div",{style:qt(e,i,a,l),className:"gallery-item-common-info "+t,"aria-hidden":!0,onClick:this.onItemInfoClick},c))},s.simulateHover=function(){return this.state.isCurrentHover||!0===this.props.styleParams.alwaysShowHover||Object(Ge.a)()&&this.props.styleParams.previewHover},s.simulateOverlayHover=function(){return this.simulateHover()||this.props.styleParams.hoveringBehaviour===o.a.infoBehaviourOnHover.NO_CHANGE},s.itemHasLink=function(){var e=this.props,t=e.linkData,r=e.linkUrl;return!(void 0===t.type&&(void 0===r||""===r))},s.getItemContainerStyles=function(){var e=this.props,t=e.offset,r=e.style,i=e.styleParams,n=e.settings,s=void 0===n?{}:n,a=Ut(i),l=!this.itemHasLink(),c={overflowY:i.isSlideshow?"visible":"hidden",position:"absolute",bottom:"auto",margin:i.oneRow?i.imageMargin+"px":0,cursor:i.itemClick===o.a.itemClick.NOTHING||i.itemClick===o.a.itemClick.LINK&&l?"default":"pointer"},h=s.avoidInlineStyles,u=void 0===h||h?{}:{top:t.top,left:i.isRTL?"auto":t.left,right:i.isRTL?t.left:"auto",width:r.width+r.infoWidth,height:r.height+r.infoHeight};return ur(ur(ur(ur({},this.state.loaded&&Object(Ge.a)()?{transition:"all .4s ease",transitionProperty:"top, left, width, height"}:{transition:"none"}),c),u),a)},s.getItemWrapperStyles=function(){var e=this.props,t=e.styleParams,r=e.style,i=e.type,n=r.height,o={};o.backgroundColor="text"===i?"fit"!==t.cubeType?"transparent":"inherit":("fit"!==t.cubeType?r.bgColor:"inherit")||"transparent",o.margin=-t.itemBorderWidth+"px",o.height=n+"px";var s=this.getImageDimensions();return ur(ur({},o),s)},s.getItemAriaLabel=function(){var e,t=this.props,r=t.type,i=t.alt,n=t.styleParams;switch(r){case"dummy":e="";break;case"text":e="Text item";break;case"video":e=i||"Untitled video";break;default:e=i||"Untitled image"}return e+(n.isStoreGallery?", Buy Now":"")},s.getItemContainerClass=function(){var e=this.props.styleParams,t=!e.isSlideshow,r=e.imagePlacementAnimation,i=e.overlayAnimation,n=e.imageHoverAnimation,s={"gallery-item-container":!0,visible:!0,highlight:this.isHighlight(),clickable:"nothing"!==e.itemClick,"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&u.a.isMobile(),"invert-hover":e.hoveringBehaviour===o.a.infoBehaviourOnHover.DISAPPEARS,"animation-slide":t&&r===o.a.imagePlacementAnimations.SLIDE,"hover-animation-fade-in":t&&i===o.a.overlayAnimations.FADE_IN,"hover-animation-expand":t&&i===o.a.overlayAnimations.EXPAND,"hover-animation-slide-up":t&&i===o.a.overlayAnimations.SLIDE_UP,"hover-animation-slide-right":t&&i===o.a.overlayAnimations.SLIDE_RIGHT,"zoom-in-on-hover":t&&n===o.a.imageHoverAnimations.ZOOM_IN,"blur-on-hover":t&&n===o.a.imageHoverAnimations.BLUR,"grayscale-on-hover":t&&n===o.a.imageHoverAnimations.GRAYSCALE,"shrink-on-hover":t&&n===o.a.imageHoverAnimations.SHRINK,"invert-on-hover":t&&n===o.a.imageHoverAnimations.INVERT,"color-in-on-hover":t&&n===o.a.imageHoverAnimations.COLOR_IN,"darkened-on-hover":t&&n===o.a.imageHoverAnimations.DARKENED,"pro-gallery-mobile-indicator":u.a.isMobile()};return Object.entries(s).map((function(e){var t=e[0];return!!e[1]&&t})).filter(Boolean).join(" ")},s.getItemWrapperClass=function(){var e=this.props,t=e.styleParams,r=e.type,i=["gallery-item-wrapper","visible"];return t.cubeImages&&i.push("cube-type-"+t.cubeType),"text"===r&&i.push("gallery-item-wrapper-text"),i.join(" ")},s.getItemContainerTabIndex=function(){return this.isHighlight()?u.a.getTabIndex("currentThumbnail"):this.props.currentIdx===this.props.idx?u.a.getTabIndex("currentGalleryItem"):-1},s.changeActiveElementIfNeeded=function(e){var t=this;try{if((Object(Ge.f)()||Object(Ge.e)())&&!u.a.isMobile()&&p.a.document&&p.a.document.activeElement&&p.a.document.activeElement.className){var r=p.a.document.activeElement;(String(r.className).indexOf("gallery-item-container")>=0&&p.a.document.querySelector("#pro-gallery-"+t.props.domId+" #"+String(r.id))||String(r.className).indexOf("show-more")>=0&&p.a.document.querySelector("#pro-gallery-"+t.props.domId+" #"+String(r.id)))&&(this.props.thumbnailHighlightId!==e.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id||this.props.currentIdx!==e.currentIdx&&this.props.currentIdx===this.props.idx)&&this.itemContainer.focus()}}catch(i){console.error("Could not set focus to active element",i)}},s.componentDidMount=function(){if(u.a.isMobile())try{n.a.initializeTouchEvents(!0)}catch(e){}p.a.addEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},s.componentWillUnmount=function(){clearTimeout(this.itemLoadedTimeout),p.a.removeEventListener("current_hover_change",this.checkIfCurrentHoverChanged)},s.componentDidUpdate=function(e){this.changeActiveElementIfNeeded(e)},s.checkIfCurrentHoverChanged=function(e){e.domId===this.props.domId&&(this.state.isCurrentHover||e.currentHoverIdx!==this.props.idx?this.state.isCurrentHover&&e.currentHoverIdx!==this.props.idx&&this.setState({isCurrentHover:!1}):this.setState({isCurrentHover:!0,itemWasHovered:!0}))},s.onContextMenu=function(e){u.a.isDev()||this.props.styleParams.allowContextMenu||e.preventDefault(e)},s.getItemAriaRole=function(){switch(this.props.styleParams.itemClick){case"expand":case"fullscreen":return"button";case"link":return"link";default:return""}},s.getLinkParams=function(){var e=this.props,t=e.directLink,r=e.styleParams,i=e.directShareLink,n=Object(Ge.e)();if(r.itemClick===o.a.itemClick.LINK){var s=t||{},a=s.url,l=s.target,c=this.props.noFollowForSEO;return!(!a||!l)?ur({href:a,target:l},n&&c?{rel:"nofollow"}:{}):{}}if(r.itemClick===o.a.itemClick.FULLSCREEN||r.itemClick===o.a.itemClick.EXPAND){return!!i?{href:i,"data-cancel-link":!0}:{}}},s.composeItem=function(){var e=this,t=this.props,r=t.photoId,i=t.id,s=t.hash,a=t.idx,l=t.styleParams,c=t.type,h=t.url;this.hasRequiredMediaUrl=h||"text"===c;var u=l.titlePlacement!==o.a.placements.SHOW_ON_HOVER&&!this.hasRequiredMediaUrl,p=n.a.createElement("div",{className:this.getItemContainerClass(),onContextMenu:function(t){return e.onContextMenu(t)},id:Ft.getSellectorDomId(this.props),ref:function(t){return e.itemContainer=t},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onKeyDown:this.onContainerKeyDown,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":s,"data-id":r,"data-idx":a,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+i,style:this.getItemContainerStyles()},this.getTopInfoElementIfNeeded(),this.getLeftInfoElementIfNeeded(),n.a.createElement("div",{style:ur(ur(ur({},!this.props.styleParams.isSlideshow&&Vt(this.props.styleParams)),o.a.hasRightPlacement(this.props.styleParams.titlePlacement)&&{float:"left"}),o.a.hasLeftPlacement(this.props.styleParams.titlePlacement)&&{float:"right"})},!u&&n.a.createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+i,style:this.getItemWrapperStyles(),onClick:this.onItemWrapperClick},this.getItemInner())),this.getRightInfoElementIfNeeded(),this.getBottomInfoElementIfNeeded());return l.isSlideshow?p:n.a.createElement("a",cr({ref:function(t){return e.itemAnchor=t},"data-id":r,"data-idx":a,key:"item-container-link-"+i},this.getLinkParams(),{tabIndex:-1}),p)},s.render=function(){return this.composeItem()},i}(Tt.a);function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vr=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).handleArrowKeys=r.handleArrowKeys.bind(br(r)),r.showMoreItems=r.showMoreItems.bind(br(r)),r.createGalleryConfig=r.createGalleryConfig.bind(br(r)),r.screenLogs=r.screenLogs.bind(br(r)),r.createGallery=r.createGallery.bind(br(r)),r.id=Date.now()+"|"+Math.floor(1e4*Math.random()),r.state={currentIdx:0},r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.handleArrowKeys=function(e){var t=p.a.document.activeElement.getAttribute("data-idx");if(t){var r=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||function(){},i=Number(t),n=-1;switch(e.keyCode||e.charCode){case 38:n=r(i,"up");break;case 37:n=r(i,this.props.styleParams.isRTL?"right":"left");break;case 40:n=r(i,"down");break;case 39:n=r(i,this.props.styleParams.isRTL?"left":"right")}if(n>this.lastVisibleItemIdx()&&(n=i),n>=0)return e.preventDefault(),e.stopPropagation(),u.a.setStateAndLog(this,"Set Gallery Current Item",{currentIdx:n}),!1}return!0},o.lastVisibleItemIdxInHeight=function(e){for(var t=this.props.galleryStructure.items.length-1;t>=0;t--){if(this.props.galleryStructure.items[t].offset.top<e)return t}return this.items.length-1},o.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)},o.showMoreItems=function(){var e=this;if(this.props.styleParams.isAccessible)try{var t=this.lastVisibleItemIdx();u.a.setStateAndLog(this,"Focus on Last Gallery Item",{currentIdx:t+1},(function(){e.props.actions.toggleLoadMoreItems()}))}catch(r){console.warn("Cannot find item to focus",r)}else this.props.actions.toggleLoadMoreItems()},o.createGallery=function(e){var t,r=this.props,i=r.itemsLoveData,o=r.styleParams,s=r.container,a=r.galleryStructure,l=r.getVisibleItems,c=this.createGalleryConfig(),h=n.a.createElement(Lt,this.props.debug);t=e?s.galleryHeight-138:a.height+"px";var u=l(a.galleryItems,s).map((function(e,t){return n.a.createElement(mr,e.renderProps(gr(gr(gr({},c),i[e.id]),{},{visible:e.isVisible,key:"itemView-"+e.id+"-"+t})))}));return n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles "+(o.oneRow?" one-row slider hide-scrollbars ":"")+(o.isAccessible?" accessible ":"")+(o.isRTL?" rtl ":" ltr "),style:{height:t,overflowX:"hidden"},onKeyDown:this.handleArrowKeys},n.a.createElement("div",{id:"pro-gallery-margin-container",style:{margin:o.galleryMargin+"px",height:t,width:this.props.container.galleryWidth-2*o.imageMargin,overflow:"visible",position:"relative"}},h,u))},o.createGalleryConfig=function(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,styleParams:this.props.styleParams,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,domId:this.props.domId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,actions:{eventsListener:this.props.actions.eventsListener}}},o.screenLogs=function(){return u.a.shouldDebug("screenLogs")?n.a.createElement("div",{className:"screen-logs"},"URL width: ",u.a.parseGetParam("width"),", Container:"," ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",p.a.innerWidth,", window.screen.width:"," ",p.a.screen.width):""},o.returnButtonStyle=function(e){var t={};return u.a.isMobile()&&(void 0!==e.loadMoreButtonFont&&(t.font=e.loadMoreButtonFont.value,t.textDecoration=e.textDecorationLoadMore),void 0!==e.loadMoreButtonFontColor&&(t.color=e.loadMoreButtonFontColor.value,t.textDecorationColor=e.loadMoreButtonFontColor.value),void 0!==e.loadMoreButtonColor&&(t.background=e.loadMoreButtonColor.value),void 0!==e.loadMoreButtonBorderColor&&(t.borderColor=e.loadMoreButtonBorderColor.value),void 0!==e.loadMoreButtonBorderRadius&&(t.borderRadius=e.loadMoreButtonBorderRadius),void 0!==e.loadMoreButtonBorderWidth&&(t.borderWidth=e.loadMoreButtonBorderWidth)),t},o.createShowMoreButton=function(){if("function"==typeof this.props.customLoadMoreRenderer)return n.a.createElement("div",{onClick:this.showMoreItems},this.props.customLoadMoreRenderer(this.props));var e=this.props.styleParams,t=!1,r=this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height,i=this.returnButtonStyle(e);if(r){var o=e.loadMoreButtonText||"Load More";t=n.a.createElement("div",{className:"show-more-container"+(u.a.isMobile()?" pro-gallery-mobile-indicator":"")},n.a.createElement("button",{tabIndex:u.a.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.domId,className:"show-more",onClick:this.showMoreItems,"data-hook":"show-more","aria-label":o,style:i},o))}return t},o.render=function(){u.a.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView styleParams",this.props.styleParams),console.log("[DEBUG_RENDER] GalleryView props changed",u.a.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=gr({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",u.a.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=gr({},this.state),this.renderCount=(this.renderCount||0)+1);var e=this.createShowMoreButton(),t=this.createGallery(e);u.a.isVerbose()&&console.timeEnd("Rendering Gallery took ");var r=this.screenLogs();return n.a.createElement("div",{className:"pro-gallery-parent-container",key:"pro-gallery-"+this.id,role:"region","aria-label":this.props.proGalleryRegionLabel},r,t,e)},i}(Tt.a);function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sr=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).displayName="GroupView",r.dom=[],r.state={},r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.createDom=function(e){var t=this;return this.props.items.map((function(r){return n.a.createElement(mr,Or(Or({},r.renderProps(Or(Or({},t.props.galleryConfig),{},{visible:e}))),t.props.itemsLoveData[r.id]))}))},o.shouldRender=function(){var e=this.props.items;return!!(e&&e.length&&e[0])},o.isVisible=function(){var e=this.props,t=e.items,r=e.galleryConfig;if(this.props.allowLoop){var i=t[t.length-1].idx,n=r.currentIdx,o=r.totalItemsCount,s=n-i,a=Math.floor(o/2);return Math.abs(s)<=a}return!0},o.render=function(){return this.shouldRender()?n.a.createElement("div",{key:"group_"+this.props.idx+"_"+this.props.items[0].id,"data-hook":"group-view"},this.createDom(this.isVisible())):null},i}(Tt.a);function Er(e){var t=!!(e&&Number.isInteger(e.scrollBase)&&Number.isInteger(e.galleryHeight)&&p.a&&p.a.document&&p.a.document.documentElement&&(Number.isInteger(p.a.document.documentElement.scrollTop)||p.a.document.scrollingElement&&Number.isInteger(p.a.document.scrollingElement.scrollTop))&&Number.isInteger(p.a.document.documentElement.offsetHeight)),r=t&&e.scrollBase+e.galleryHeight>p.a.document.documentElement.scrollTop,i=t&&e.scrollBase<(p.a.document.documentElement.scrollTop||p.a.document.scrollingElement.scrollTop)+p.a.document.documentElement.offsetHeight;return r&&i||!t}function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var Tr=function(e){var t=e.size,r=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["size"]);return n.a.createElement("svg",Pr({viewBox:"0 0 11 14",fill:"currentColor",width:t||"11",height:t||"14"},r),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};Tr.displayName="play";var Lr=Tr;function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var Cr=function(e){var t=e.size,r=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["size"]);return n.a.createElement("svg",xr({viewBox:"0 0 10 14",fill:"currentColor",width:t||"10",height:t||"14"},r),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};Cr.displayName="pause";var Ar=Cr;function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jr=function(e){var t,r;function i(t){var r;return kr(Mr(r=e.call(this,t)||this),"autoScrollToNextItem",(function(){Object(Ge.a)()||!Er(r.props.container)&&!Object(Ge.d)()||r._next({direction:1,isAutoTrigger:!0,scrollDuration:800})})),r.navigationOutHandler=r.navigationOutHandler.bind(Mr(r)),r.navigationInHandler=r.navigationInHandler.bind(Mr(r)),r.scrollToThumbnail=r.scrollToThumbnail.bind(Mr(r)),r.stopAutoSlideshow=r.stopAutoSlideshow.bind(Mr(r)),r.onAutoSlideShowButtonClick=r.onAutoSlideShowButtonClick.bind(Mr(r)),r.startAutoSlideshowIfNeeded=r.startAutoSlideshowIfNeeded.bind(Mr(r)),r.handleSlideshowKeyPress=r.handleSlideshowKeyPress.bind(Mr(r)),r.onAutoSlideshowAutoPlayKeyPress=r.onAutoSlideshowAutoPlayKeyPress.bind(Mr(r)),r.setCurrentItemByScroll=r.setCurrentItemByScroll.bind(Mr(r)),r._setCurrentItemByScroll=u.a.throttle(r.setCurrentItemByScroll,600).bind(Mr(r)),r._next=u.a.throttle(r.next.bind(Mr(r)),400).bind(Mr(r)),r.state={currentIdx:t.currentIdx||0,isInView:!0,shouldStopAutoSlideShow:!1,hideLeftArrow:!t.isRTL,hideRightArrow:t.isRTL},r.lastCurrentItem=void 0,r.shouldCreateSlideShowPlayButton=!1,r.shouldCreateSlideShowNumbers=!1,r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.isFirstItem=function(){return 0===this.state.currentIdx},s.isScrollStart=function(e){void 0===e&&(e=this.props.styleParams.isRTL);var t=this.props,r=t.items,i=t.totalItemsCount;if(this.container){var n=this.container,o=n.scrollLeft,s=n.scrollWidth,a=n.clientWidth;return e?r.length>=i&&o+a>=s-1:o<=1}return!1},s.isScrollEnd=function(){var e=this.props.styleParams,t=e.isRTL;return!e.slideshowLoop&&this.isScrollStart(!t)},s.isFirstItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollStart()},s.isLastItemFullyVisible=function(){return!this.props.styleParams.slideshowLoop&&this.isScrollEnd()},s.isLastItem=function(){return!this.props.styleParams.slideshowLoop&&this.state.currentIdx>=this.props.totalItemsCount-1},s.createNewItemsForSlideshowLoopThumbnails=function(){var e=this.props.items,t=[],r=Math.ceil(this.props.container.galleryWidth/this.props.styleParams.thumbnailSize);Object.keys(e).forEach((function(i){var n,o=Number(i);t[n=o+r]=Rr({},e[i]),o>e.length-r-1&&(n=o-e.length+r,t[n]=Rr({},e[i])),o<r&&(n=o+r+e.length,t[n]=Rr({},e[i]))})),t.forEach((function(e,t){e.loopIndex=t})),this.ItemsForSlideshowLoopThumbnails=t,this.numOfThumbnails=r},s.next=function(e){var t=e.direction,r=e.isAutoTrigger,i=e.scrollDuration,n=void 0===i?400:i,o=e.isKeyboardNavigation,s=void 0!==o&&o,a=document.activeElement,l=a.className&&a.className.includes("gallery-item-container"),c=!s||!(this.props.styleParams.isAccessible&&l);c&&this.props.styleParams.groupSize>1?this.nextGroup({direction:t,isAutoTrigger:r,scrollDuration:n}):(c&&this.props.styleParams.isGrid&&this.props.styleParams.numberOfImagesPerCol&&(t*=this.props.styleParams.numberOfImagesPerCol),this.nextItem({direction:t,isAutoTrigger:r,scrollDuration:n,avoidIndividualNavigation:c})),this.removeArrowsIfNeeded()},s.nextItem=function(e){var t=this,r=e.direction,i=e.isAutoTrigger,n=e.scrollDuration,o=e.avoidIndividualNavigation;if(!this.isSliding){this.isSliding=!0,r*=this.props.styleParams.isRTL?-1:1;var s=(!o||this.props.styleParams.groupSize>1?i?this.setCurrentItemByScroll():this.state.currentIdx:this.getCenteredItemIdxByScroll())+r;this.props.styleParams.slideshowLoop||(s=Math.min(this.props.galleryStructure.items.length-1,s),s=Math.max(0,s));var a=this.props.actions.scrollToItem;if(this.isAutoScrolling=!0,i)this.isLastItem()&&(s=0,n=0);else if(this.startAutoSlideshowIfNeeded(this.props.styleParams),r>=1&&this.isLastItem()||r<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var l=!i&&(r>=1&&this.isLastItemFullyVisible()||r<=-1&&this.isFirstItemFullyVisible()),c=this.getStyles().margin||0;(!l&&a(s,!1,!0,n,c)).then((function(){if(1===t.props.styleParams.groupSize){var e=Math.round(1.5*t.props.totalItemsCount),r=e-t.props.totalItemsCount;s>=e&&(s=r,a(s))}u.a.setStateAndLog(t,"Next Item",{currentIdx:s},(function(){t.onCurrentItemChanged(),t.isSliding=!1}))}))}catch(h){return console.error("Cannot proceed to the next Item",h),void this.stopAutoSlideshow()}}},s.nextGroup=function(e){var t=this,r=e.direction,i=e.isAutoTrigger,n=e.scrollDuration,o=void 0===n?400:n;if(!this.isSliding){this.isSliding=!0,r*=this.props.styleParams.isRTL?-1:1;var s=this.getCenteredGroupIdxByScroll()+r,a=this.props.actions.scrollToGroup;if(this.isAutoScrolling=!0,i)this.isLastItem()&&(s=0,o=0);else if(r>=1&&this.isLastItem()||r<=-1&&this.isFirstItem())return void(this.isSliding=!1);try{var l=!i&&(r>=1&&this.isLastItemFullyVisible()||r<=-1&&this.isFirstItemFullyVisible()),c=this.getStyles().margin||0;!l&&a(s,!1,!0,o,c),u.a.setStateAndLog(this,"Next Item",{currentIdx:this.getCenteredItemIdxByScroll()+r},(function(){t.onCurrentItemChanged(),t.isSliding=!1}))}catch(h){return console.error("Cannot proceed to the next Group",h),void this.stopAutoSlideshow()}}},s.onCurrentItemChanged=function(){this.lastCurrentItem!==this.state.currentIdx&&(this.lastCurrentItem=this.state.currentIdx,this.props.actions.eventsListener(o.a.events.CURRENT_ITEM_CHANGED,this.props.items[this.state.currentIdx])),this.removeArrowsIfNeeded()},s.stopAutoSlideshow=function(){clearInterval(this.autoSlideshowInterval)},s.startAutoSlideshowIfNeeded=function(e){var t=e.isAutoSlideshow,r=e.autoSlideshowInterval,i=e.oneRow;this.stopAutoSlideshow(),i&&t&&r>0&&this.state.isInView&&!this.state.shouldStopAutoSlideShow&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem.bind(this),1e3*r))},s.scrollToThumbnail=function(e,t){var r=this;void 0===t&&(t=400),this.props.actions.eventsListener(o.a.events.THUMBNAIL_CLICKED,this.props),this.isAutoScrolling=!0,this.startAutoSlideshowIfNeeded(this.props.styleParams),u.a.setStateAndLog(this,"Scroll to Item",{currentIdx:e},(function(){r.onCurrentItemChanged()})),this.props.actions.scrollToItem(e,!1,!0,t,0)},s.handleSlideshowKeyPress=function(e){switch(e.charCode||e.keyCode){case 38:case 37:case 33:return e.preventDefault(),this._next({direction:-1,isKeyboardNavigation:!0}),!1;case 39:case 40:case 32:case 34:return e.preventDefault(),this._next({direction:1,isKeyboardNavigation:!0}),!1}return!0},s.createThumbnails=function(e){var t=this,r=this.props.items,i=this.state.currentIdx;this.props.styleParams.slideshowLoop&&(this.ItemsForSlideshowLoopThumbnails||this.createNewItemsForSlideshowLoopThumbnails(),i+=this.numOfThumbnails,r=this.ItemsForSlideshowLoopThumbnails),u.a.isVerbose()&&console.log("creating thumbnails for idx",i);var s,a,l,c=this.props.styleParams.thumbnailSize,h=this.props.styleParams.thumbnailSize;switch(e){case"top":case"bottom":c=this.props.container.galleryWidth+this.props.styleParams.thumbnailSpacings,h=this.props.styleParams.thumbnailSize+this.props.styleParams.thumbnailSpacings,s=!0,a=Math.ceil(c/this.props.styleParams.thumbnailSize),l=Math.floor((c+this.props.styleParams.thumbnailSpacings)/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings));break;case"left":case"right":h=this.props.container.galleryHeight+2*this.props.styleParams.thumbnailSpacings,c=this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings,s=!1,a=Math.ceil(h/this.props.styleParams.thumbnailSize),l=Math.floor(h/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings))}this.firstItemIdx=i-Math.floor(a/2)-1,this.lastItemIdx=this.firstItemIdx+a,this.firstItemIdx<0&&(this.lastItemIdx-=this.firstItemIdx,this.firstItemIdx=0),this.lastItemIdx>r.length-1&&(this.firstItemIdx-=this.lastItemIdx-(r.length-1),this.firstItemIdx<0&&(this.firstItemIdx=0),this.lastItemIdx=r.length-1),(a=this.lastItemIdx-this.firstItemIdx+1)%2==0&&r.length>a&&this.lastItemIdx<r.length-1&&(a+=1,this.lastItemIdx+=1);var p,d=a*this.props.styleParams.thumbnailSize+(2*(a-1)+1)*this.props.styleParams.thumbnailSpacings,m={width:c,height:h};if(r.length<=l||i<a/2-1)switch(e){case"top":case"bottom":m.width=d+"px",m.left=0;break;case"left":case"right":m.height=d+"px",m.marginTop=0}else if(i>a/2-1&&i<r.length-a/2)switch(e){case"top":case"bottom":m.width=d+"px",m.left=(c-d)/2+"px";break;case"left":case"right":m.height=d+"px",m.marginTop=(h-d)/2+"px"}else if(i>=r.length-a/2)switch(e){case"top":case"bottom":m.left=c-d+"px",m.overflow="visible";break;case"left":case"right":m.top=h-d+"px",m.overflow="visible"}this.props.styleParams.isRTL&&(m.right=m.left,delete m.left);var f=this.props.styleParams.thumbnailSpacings;switch(this.props.styleParams.galleryThumbnailsAlignment){case"bottom":p=f+"px -"+f+"px 0 -"+f+"px";break;case"left":p="-"+f+"px "+f+"px -"+f+"px 0";break;case"top":p="0 -"+f+"px "+f+"px -"+f+"px";break;case"right":p="-"+f+"px 0 -"+f+"px "+f+"px"}var g,y=Math.floor(a/2);g=this.props.styleParams.slideshowLoop?r.slice(this.firstItemIdx,this.lastItemIdx+1):this.props.galleryStructure.galleryItems.slice(this.firstItemIdx,this.lastItemIdx+1);var b=this.props.styleParams.thumbnailSize;return n.a.createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(s?" one-row hide-scrollbars ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr ")+(this.props.styleParams.isAccessible?" accessible ":""),style:{width:c,height:h,margin:p},"data-hook":"gallery-thumbnails"},n.a.createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign(m,{width:c,height:h})},g.map((function(e,r){var a,l,c=t.props.styleParams.slideshowLoop?(l=e.itemId||e.photoId,t.props.galleryStructure.galleryItems.find((function(e){return e.id===l}))):e,h=t.props.styleParams.slideshowLoop?r===y:c.idx===i,p={width:b,height:b,margin:f,backgroundImage:"url("+c.createUrl(o.a.urlSizes.THUMBNAIL,o.a.urlTypes.HIGH_RES)+")"},d=s?((a={})[t.props.styleParams.isRTL?"right":"left"]=b*r+2*r*f,a):{top:b*r+2*r*f};return Object.assign(p,d),n.a.createElement("div",{key:"thumbnail-"+c.id+(Number.isInteger(e.loopIndex)?"-"+e.loopIndex:""),className:"thumbnailItem"+(h?" pro-gallery-thumbnails-highlighted gallery-item-container highlight"+(u.a.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":c.id,style:p,onClick:function(){return t.scrollToThumbnail(c.idx)}})}))))},s.getCenteredItemIdxByScroll=function(){var e,t=this.container&&this.container.scrollLeft||0,r=this.props.galleryStructure.galleryItems,i=this.props.styleParams.isRTL?this.props.galleryStructure.width-t-this.props.container.galleryWidth/2:t+this.props.container.galleryWidth/2;if(0===i)e=0;else for(var n,o=0;n=r[o];o++)if(n.offset.left>i){e=o-1;break}return e>=0||(e=r.length-1),e},s.getCenteredGroupIdxByScroll=function(){var e,t=this.container&&this.container.scrollLeft||0,r=this.props.galleryStructure.groups,i=this.props.styleParams.isRTL?this.props.galleryStructure.width-t-this.props.container.galleryWidth/2:t+this.props.container.galleryWidth/2;if(0===i)e=0;else for(var n,o=0;n=r[o];o++)if(n.left>i){e=o-1;break}return e>=0||(e=r.length-1),e},s.setCurrentItemByScroll=function(){var e=this;if(u.a.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)this.isAutoScrolling=!1;else{if(!("true"===(this.container&&this.container.getAttribute("data-scrolling")))){this.startAutoSlideshowIfNeeded(this.props.styleParams);var t=this.getCenteredItemIdxByScroll();return u.a.isUndefined(t)||u.a.setStateAndLog(this,"Set Current Item",{currentIdx:t},(function(){e.onCurrentItemChanged()})),t}this.stopAutoSlideshow()}},s.createDebugMsg=function(){return n.a.createElement(Lt,this.props.debug)},s.createNavArrows=function(){var e=this,t=this.props.styleParams,r=t.isRTL,i=t.oneRow,s=t.arrowsColor,a=t.isSlideshow,l=t.slideshowInfoSize,c=t.imageMargin,h=t.arrowsSize,p=t.arrowsPosition,d=t.showArrows,m=this.state,f=m.hideLeftArrow,g=m.hideRightArrow;if(!d||this.props.galleryStructure.columns.some((function(t){var r=(t.groups.filter((function(e){return e.rendered}))||[]).reduce((function(e,t){return e+Math.max(0,t.width)}),0);return i&&e.props.container.galleryWidth>=r})))return null;var y=this.props.styleParams.arrowsSize,b={transform:"scale("+y/23+")"},v={};u.a.isMobile()&&void 0!==s&&(v.fill=s.value);var I=(100-y)/2,O={padding:"0 "+I+"px 0 "+I+"px",top:"calc(50% - 50px + "+c/2+"px - "+(a?l:0)/2+"px)"},w=i&&p===o.a.arrowsPosition.OUTSIDE_GALLERY?"-"+(h+50+10)+"px":c+"px",S={left:w},E={right:w};return[f?null:n.a.createElement("button",{className:"nav-arrows-container prev "+(u.a.isMobile()?"pro-gallery-mobile-indicator ":""),onClick:function(){return e._next({direction:-1})},"aria-label":(r?"Next":"Previous")+" Item",tabIndex:u.a.getTabIndex("slideshowPrev"),key:"nav-arrow-back","data-hook":"nav-arrow-back",style:Rr(Rr({},O),S)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:b},n.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M154.994,259.522L153.477,261l-18.471-18,18.473-18,1.519,1.48L138.044,243Z",transform:"translate(-133 -225)"}))),g?null:n.a.createElement("button",{className:"nav-arrows-container next",onClick:function(){return e._next({direction:1})},"aria-label":(r?"Previous":"Next")+" Item",tabIndex:u.a.getTabIndex("slideshowNext"),key:"nav-arrow-next","data-hook":"nav-arrow-next",style:Rr(Rr({},O),E)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:b},n.a.createElement("path",{className:"slideshow-arrow",style:v,d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})))]},s.createLayout=function(){var e=this,t=this.props,r=t.itemsLoveData,i=t.getVisibleItems,o=t.galleryStructure,s=t.container,a={scrollingElement:this.props.scrollingElement,totalItemsCount:this.props.totalItemsCount,scroll:this.props.scroll,styleParams:this.props.styleParams,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,noFollowForSEO:this.props.noFollowForSEO,domId:this.props.domId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,totalWidth:this.props.galleryStructure.width,actions:{eventsListener:this.props.actions.eventsListener}};return o.columns.map((function(t,o){var l={width:t.width,height:s.galleryHeight};return e.props.styleParams.isSlideshow&&Object.assign(l,{paddingBottom:e.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{"data-hook":"gallery-column",id:"gallery-horizontal-scroll",className:"gallery-horizontal-scroll gallery-column hide-scrollbars "+(e.props.styleParams.isRTL?" rtl ":" ltr ")+" "+(e.props.styleParams.scrollSnap?" scroll-snap ":"")+" ",key:"column"+o,style:l},n.a.createElement("div",{className:"gallery-horizontal-scroll-inner"},function(t){var o=!!t.galleryGroups.length&&i(t.galleryGroups,s);return o&&o.map((function(t){return!!t.rendered&&n.a.createElement(Sr,Rr({allowLoop:e.props.styleParams.slideshowLoop&&e.props.galleryStructure.width>e.props.container.width,itemsLoveData:r},t.renderProps(a)))}))}(t)))}))},s.createGallery=function(){var e=this.props.styleParams.oneRow&&this.props.styleParams.arrowsPosition===o.a.arrowsPosition.OUTSIDE_GALLERY?{overflow:"visible",left:this.props.styleParams.arrowsSize+40+this.props.styleParams.imageMargin}:{},t=Rr({height:this.props.container.galleryHeight,width:this.props.container.galleryWidth},e);return this.props.styleParams.isSlideshow&&Object.assign(t,{paddingBottom:this.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.styleParams.enableScroll?" slider ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":" ltr "),style:t},this.createDebugMsg(),this.createNavArrows(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers())},s.onAutoSlideShowButtonClick=function(){var e=this,t=this.state.shouldStopAutoSlideShow;this.setState({shouldStopAutoSlideShow:!t},(function(){e.startAutoSlideshowIfNeeded(e.props.styleParams)}))},s.isFullWidthGallery=function(){return this.props.container.galleryWidth>=u.a.getWindowWidth()-10},s.onAutoSlideshowAutoPlayKeyPress=function(e){switch(e.keyCode||e.charCode){case 32:case 13:return e.preventDefault(),e.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}},s.calcSlideshowCounterWidth=function(){var e=this.props.totalItemsCount;return e<10?26:e<100?43:e<1e3?60:76},s.createAutoSlideShowPlayButton=function(){var e=this;if(!this.shouldCreateSlideShowPlayButton)return!1;var t=this.props.styleParams,r=t.galleryTextAlign,i=t.slideshowInfoSize,o=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),s="right"===r?{left:o+"px"}:{right:o+(this.shouldCreateSlideShowNumbers?this.calcSlideshowCounterWidth():0)+"px"};return n.a.createElement("button",{className:"auto-slideshow-button",onClick:function(){e.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.shouldStopAutoSlideShow,tabIndex:0,style:Rr({top:"calc(100% - "+i+"px + 3px)"},s)},this.state.shouldStopAutoSlideShow?n.a.createElement(Lr,{width:"10px",height:"100%"}):n.a.createElement(Ar,{width:"10px",height:"100%"}))},s.createSlideShowNumbers=function(){if(!this.shouldCreateSlideShowNumbers)return!1;var e=this.props,t=e.totalItemsCount,r=e.styleParams,i=r.galleryTextAlign,o=r.slideshowInfoSize,s=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),a=this.shouldCreateSlideShowPlayButton?s+25:s,l="right"===i?{left:a+"px"}:{right:s+"px"};return n.a.createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:Rr({top:"calc(100% - "+o+"px + 3px)"},l)},n.a.createElement("div",null,this.state.currentIdx%t+1+"/"+t))},s.getThumbnails=function(){var e=this.props.styleParams.hasThumbnails,t=this.props.styleParams.galleryThumbnailsAlignment,r=!!e&&this.createThumbnails(t),i=[];switch(t){case"top":case"left":i[0]=r,i[1]=!1;break;case"right":case"bottom":i[0]=!1,i[1]=r}return i},s.getClassNames=function(){var e="pro-gallery-parent-container";return this.props.styleParams.isSlideshow?e+=" gallery-slideshow":this.props.styleParams.isSlider?e+=" gallery-slider":this.props.styleParams.hasThumbnails?e+=" gallery-thumbnails":this.props.styleParams.isColumns&&(e+=" gallery-columns"),this.isFullWidthGallery()&&(e+=" streched"),e},s.getStyles=function(){return{margin:-1*(this.props.styleParams.imageMargin-this.props.styleParams.galleryMargin)}},s.componentWillReceiveProps=function(e){var t=this;e.items&&(this.ItemsForSlideshowLoopThumbnails=!1),this.props.isInDisplay!==e.isInDisplay&&this.setState({isInView:e.isInDisplay},(function(){return t.startAutoSlideshowIfNeeded(e.styleParams)})),(Object(Ge.a)()||Object(Ge.d)())&&(this.props.styleParams.isAutoSlideshow===e.styleParams.isAutoSlideshow&&this.props.styleParams.autoSlideshowInterval===e.styleParams.autoSlideshowInterval||this.startAutoSlideshowIfNeeded(e.styleParams));var r=5===e.styleParams.galleryLayout&&e.styleParams.isSlideshow&&e.styleParams.isAutoSlideshow;this.shouldCreateSlideShowPlayButton=r&&e.styleParams.playButtonForAutoSlideShow,this.shouldCreateSlideShowNumbers=r&&e.styleParams.allowSlideshowCounter},s.removeArrowsIfNeeded=function(){var e=this;Er(this.props.container)&&setTimeout((function(){var t=e.isScrollStart()||e.isFirstItem(),r=e.isScrollEnd()||e.isLastItem(),i=e.props.styleParams.isRTL,n=e.state,o=n.hideLeftArrow,s=n.hideRightArrow,a=!i&&t||i&&r,l=i&&t||!i&&r;(!!a!=!!o||!!l!=!!s)&&e.setState({hideLeftArrow:!!a,hideRightArrow:!!l})}),500)},s.navigationOutHandler=function(){u.a.setStateAndLog(this,"Next Item",{isInView:!1}),this.stopAutoSlideshow()},s.navigationInHandler=function(){u.a.setStateAndLog(this,"Next Item",{isInView:!0}),this.startAutoSlideshowIfNeeded(this.props.styleParams)},s.componentDidMount=function(){p.a.addEventListener("gallery_navigation_out",this.navigationOutHandler),p.a.addEventListener("gallery_navigation_in",this.navigationInHandler),this.container=p.a.document.querySelector("#pro-gallery-"+this.props.domId+" #gallery-horizontal-scroll"),this.container&&this.container.addEventListener("scroll",this._setCurrentItemByScroll),this.state.currentIdx>0?this.props.actions.scrollToItem(this.state.currentIdx):this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.styleParams)},s.componentWillUnmount=function(){p.a.removeEventListener("gallery_navigation_out",this.navigationOutHandler),p.a.removeEventListener("gallery_navigation_in",this.navigationInHandler),this.container&&this.container.removeEventListener("scroll",this._setCurrentItemByScroll)},s.render=function(){u.a.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));var e=this.createGallery(),t=this.getThumbnails();return u.a.isVerbose()&&console.timeEnd("Rendering Gallery took "),n.a.createElement("div",{className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress,role:"region","aria-label":this.props.proGalleryRegionLabel},t[0],e,t[1])},i}(Tt.a),Dr={galleryType:void 0,groupSize:void 0,showArrows:void 0,cubeImages:void 0,cubeType:void 0,cubeRatio:void 0,isVertical:void 0,gallerySize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,galleryMargin:void 0,scatter:void 0,chooseBestGroup:void 0,smartCrop:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlider:void 0,isColumns:void 0,isSlideshow:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0};var Nr=function(e,t){var r=e.galleryType,i=e.galleryLayout;if(!u.a.isUndefined(r)&&u.a.isUndefined(i)){(e=Object.assign(e,function(e){var t,r=e.galleryType,i=e.gallerySize,n=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*i+500),fixedColumns:0}},o=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",targetItemSize:Math.round(5*i+500),fixedColumns:0}},s=function(){return{cubeImages:!0,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8.5*i+150),fixedColumns:0,isGrid:!0}},l=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:Math.round(8*i+200),fixedColumns:0}},c=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:Math.round(5*i+200),fixedColumns:0}},h=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",targetItemSize:function(){return a.a.getGalleryWidth()},fixedColumns:1}},u=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",targetItemSize:function(){return a.a.getGalleryHeight()},fixedColumns:0}},p=function(){return{showArrows:!0,cubeImages:!0,cubeRatio:function(){return a.a.getGalleryRatio()},isVertical:!0,targetItemSize:function(){return a.a.getGalleryWidth()},galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:1}};switch(r){case"-1":t={};break;case"0":t=n();break;default:case"1":t=o();break;case"2":t=s();break;case"3":t=l();break;case"4":t=c();break;case"5":t=h();break;case"6":t=u();break;case"7":t=p()}return t}(e))).layoutsVersion=1;e.selectedLayout=["galleryType","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(t){return String(e[t])})).join("|")}else{u.a.isVerbose()&&console.log("Using galleryLayout for defaults",e);(e=Object.assign({},Dr,e)).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(t){return String(e[t])})).join("|"),e.layoutsVersion=2,e.selectedLayoutV2=i,u.a.isVerbose()&&console.log("new selected layout",e.selectedLayout)}return e=Object.assign(e,T(e,t))},Gr=r(321);var Hr=function(e){var t,r;function i(t){var r;return(r=e.call(this)||this).state={scrollTop:0,scrollLeft:0},r.debouncedOnScroll=u.a.debounce(t.onScroll,50),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.removeScrollListener=function(){if(this.scrollEventListenerSet){var e=this.props.scrollingElement;try{e.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(t){}try{this.props.oneRow&&e.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(t){}this.scrollEventListenerSet=!1}},o.initScrollListener=function(){var e=this;this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;var t=this.props.oneRow,r=this.props.scrollingElement;this.onHorizontalScroll=function(r){e.props.setGotFirstScrollIfNeeded();var i=r.currentTarget||r.target||r,n=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);e.props.isRTL&&(o=e.props.totalWidth-o),o>=0&&t&&(e.setState({scrollTop:o,scrollLeft:o}),e.props.getMoreItemsIfNeeded(o),e.debouncedOnScroll({top:n,left:o}))};try{r.horizontal().addEventListener("scroll",this.onHorizontalScroll)}catch(i){}this.onVerticalScroll=function(r){e.props.setGotFirstScrollIfNeeded();var i=r.currentTarget||r.target||r,n=i&&(i.scrollY||i.scrollTop||i.y),o=i&&(i.scrollX||i.scrollLeft||i.x);e.props.isRTL&&(o=e.props.totalWidth-o),n>=0&&(t||(e.setState({scrollTop:n}),e.props.getMoreItemsIfNeeded(n),e.debouncedOnScroll({top:n,left:o})))};try{r.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(i){}},o.componentWillUnmount=function(){this.removeScrollListener()},o.componentDidMount=function(){this.initScrollListener()},o.componentWillReceiveProps=function(e){for(var t=!1,r=0,i=["domId","oneRow","isRTL","totalWidth","scrollBase"];r<i.length;r++){var n=i[r];if(e[n]!==this.props[n]){t=!0;break}}t&&this.initScrollListener()},o.render=function(){var e=!this.props.oneRow&&this.props.scrollBase>0?this.props.scrollBase:0,t=this.state.scrollTop-e,r=this.props.domId;return n.a.createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":e,"data-scroll-top":this.state.scrollTop,className:Ft.calcScrollClasses(r,t),style:{display:"none"}})},i}(Tt.a),Fr=function(e,t,r){void 0===e&&(e="");var i=r.isRTL,n="";return t.forEach((function(t){var r=function(e,t){return"#pro-gallery-"+e+" #"+Ft.getSellectorDomId(t)}(e,t),o=function(e){return{top:e.offset.top,left:e.offset.left,width:e.width+e.infoWidth,height:e.height+e.infoHeight,innerHeight:e.height}}(t),s="top:"+o.top+"px;",a=i?"right:"+o.left+"px;left:auto;":"left:"+o.left+"px;",l="width:"+o.width+"px;",c="height:"+o.height+"px;";n+=r+" {"+s+a+l+c+"}"})),n},zr=function(e){var t=e.galleryItems,r=e.layoutParams,i=e.domId,n=[];return n.push(Fr(i,t,r.styleParams)),n},Br=function(){function e(e){this.setPlayingIdxState=e,this.handleEvent=function(){},this.trigger={SCROLL:function(){},INIT_SCROLL:function(){}},this.stop=function(){},this.initializePlayState=function(){}}var t=e.prototype;return t.initVideoScrollHelperIfNeeded=function(e,t){var i=this;if(t.some((function(e){return e.metaData&&"video"===e.metaData.type||e.metadata&&"video"===e.metadata.type}))){var n={setPlayingVideos:Object(Ge.a)()?function(){}:this.setPlayingIdxState};r.e(67).then(r.bind(null,808)).then((function(t){Object.assign(i,new t.default(n)),i.updateGalleryStructure(e),i.initializePlayState()})).catch((function(e){console.error("Failed to load videoScrollHelper. error: "+e)}))}},t.updateGalleryStructure=function(e,t,r){t&&this.initVideoScrollHelperIfNeeded(e,r)},e}();function Wr(e,t,r){return(Wr=Ur()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&Vr(n,r.prototype),n}).apply(null,arguments)}function Ur(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Wr(pt,t).createLayout()}function Kr(e){var t="function"==typeof Map?new Map:void 0;return(Kr=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return qr(e,arguments,$r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Jr(i,e)})(e)}function qr(e,t,r){return(qr=Xr()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&Jr(n,r.prototype),n}).apply(null,arguments)}function Xr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ei=function(e,t){return e&&t&&Object.keys(t).forEach((function(r){var i=t[r];void 0!==i?e.style[r]=i:e.style.removeProperty(r)}))},ti=function(e,t){return{width:e.width+"px",height:e.height+(t.externalInfoHeight||0)+"px"}},ri=function(e,t){var r=ti(e,t),i=t.isRTL;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){Qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({opacity:1,top:e.offset.top+"px",left:i?"auto":e.offset.left+"px",right:i?e.offset.left+"px":"auto"},r)},ii=function(){if(!0!==window.layoutFixerCreated){window.layoutFixerCreated=!0,console.log("[LAYOUT FIXER] createLayoutFixer");var e=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.connectedCallback=function(){var e,t,r=this;console.log("[LAYOUT FIXER] connectedCallback"),this.parentId=this.getAttribute("parentid"),this.parent=this.parentNode,console.log("[LAYOUT FIXER] parent",this.parent),this.useLayouter=!0,this.items=JSON.parse(this.getAttribute("items")),this.items&&this.items.length>0||(this.useLayouter=!1),console.log("[LAYOUT FIXER] items",this.items.map((function(e){return e.mediaUrl}))),this.styleParams=JSON.parse(this.getAttribute("styles")),this.styleParams&&"object"==typeof this.styleParams||(this.useLayouter=!1),this.measures=this.parent&&this.parent.getBoundingClientRect(),this.measures&&this.useLayouter&&(this.layout=Yr({items:this.items,styleParams:this.styleParams,container:this.measures}),console.log("[LAYOUT FIXER] layout",this.layout)),"object"==typeof this.measures&&(console.log("[LAYOUT FIXER] measures",this.measures),e=this.parent,t={"data-top":this.measures.top,"data-width":this.measures.width,"data-height":this.measures.height},e&&t&&Object.keys(t).forEach((function(r){return e.setAttribute(r,t[r])}))),this.useLayouter&&this.layout&&this.layout.items&&this.layout.items.length>0&&(this.parent.querySelectorAll(".gallery-item-container").forEach((function(e,t){console.log("[LAYOUT FIXER] setStyle",t,ri(r.layout.items[t],r.styleParams)),ei(e,ri(r.layout.items[t],r.styleParams))})),this.parent.querySelectorAll(".gallery-item-wrapper").forEach((function(e,t){ei(e,ti(r.layout.items[t],r.styleParams))})))},i}(Kr(HTMLElement));console.log("[LAYOUT FIXER] customElements.define",window,window.customElements),window.customElements.define("layout-fixer",e)}};"undefined"!=typeof window&&window.requestAnimationFrame((function(){try{ii()}catch(e){console.error("Cannot create layout fixer",e)}}));var ni=function(e){return console.log("[LAYOUT FIXER] rendering",Object(Ge.c)(),e),Object(Ge.c)()?n.a.createElement("layout-fixer",{parentId:e.parentId,items:JSON.stringify(e.items),styles:JSON.stringify(e.styles)}):null};function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?si(Object(r),!0).forEach((function(t){li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var hi=function(e){var t,r;function i(t){var r;r=e.call(this,t)||this,u.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",p.a.isMock),r.getMoreItemsIfNeeded=r.getMoreItemsIfNeeded.bind(ci(r)),r.setGotFirstScrollIfNeeded=r.setGotFirstScrollIfNeeded.bind(ci(r)),r.toggleLoadMoreItems=r.toggleLoadMoreItems.bind(ci(r)),r.scrollToItem=r.scrollToItem.bind(ci(r)),r.scrollToGroup=r.scrollToGroup.bind(ci(r)),r._scrollingElement=r.getScrollingElement(),r.duplicateGalleryItems=r.duplicateGalleryItems.bind(ci(r)),r.eventsListener=r.eventsListener.bind(ci(r)),r.onGalleryScroll=r.onGalleryScroll.bind(ci(r)),r.setPlayingIdxState=r.setPlayingIdxState.bind(ci(r)),r.getVisibleItems=r.getVisibleItems.bind(ci(r));var i={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};if(r.state=i,r.videoScrollHelper=new Br(r.setPlayingIdxState),r.items=[],r.itemsDimensions={},r.preloadedItems={},r.layoutCss=[],u.a.isSSR()){r.initialGalleryState=r.reCreateGalleryExpensively(t,i);try{r.galleryInitialStateJson=JSON.stringify(r.initialGalleryState)}catch(s){r.galleryInitialStateJson=null}}else try{if(u.a.shouldDebug("no_hydrate"))r.initialGalleryState={};else{var n=JSON.parse(p.a.document.querySelector("#pro-gallery-"+t.domId+" #ssr-state-to-hydrate").innerHTML);r.reCreateGalleryFromState({items:t.items,styles:n.styles,container:n.container,gotFirstScrollEvent:i.gotFirstScrollEvent}),r.initialGalleryState=n}}catch(s){r.initialGalleryState={};var o=r.reCreateGalleryExpensively(t);Object.keys(o).length>0&&(r.initialGalleryState=o)}return r.state=ai(ai({},i),r.initialGalleryState),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.getVisibleItems=function(e,t){var r=this.state.gotFirstScrollEvent,i=p.a.scrollY,n=t.galleryHeight,o=t.scrollBase,s=t.galleryWidth;if(Object(Ge.e)()||Object(Ge.a)()||Object(Ge.d)()||u.a.isSSR()||r||i>0||this.props.currentIdx>0)return e;var a=e;try{var l=p.a.innerHeight,c=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:o+n,h=i+l,d=Math.min(c,h)-o;(a=d<0?[]:this.isVerticalGallery()?e.filter((function(e){return e.offset.top<=d})):e.filter((function(e){return e.left<=s+20}))).length<2&&a.length<e.length&&(a=e.slice(0,2))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=e}return a},s.componentDidMount=function(){this.loadItemsDimensionsIfNeeded(),this.scrollToItem(this.props.currentIdx,!1,!0,0),this.handleNewGalleryStructure(),this.eventsListener(o.a.events.APP_LOADED,{}),this.getMoreItemsIfNeeded(0),this.videoScrollHelper.initializePlayState();try{"function"==typeof p.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=p.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(e){console.error("could not create 'current_hover_change' customEvent. Error =",e)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},s.componentWillReceiveProps=function(e){var t=this;!this.currentHoverChangeEvent.domId&&e.domId&&(this.currentHoverChangeEvent.domId=e.domId),this.props.currentIdx!==e.currentIdx&&this.scrollToItem(e.currentIdx,!1,!0,0);var r=function(e){return{domId:e.domId,styles:e.styles,container:e.container,items:e.items,watermark:e.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var i,n=!0;try{var o=r(this.props),s=r(e);n=JSON.stringify(o)!==JSON.stringify(s),u.a.isVerbose()&&n&&console.log("New props arrived",u.a.printableObjectsDiff(o,s))}catch(a){console.error("Cannot compare props",a)}n&&(i=t.reCreateGalleryExpensively(e),Object.keys(i).length>0&&t.setState(i,(function(){t.handleNewGalleryStructure()})),e.currentIdx&&e.currentIdx>0&&this.scrollToItem(e.currentIdx,!1,!0,0),this.props.isInDisplay!==e.isInDisplay&&this.handleNavigation(e.isInDisplay))},s.loadItemsDimensionsIfNeeded=function(){var e=this;if(!u.a.isSSR()&&this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0){var t=this.galleryStructure.galleryItems.filter((function(e){try{return e.isVisible&&e.isDimensionless&&!e.isPreloaded}catch(t){return!1}}));if(t.length){var r=u.a.debounce((function(){var t=e.props,r={items:t.items,styles:t.styles,container:t.container,watermark:t.watermark,itemsDimensions:e.itemsDimensions},i=e.reCreateGalleryExpensively(r,e.state);Object.keys(i).length>0&&e.setState(i,(function(){e.handleNewGalleryStructure()}))}),500);t.forEach((function(t,i){t.isPreloaded=!0,function(t,r){if(t&&t.itemId&&t.isGalleryItem)try{var i=t.itemId;if(e.itemsDimensions[i])return;if(void 0!==e.preloadedItems[i])return;e.preloadedItems[i]=new Image,u.a.isVerbose()&&console.log("Preloading item #"+t),"string"==typeof t.preload_url?e.preloadedItems[i].src=t.preload_url:e.preloadedItems[i].src=t.createUrl(o.a.urlSizes.PRELOAD,o.a.urlTypes.LOW_RES),"function"==typeof r&&(e.preloadedItems[i].onload=function(e){r(e)}),e.preloadedItems[i]}catch(n){return void console.error("Could not preload item",t,n)}}(t,(function(n){try{u.a.isVerbose()&&console.log("item loaded event",i,n);var o=n.srcElement,s=e.items.find((function(e){return e.itemId===t.itemId}));if(s){var a={width:o.width,height:o.height,measured:!0};Object.assign(s,a),"object"==typeof s.metaData&&Object.assign(s.metaData,a),e.itemsDimensions[s.itemId]=a,r()}}catch(l){console.error("Could not calc element dimensions",l)}}))}))}}},s.handleNavigation=function(e){e?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},s.handleNewGalleryStructure=function(){var e=this.state,t=e.container,r=e.needToHandleShowMoreClick,i=e.initialGalleryHeight,n=this.state.styles,s=this.items.length,a=this.layout.height,l=this.layout.items,c="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!c&&r){h=t.height+(i-138)}var u={numOfItems:s,container:t,styleParams:n,layoutHeight:a,layoutItems:l,isInfinite:c,updatedHeight:h};this.eventsListener(o.a.events.GALLERY_CHANGE,u),r&&this.setState({needToHandleShowMoreClick:!1})},s.reCreateGalleryFromState=function(e){var t=e.items,r=e.styles,i=e.container;this.items=t.map((function(e){return Pt.convertDtoToLayoutItem(e)}));var n={items:this.items,container:i,styleParams:r,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};this.layouter=new pt(n),this.layout=this.layouter.createLayout(n),this.galleryStructure=Pt.convertToGalleryItems(this.layout,{thumbnailSize:r.thumbnailSize,sharpParams:r.sharpParams,resizeMediaUrl:this.props.resizeMediaUrl}),this.videoScrollHelper.updateGalleryStructure({galleryStructure:this.galleryStructure,scrollBase:i.scrollBase,videoPlay:r.videoPlay,videoLoop:r.videoLoop,itemClick:r.itemClick,oneRow:r.oneRow},!0,this.items),!Object(Ge.e)()&&(Object(Ge.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:r}),this.createCssLayoutsIfNeeded(n),this.createDynamicStyles(r)},s.createCssLayoutsIfNeeded=function(e){var t=this.props.settings,r=(void 0===t?{}:t).avoidInlineStyles;(void 0===r||r)&&(this.layoutCss=zr({layoutParams:e,isMobile:u.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems}))},s.reCreateGalleryExpensively=function(e,t){var r=this,i=e.items,n=e.styles,o=e.container,s=e.watermark,l=e.itemsDimensions,c=e.customInfoRenderer,h=e.resizeMediaUrl;u.a.isVerbose()&&(console.count("PROGALLERY [COUNT] reCreateGalleryExpensively"),console.time("PROGALLERY [TIME] reCreateGalleryExpensively"));var p,d,m=t||this.state||{},f=!!c,g=n&&Nr(n,f),y=function(e,t){var r,i,n=e.items,o=e.styles,s=e.container,a=e.watermark,l=e.itemsDimensions,c={items:"",itemsMetadata:"",itemsAdded:"",styles:"",container:""},h={items:(r=n,i=t.items,r===t.items?(c.items="items are the same object.",!1):r?!i||i&&0===i.length?(c.items="old items do not exist.",!0):i.length!==r.length?(c.items="more new items than old items (or vice versa).",!0):r.reduce((function(e,t,r){var n=i[r];try{var o=e||!t||!n||t.itemId!==n.itemId||t.mediaUrl!==n.mediaUrl||t.metaData&&n.metaData&&t.metaData.type!==n.metaData.type;return o&&(c.items="items #"+r+" id was changed."),o}catch(s){return c.items="an error occured",!0}}),!1):(c.items="new items do not exist.",!1)),addedItems:function(e){var r=t.items;if(e===t.items)return c.itemsAdded="items are the same object.",!1;if(!e)return c.itemsAdded="new items do not exist.",!1;if(!r||r&&0===r.length)return c.itemsAdded="old items do not exist.",!1;if(r.length>=e.length)return c.itemsAdded="more old items than new items.",!1;var i=r.reduce((function(t,r,i){return t&&r.id===e[i].itemId}),!0);return i||(c.itemsAdded="items ids were changed. "),i}(n),itemsMetadata:function(e){var r=t.items;return e?t.items&&r?e.reduce((function(e,t,i){var n=r[i];try{var o=e||JSON.stringify(t.metaData)!==JSON.stringify(n.metaData);return o&&(c.itemsMetadata="item #"+i+" data was changed."),o}catch(s){return c.itemsMetadata="an error occured.",!0}}),!1):(c.itemsMetadata="old items do not exist.",!0):(c.itemsMetadata="new items do not exist.",!1)}(n),styles:function(e){if(!e)return c.styles="no new styles.",!1;if(!t.styles)return c.styles="no old styles.",!0;try{var r=JSON.stringify(Object.entries(e).sort())!==JSON.stringify(Object.entries(t.styles).sort());return r&&(c.styles="styles were changed."),r}catch(i){return console.error("Could not compare styles",i),!1}}(o),watermark:function(e){var r=t.container;if(e){if(!r)return c.watermark="first watermark arrived",!0;try{var i=JSON.stringify(Object.entries(r).sort())!==JSON.stringify(Object.entries(e).sort());return i&&(c.watermark="watermark changed."),i}catch(n){return console.error("Could not compare watermarks",n),!1}}return!1}(a),container:function(e){if(!t.styles||!t.container)return c.container="no old container or styles. ",!0;if(!e)return c.container="no new container.",!1;var r={height:!(!t.styles.oneRow&&t.styles.enableInfiniteScroll)&&(!!e.height&&e.height!==t.container.height),width:!t.container||!!e.width&&e.width!==t.container.width,scrollBase:!!e.scrollBase&&e.scrollBase!==t.container.scrollBase};return Object.keys(r).reduce((function(e,t){return r[t]&&(c.container+="container."+t+" has changed. "),e||r[t]}),!1)}(s),itemsDimensions:!!l};return h.str=Object.entries(h).map((function(e){var t=e[0];return e[1]?t:""})).filter((function(e){return!!e})).join("|"),h.any=h.str.length>0,h.reason=c,h}({items:i,styles:g,container:o,watermark:s,itemsDimensions:l},ai(ai({},m),{},{items:this.items})),b={};if(u.a.isVerbose()&&console.log("PROGALLERY reCreateGalleryExpensively",y,{items:i,styles:n,container:o,watermark:s}),!y.itemsDimensions&&!y.itemsMetadata||y.items||y.addedItems?y.items&&!y.addedItems?(this.items=i.map((function(e){return Object.assign(Pt.convertDtoToLayoutItem(e),ai({},r.itemsDimensions[e.itemId]))})),b.items=this.items.map((function(e){return e.itemId})),this.gettingMoreItems=!1):y.addedItems&&(this.items=this.items.concat(i.slice(this.items.length).map((function(e){return Pt.convertDtoToLayoutItem(e)}))),b.items=this.items.map((function(e){return e.itemId})),this.gettingMoreItems=!1):(this.items=this.items.map((function(e,t){var n=Object.assign({},i[t].metaData);return Object.assign(e,{metaData:n},ai({},r.itemsDimensions[e.itemId]))})),b.items=this.items.map((function(e){return e.itemId}))),y.styles||y.container?(n=n||m.styles,o=o||m.container,a.a.updateParams({styles:n,container:o,domId:this.props.domId}),p=Nr(n,f),a.a.updateParams({styles:p}),d=Object.assign({},o,a.a.getGalleryDimensions()),a.a.updateParams({container:d}),b.styles=p,b.container=d):(p=m.styles,d=m.container),!this.galleryStructure||y.any){u.a.isVerbose()&&console.count("PROGALLERY [COUNT] - reCreateGalleryExpensively (isNew)");var v={items:this.items,container:d,styleParams:p,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};this.layouter&&y.addedItems?v.options.useExistingLayout=!0:(v.options.createLayoutOnInit=!1,this.layouter=new pt(v)),this.layout=this.layouter.createLayout(v);var I={watermark:s,sharpParams:p.sharpParams,thumbnailSize:n.thumbnailSize,resizeMediaUrl:h,lastVisibleItemIdx:this.lastVisibleItemIdx},O=this.galleryStructure||this.layout;y.addedItems?this.galleryStructure=Pt.convertExistingStructureToGalleryItems(O,this.layout,I):this.galleryStructure=Pt.convertToGalleryItems(this.layout,I,O.galleryItems);var w={galleryStructure:this.galleryStructure,scrollBase:d.scrollBase,videoPlay:p.videoPlay,itemClick:p.itemClick,oneRow:p.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(w,!u.a.isSSR()&&(y.addedItems||y.items),this.items),y.items&&this.loadItemsDimensionsIfNeeded(),this.createCssLayoutsIfNeeded(v),this.createDynamicStyles(p),!Object(Ge.e)()&&(Object(Ge.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:p})}return u.a.isVerbose()&&(console.log("PROGALLERY [RENDERS] - reCreateGalleryExpensively",{isNew:y},{items:i,styles:n,container:o,watermark:s}),console.timeEnd("PROGALLERY [TIME] reCreateGalleryExpensively")),y.any?b:{}},s.getScrollingElement=function(){var e=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return e.props.scrollingElement}:function(){return p.a},horizontal:function(){return p.a.document.querySelector("#pro-gallery-"+e.props.domId+" #gallery-horizontal-scroll")}}},s.scrollToItem=function(e,t,r,i,n){if(void 0===i&&(i=0),e>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:e,fixedScroll:t,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Gr.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Ge.a)()," isPreviewMode =",Object(Ge.d)()," isSiteMode =",Object(Ge.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.scrollToGroup=function(e,t,r,i,n){if(void 0===i&&(i=0),e>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:e,fixedScroll:t,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Gr.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Ge.a)()," isPreviewMode =",Object(Ge.d)()," isSiteMode =",Object(Ge.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.containerInfiniteGrowthDirection=function(e){void 0===e&&(e=!1);var t=e||this.state.styles,r=this.props.styles.enableInfiniteScroll,i=this.state.showMoreClickedAtLeastOnce,n=t.oneRow,o=t.loadMoreAmount;return n?"horizontal":r||i&&"all"===o?"vertical":"none"},s.setPlayingIdxState=function(e,t){this.setState({playingVideoIdx:e,nextVideoIdx:t})},s.onGalleryScroll=function(e){var t=e.top,r=e.left;this.videoScrollHelper.trigger.SCROLL({top:t,left:r})},s.getScrollCss=function(e){var t=e.domId,r=e.items,i=e.styleParams;this.scrollCss=Ft.calcScrollCss({items:r,styleParams:i,domId:t})},s.createDynamicStyles=function(e){var t=e.overlayBackground,r=Object(Ge.c)()&&!!this.props.settings.allowSSROpacity;this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(t?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+t+" !important}":"")+"\n    ").trim()},s.toggleLoadMoreItems=function(){var e=this;this.eventsListener(o.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:!0},(function(){e.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var t=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:t,needToHandleShowMoreClick:!0},(function(){e.handleNewGalleryStructure()}))}},s.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},s.duplicateGalleryItems=function(){var e,t=this;this.itemsToDuplicate||(this.itemsToDuplicate=this.items);var r=(e=this.items).concat.apply(e,this.itemsToDuplicate.slice(0,this.props.totalItemsCount)),i=this.reCreateGalleryExpensively(ai(ai({},this.props),{},{items:r}));Object.keys(i).length>0&&this.setState(i,(function(){t.handleNewGalleryStructure()}))},s.eventsListener=function(e,t,r){this.videoScrollHelper.handleEvent({eventName:e,eventData:t}),e===o.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=t,p.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(e,t,r)},s.getMoreItemsIfNeeded=function(e){var t=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var r=this.state.styles.oneRow,i=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),n=p.a.screen[r?"width":"height"];i-(e+n)<(e?3*n:0)&&(this.state.items.length<this.props.totalItemsCount?(this.gettingMoreItems=!0,this.eventsListener(o.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){t.gettingMoreItems=!1}),2e3)):this.state.styles.slideshowLoop&&this.duplicateGalleryItems())}},s.canRender=function(){var e=this.state.container&&this.state.styles&&this.state.items;return!e&&u.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",this.state,e,this.state.container,this.state.styles,this.state.items),e},s.isVerticalGallery=function(){return!this.state.styles.oneRow},s.render=function(){if(!this.canRender())return null;var e=this.isVerticalGallery()?vr:jr;u.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.state.container.scrollBase,{state:this.state,items:this.items}));var t="none"===this.containerInfiniteGrowthDirection(),r=this.layouter?this.layouter.findNeighborItem:function(){};return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container",id:"pro-gallery-inner-container-"+this.props.domId},n.a.createElement(Hr,{domId:this.props.domId,oneRow:this.state.styles.oneRow,isRTL:this.state.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.state.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),n.a.createElement(e,oi({isInDisplay:this.props.isInDisplay,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,items:this.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.state.styles,container:this.state.container,watermark:this.props.watermark,settings:this.props.settings,displayShowMore:t,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:ai(ai({},this.props.actions),{},{findNeighborItem:r,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup,duplicateGalleryItems:this.duplicateGalleryItems})},this.props.gallery)),this.galleryInitialStateJson&&n.a.createElement("div",{id:"ssr-state-to-hydrate",style:{display:"none"}},this.galleryInitialStateJson),n.a.createElement("div",{"data-key":"dynamic-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"layoutCss-"+t,key:"layoutCss-"+t,dangerouslySetInnerHTML:{__html:e}})})),(this.scrollCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"scrollCss_"+t,key:"scrollCss_"+t,dangerouslySetInnerHTML:{__html:e}})})),!!this.dynamicStyles&&n.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})),this.props.useLayoutFixer?n.a.createElement(ni,{parentId:"pro-gallery-inner-container-"+this.props.domId,styles:this.state.styles,items:this.items}):null)},i}(n.a.Component);function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(r),!0).forEach((function(t){di(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function di(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mi=function(e){var t,r;function i(t){var r;return(r=e.call(this)||this).init(t),u.a.isLocal()&&!u.a.isTest()&&console.log("PRO GALLERY DEV"),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.init=function(e){void 0!==e.viewMode&&Ge.g.setViewMode(e.viewMode),void 0!==e.formFactor&&Ge.g.setFormFactor(e.formFactor)},o.componentWillReceiveProps=function(e){this.props.viewMode!==e.viewMode&&(u.a.dumpCache(),Ge.g.setViewMode(e.viewMode)),this.props.formFactor!==e.formFactor&&(u.a.dumpCache(),Ge.g.setFormFactor(e.formFactor))},o.renderProps=function(){return pi(pi({},this.props),{},{domId:this.props.domId,items:this.props.items||[],watermarkData:this.props.watermarkData,settings:this.props.settings||{},offsetTop:this.props.offsetTop,itemsLoveData:this.props.itemsLoveData||{},proGalleryRegionLabel:this.props.proGalleryRegionLabel||"Gallery. you can navigate the gallery with keyboard arrow keys."})},o.containerProps=function(){return{id:"pro-gallery-"+this.props.domId,className:"pro-gallery"}},o.render=function(){return n.a.createElement("div",this.containerProps(),n.a.createElement(hi,this.renderProps()))},i}(Tt.a);function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ii=function(e){var t,r;function i(){var t;return(t=e.call(this)||this).measureIfNeeded=t.measureIfNeeded.bind(vi(t)),t.eventsListener=t.eventsListener.bind(vi(t)),t.state={itemStyle:{},numberOfColumns:0},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){this.eventsListener(o.a.events.APP_LOADED,{}),this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(this.props)})},s.componentWillReceiveProps=function(e){this.props.container.galleryWidth!==e.container.galleryWidth&&(this.measureIfNeeded(),this.setState({numberOfColumns:this.calcNumberOfColumns(e)}))},s.createGalleryStyle=function(){var e=this.props.styles,t=e.gridStyle,r=e.fixedColumns,i=e.imageMargin,n=e.cubeImages,s=this.calcItemContainerSize(),a=t===o.a.gridStyle.SET_ITEMS_PER_ROW?r:this.state.numberOfColumns;return yi({gridTemplateColumns:a>0?"repeat("+a+", 1fr)":"repeat(auto-fit, minmax("+s.width+"px, 1fr))",gridGap:i+"px"},!1===n?{gridAutoRows:"minmax(max-content, 1px)",gridGap:0,columnGap:i+"px"}:{})},s.calcNumberOfColumns=function(e){var t=e.container.galleryWidth;if(!t)return 0;var r=this.calcItemContainerSize(void 0,e),i=1;if(e.styles.fixedColumns>0)i=e.styles.fixedColumns;else{var n=t/r.width,o=[Math.floor,Math.ceil],s=o.map((function(e){return e(n)})).map((function(e){return Math.round(t/e)})).map((function(e){return Math.abs(r.width-e)}));i=(0,o[s.indexOf(Math.min.apply(Math,s))])(n)||1}return i},s.calcItemContainerSize=function(e,t){var r=t||this.props,i=r.styles,n=r.container,s=i.targetItemSize,a=i.cubeImages,l=i.titlePlacement,c=i.textBoxHeight,h=i.cubeRatio,u=i.imageMargin,p=n.width>0?Math.min(s,n.width):s,d=p/h;if(e&&!1===a){var m=Oi(e,"width")/Oi(e,"height");d=Math.round((p-u)/m)}return o.a.hasVerticalPlacement(l)&&(d+=c),{width:p,height:d}},s.createItemContainerStyle=function(e,t){var r=this.state.itemStyle.height,i=void 0===r?null:r,n=this.props.styles,o=n.imageMargin,s=n.cubeImages,a=this.calcItemContainerSize(t),l=!1===s?{gridRowEnd:"span "+a.height,marginBottom:o+"px",height:"fit-content"}:{};return yi(yi(yi({},this.createItemContainerBorder()),i?{height:"auto"}:{height:"auto",textAlign:"center"}),{},{cursor:e?"pointer":"default"},l)},s.createItemContainerBorder=function(){var e=this.props.styles;if(e.imageInfoType===o.a.infoType.ATTACHED_BACKGROUND)return{borderStyle:"solid",borderWidth:e.itemBorderWidth,borderColor:u.a.formatColor(e.itemBorderColor),borderRadius:e.itemBorderRadius}},s.createImageWrapperStyle=function(e){var t=this.props.styles,r=t.cubeType,i=t.cubeImages;if(this.state.itemStyle.width&&r!==o.a.resizeMethods.FIT){var n=this.calcItemContainerSize(e);return yi({},!1===i?n:this.state.itemStyle)}if(!(this.state.itemStyle.width>0))return{width:"100%",height:"auto"};var s=this.state.itemStyle,a=s.width,l=s.height,c=Oi(e,"width")/Oi(e,"height");if(c>a/l){var h=a/c;return{width:a,height:h,marginTop:(l-h)/2}}var u=l*c;return{height:l,width:u,marginLeft:(a-u)/2}},s.resizeUrl=function(e){var t=e.item,r=this.props,i=r.styles,n=r.resizeMediaUrl,o=i.cubeType,s=i.imageQuality,a=i.cubeRatio,l=i.cubeImages,c=this.state.itemStyle,h=t.url,u=t.mediaUrl,p=t.src,d=h||u||p,m=this.calcItemContainerSize(t),f=!0===l&&c.width||m.width,g=!0===l&&c.height||m.height/a,y=!(c.width>0)?{quality:30,blur:30}:{quality:s};if("function"!=typeof n)return String(d);try{return n({maxWidth:Oi(t,"width"),maxHeight:Oi(t,"height")},d,o,f,g,y,!1,!1)||""}catch(b){return String(d)}},s.createImageStyle=function(e){var t=e.width,r=void 0===t?"100%":t,i=e.height;return yi(yi({width:r,height:void 0===i?"auto":i},u.a.isiOS()&&!this.props.styles.allowContextMenu?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{}),this.createImageBorder())},s.createImageBorder=function(){var e=this.props.styles;if(e.imageInfoType!==o.a.infoType.ATTACHED_BACKGROUND)return{boxSizing:"border-box",borderStyle:"solid",borderWidth:e.itemBorderWidth,borderColor:u.a.formatColor(e.itemBorderColor),borderRadius:e.itemBorderRadius}},s.createLinkParams=function(e){var t=this.props,r=t.noFollowForSEO,i=t.styles.itemClick,n=e.directLink||{},s=n.url,a=n.target,l=Object(Ge.e)()&&r?{rel:"nofollow"}:{};return!!!(!s||!a||i!==o.a.itemClick.LINK)&&yi({href:s,target:a},l)},s.measureIfNeeded=function(e){var t=this.props.styles;!this.node&&e&&(this.node=e),this.node&&this.node.clientWidth!==this.clientWidth&&(this.clientWidth=this.node.clientWidth,this.setState({itemStyle:{width:this.clientWidth,height:Math.round(this.clientWidth/t.cubeRatio)}}))},s.fixStylesIfNeeded=function(e){return yi(yi({},e),{},{externalInfoHeight:e.textBoxHeight})},s.isMetadataLinkExists=function(e){var t=e.metadata||e.metaData;return!(!t||!t.link)},s.eventsListener=function(e,t){"function"==typeof this.props.eventsListener&&this.props.eventsListener(e,t)},s.render=function(){var e=this,t=this.eventsListener,r=this.props,i=r.customInfoRenderer,s=r.items,a=this.fixStylesIfNeeded(r.styles),l=a.itemClick;return n.a.createElement("div",{"data-hook":"lean-gallery",className:["pro-gallery","inline-styles","lean-gallery-gallery"].join(" "),style:this.createGalleryStyle()},s.map((function(r,s){var c=e.createLinkParams(r),h=c&&l===o.a.itemClick.LINK||[o.a.itemClick.EXPAND,o.a.itemClick.FULLSCREEN].includes(l)||e.isMetadataLinkExists(r),u=yi(yi({},r),{},{id:r.itemId,idx:s}),p=r.metaData||r.metadata,d=yi(yi(yi({},u),p),{},{style:e.state.itemStyle,styleParams:a}),m=e.createImageWrapperStyle(r),f=a.textBoxHeight,g=function(e){return"function"==typeof i&&a.titlePlacement===e&&n.a.createElement("div",{className:"gallery-item-common-info gallery-item-"+(e===o.a.placements.SHOW_ABOVE?"top":"bottom")+"-info",style:qt(e,a,f)},i(d,e))};return n.a.createElement("a",fi({className:["gallery-item-container","lean-gallery-cell"].join(" "),style:e.createItemContainerStyle(h,r),ref:function(r){e.measureIfNeeded(r),t(o.a.events.ITEM_CREATED,u)},key:"item-container-"+s},c),g(o.a.placements.SHOW_ABOVE),n.a.createElement("div",{style:m,className:["gallery-item-hover","lean-gallery-image-wrapper"].join(" "),onClick:function(){return t(o.a.events.ITEM_ACTION_TRIGGERED,u)}},n.a.createElement("img",{src:e.resizeUrl({item:r}),loading:"lazy",className:["gallery-item-content","lean-gallery-image"].join(" "),alt:Oi(r,"title"),style:e.createImageStyle(m),onLoad:function(){return t(o.a.events.ITEM_LOADED,u)}})),g(o.a.placements.SHOW_BELOW))})))},i}(n.a.Component),Oi=function(e,t){if(void 0!==e[t])return e[t];var r=e.metadata||e.metaData;return void 0!==r&&void 0!==r[t]?r[t]:void 0},wi=function(e){return T(De(e),!0)},Si={numberOfImagesPerRow:3,gallerySizeType:"smart",gallerySizeRatio:1,gallerySizePx:300,gallerySize:30,cubeType:"fill",cubeRatio:1,fixedColumns:0,borderRadius:0,imageMargin:10,gridStyle:0,itemBorderWidth:0,itemBorderRadius:0,imageQuality:90,textBoxHeight:200},Ei={allowLeanGallery:!0,cubeImages:!0,galleryLayout:[o.a.layout.EMPTY,o.a.layout.GRID],isVertical:!0,oneRow:!1,isRTL:!1,scrollDirection:[0,void 0],groupSize:1,hoveringBehaviour:[o.a.infoBehaviourOnHover.NEVER_SHOW,o.a.infoBehaviourOnHover.APPEARS],rotatingGroupTypes:"",smartCrop:!1,rotatingCubeRatio:"",boxShadow:0,galleryMargin:0,scatter:0,placeGroupsLtr:!1,mobilePanorama:!1,enableInfiniteScroll:[!0,1],itemEnableShadow:!1,itemClick:[o.a.itemClick.NOTHING,o.a.itemClick.LINK,o.a.itemClick.FULLSCREEN,o.a.itemClick.EXPAND],scrollAnimation:o.a.scrollAnimations.NO_EFFECT,titlePlacement:function(e){return o.a.isVerticalPlacement(e.titlePlacement)||e.hoveringBehaviour===o.a.infoBehaviourOnHover.NEVER_SHOW||o.a.isHoverPlacement(e.titlePlacement)&&!e.loveButton&&!e.loveCounter&&!e.allowDownload&&!e.allowSocial&&!e.allowTitle&&!e.allowDescription},imageHoverAnimation:o.a.imageHoverAnimations.NO_EFFECT,loveButton:!1,loveCounter:!1,allowDownload:!1,allowSocial:!1,isAccessible:!1};function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(r),!0).forEach((function(t){Li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xi(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ci(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var Ai=function(e){var t=e.items,r=e.styles,i=e.totalItemsCount,n=void 0===i?0:i;if(!!!(r=wi(r)).allowLeanGallery)return!1;if(n>t.length)return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - not all items arrived",n,t.length),!1;var o=Math.max(t.length,n);if(o>25)return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - more than 25 items",o),!1;for(var s,a=xi(t);!(s=a()).done;){var l=s.value;if(!Ri(l))return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - an item that is not an image",l),!1}for(var c=0,h=Object.entries(r);c<h.length;c++){var p=h[c],d=p[0],m=p[1];if(!Mi(d,m,r))return u.a.isVerbose()&&console.log("[LEAN GALLERY] NOT ALLOWED - invalid styleParam",d,m),!1}return u.a.isVerbose()&&console.log("[LEAN GALLERY] ALLOWED!",r),!0},_i=function(e){var t=e.items,r=e.styles,i=Ti(Ti(Ti({},r),Ne.grid),{},{allowLeanGallery:!0}),n=[];"2"!==String(r.galleryLayout)&&n.push("not a Grid layout"),t.length>25&&n.push("more than 25 items");for(var o,s=0,a=xi(t);!(o=a()).done;){var l=o.value;Ri(l)||s++}s>0&&n.push(s+" items are not an image");for(var c=0,h=Object.entries(i);c<h.length;c++){var u=h[c],p=u[0],d=u[1];Mi(p,d,i)||n.push("invalid style: "+p+" => "+d)}return n},Ri=function(e){var t=e.metadata||e.metaData;return!(t.type&&"image"!==t.type||!(e.url||e.mediaUrl||e.src))},Mi=function(e,t,r){if(void 0!==Si[e])return!0;if(void 0!==Ei[e]){var i=Ei[e];return i&&"function"==typeof i?i(r):i&&i.length>0?i.includes(t):i===t}return!0};function ki(){return(ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Ni(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ni(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gi=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props.domId||"default-dom-id",t=this.props,r=t.styles,i=t.options,o=t.styleParams,l=t.eventsListener,c=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(t,["styles","options","styleParams","eventsListener"]),h=Di(Di(Di(Di({},s),i),r),o),u=Di(Di({},c),{},{styles:h,eventsListener:function(){return"function"==typeof l&&l.apply(void 0,arguments)},domId:e}),p=Ai(u),d=[e,p].join("_");if(this.props.useBlueprints);else{a.a.updateParams({domId:u.domId,container:u.container,styles:u.styles});var m=u.styles,f=m.galleryType,g=m.galleryLayout;void 0!==f&&void 0===g||(u=Di(Di({},u),{},{styles:De(u.styles)}))}var y=mi;return p&&(u.styles=wi(u.styles),y=Ii),n.a.createElement(y,ki({key:d},u))},i}(n.a.Component);function Hi(){return(Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){Bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ui=function(e){var t,r;function i(t){var r;r=e.call(this,t)||this,u.a.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",p.a.isMock),r.getMoreItemsIfNeeded=r.getMoreItemsIfNeeded.bind(Wi(r)),r.setGotFirstScrollIfNeeded=r.setGotFirstScrollIfNeeded.bind(Wi(r)),r.toggleLoadMoreItems=r.toggleLoadMoreItems.bind(Wi(r)),r.scrollToItem=r.scrollToItem.bind(Wi(r)),r.scrollToGroup=r.scrollToGroup.bind(Wi(r)),r._scrollingElement=r.getScrollingElement(),r.eventsListener=r.eventsListener.bind(Wi(r)),r.onGalleryScroll=r.onGalleryScroll.bind(Wi(r)),r.setPlayingIdxState=r.setPlayingIdxState.bind(Wi(r)),r.getVisibleItems=r.getVisibleItems.bind(Wi(r)),r.videoScrollHelper=new Br(r.setPlayingIdxState);var i={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};r.state=i,r.layoutCss=[],r.initialGalleryState={};try{var n=r.propsToState(t);Object.keys(n).length>0&&(r.initialGalleryState=n)}catch(o){console.warn(o)}return r.state=zi(zi({},i),r.initialGalleryState),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){this.scrollToItem(this.props.currentIdx,!1,!0,0),this.eventsListener(o.a.events.APP_LOADED,{}),this.videoScrollHelper.initializePlayState();try{"function"==typeof p.a.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=p.a.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(e){console.error("could not create 'current_hover_change' customEvent. Error =",e)}this.props.domId&&(this.currentHoverChangeEvent.domId=this.props.domId)},s.componentWillReceiveProps=function(e){var t=this;!this.currentHoverChangeEvent.domId&&e.domId&&(this.currentHoverChangeEvent.domId=e.domId),this.props.currentIdx!==e.currentIdx&&this.scrollToItem(e.currentIdx,!1,!0,0);var r=function(e){return{domId:e.domId,styles:e.styles,container:e.container,items:e.items,watermark:e.watermark}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var i,n=!0;try{var o=r(this.props),s=r(e);n=JSON.stringify(o)!==JSON.stringify(s),u.a.isVerbose()&&n&&console.log("New props arrived",u.a.printableObjectsDiff(o,s))}catch(a){console.error("Cannot compare props",a)}n&&(i=t.propsToState(e),Object.keys(i).length>0&&t.setState(i),e.currentIdx&&e.currentIdx>0&&this.scrollToItem(e.currentIdx,!1,!0,0),this.props.isInDisplay!==e.isInDisplay&&this.handleNavigation(e.isInDisplay))},s.handleNavigation=function(e){e?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},s.handleNewGalleryStructure=function(){var e=this.state,t=e.container,r=e.needToHandleShowMoreClick,i=e.initialGalleryHeight,n=this.props.styles,s=this.state.items.length,a=this.props.structure.height,l=this.props.structure.items,c="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!c&&r){h=t.height+(i-138)}var u={numOfItems:s,container:t,styleParams:n,layoutHeight:a,layoutItems:l,isInfinite:c,updatedHeight:h};console.log("handleNewGalleryStructure",u),this.eventsListener(o.a.events.GALLERY_CHANGE,u),r&&this.setState({needToHandleShowMoreClick:!1})},s.isVerticalGallery=function(){return!this.state.styles.oneRow},s.getVisibleItems=function(e,t){var r=this.state.gotFirstScrollEvent,i=p.a.scrollY,n=t.galleryHeight,o=t.scrollBase,s=t.galleryWidth;if(Object(Ge.e)()||Object(Ge.a)()||Object(Ge.d)()||u.a.isSSR()||r||i>0||this.props.currentIdx>0)return e;var a=e;try{var l=p.a.innerHeight,c=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:o+n,h=i+l,d=Math.min(c,h)-o;(a=d<0?[]:this.isVerticalGallery()?e.filter((function(e){return e.offset.top<d})):e.filter((function(e){return e.left<=s+20}))).length<2&&a.length<e.length&&(a=e.slice(1))}catch(m){console.error("Could not calculate visible items, returning original items",m),a=e}return a},s.propsToState=function(e){var t=e.loopingItems,r=e.items,i=e.styles,n=e.structure,o=e.container,s=e.domId,a=e.resizeMediaUrl;r=r||this.props.items,i=i||this.props.styles,o=o||this.props.container,n=n||this.props.structure,s=s||this.props.domId,a=a||this.props.resizeMediaUrl,this.galleryStructure=Pt.convertToGalleryItems(n,{thumbnailSize:i.thumbnailSize,sharpParams:i.sharpParams,resizeMediaUrl:a}),!Object(Ge.e)()&&(Object(Ge.a)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({domId:s,items:this.galleryStructure.galleryItems,styleParams:i});var l={galleryStructure:this.galleryStructure,scrollBase:o.scrollBase,videoPlay:i.videoPlay,videoLoop:i.videoLoop,itemClick:i.itemClick,oneRow:i.oneRow,cb:this.setPlayingIdxState};this.videoScrollHelper.updateGalleryStructure(l,!u.a.isSSR(),r);var c={items:r,container:o,styleParams:i,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};return this.createCssLayoutsIfNeeded(c),this.createDynamicStyles(i),{items:t||r,styles:i,container:o,structure:n}},s.getScrollingElement=function(){var e=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return e.props.scrollingElement}:function(){return p.a},horizontal:function(){return p.a.document.querySelector("#pro-gallery-"+e.props.domId+" #gallery-horizontal-scroll")}}},s.scrollToItem=function(e,t,r,i,n){if(void 0===i&&(i=0),e>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:e,fixedScroll:t,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Gr.d)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",Object(Ge.a)()," isPreviewMode =",Object(Ge.d)()," isSiteMode =",Object(Ge.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.scrollToGroup=function(e,t,r,i,n){if(void 0===i&&(i=0),e>=0){var o=this._scrollingElement,s=o.horizontal();try{var a={scrollMarginCorrection:n,isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:e,fixedScroll:t,isManual:r,scrollingElement:o,horizontalElement:s,durationInMS:i};return Object(Gr.c)(a)}catch(l){console.error("error:",l," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",Object(Ge.a)()," isPreviewMode =",Object(Ge.d)()," isSiteMode =",Object(Ge.f)()," this.state.styles =",this.state.styles," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}},s.containerInfiniteGrowthDirection=function(e){void 0===e&&(e=!1);var t=e||this.props.styles,r=this.props.styles.enableInfiniteScroll,i=this.state.showMoreClickedAtLeastOnce,n=t.oneRow,o=t.loadMoreAmount;return n?"horizontal":r||i&&"all"===o?"vertical":"none"},s.setPlayingIdxState=function(e,t){this.setState({playingVideoIdx:e,nextVideoIdx:t})},s.onGalleryScroll=function(e){var t=e.top,r=e.left;this.videoScrollHelper.trigger.SCROLL({top:t,left:r})},s.createDynamicStyles=function(e){var t=e.overlayBackground,r=Object(Ge.c)()&&!!this.props.settings.allowSSROpacity;this.dynamicStyles=("\n      "+(r?"#pro-gallery-"+this.props.domId+" .gallery-item-container { opacity: 0 }":"")+"\n      "+(t?"#pro-gallery-"+this.props.domId+" .gallery-item-hover::before { background-color: "+t+" !important}":"")+"\n    ").trim()},s.createCssLayoutsIfNeeded=function(e){this.layoutCss=zr({layoutParams:e,isMobile:u.a.isMobile(),domId:this.props.domId,galleryItems:this.galleryStructure.galleryItems})},s.getScrollCss=function(e){var t=e.domId,r=e.items,i=e.styleParams;this.scrollCss=Ft.calcScrollCss({items:r,styleParams:i,domId:t})},s.toggleLoadMoreItems=function(){var e=this;this.eventsListener(o.a.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:!0},(function(){e.handleNewGalleryStructure()}));else{this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles});var t=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:t,needToHandleShowMoreClick:!0},(function(){e.handleNewGalleryStructure()}))}},s.setGotFirstScrollIfNeeded=function(){this.state.gotFirstScrollEvent||(this.getScrollCss({domId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles}),this.setState({gotFirstScrollEvent:!0}))},s.eventsListener=function(e,t,r){this.videoScrollHelper.handleEvent({eventName:e,eventData:t}),e===o.a.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=t,p.a.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(e,t,r)},s.getMoreItemsIfNeeded=function(e){var t=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var r=this.state.styles.oneRow,i=this.galleryStructure[r?"width":"height"]+(r?0:this.state.container.scrollBase),n=p.a.screen[r?"width":"height"];i-(e+n)<(e?3*n:0)&&(this.gettingMoreItems=!0,this.eventsListener(o.a.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){t.gettingMoreItems=!1}),2e3))}},s.canRender=function(){var e=this.props.container&&this.props.styles&&this.state.items;return!e&&u.a.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",e,this.props.container,this.props.styles,this.state.items),e},s.render=function(){if(!this.canRender())return null;var e=this.props.styles.oneRow?jr:vr;u.a.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.props.container.scrollBase,{props:this.props,items:this.state.items}));var t="none"===this.containerInfiniteGrowthDirection(),r=this.layouter?this.layouter.findNeighborItem:function(){};return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container"},n.a.createElement(Hr,{domId:this.props.domId,oneRow:this.props.styles.oneRow,isRTL:this.props.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.props.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),n.a.createElement(e,Hi({isInDisplay:this.props.isInDisplay,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,items:this.state.items,getVisibleItems:this.getVisibleItems,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.props.styles,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,scroll:{},displayShowMore:t,domId:this.props.domId,currentIdx:this.props.currentIdx||0,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,customSlideshowInfoRenderer:this.props.customSlideshowInfoRenderer,customLoadMoreRenderer:this.props.customLoadMoreRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,actions:zi(zi({},this.props.actions),{},{findNeighborItem:r,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup})},this.props.gallery)),n.a.createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"layoutCss-"+t,key:"layoutCss-"+t,dangerouslySetInnerHTML:{__html:e}})})),(this.scrollCss||[]).filter(Boolean).map((function(e,t){return n.a.createElement("style",{id:"scrollCss_"+t,key:"scrollCss_"+t,dangerouslySetInnerHTML:{__html:e}})})),!!this.dynamicStyles&&n.a.createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})),this.props.useLayoutFixer?n.a.createElement(ni,{parentId:"pro-gallery-inner-container-"+this.props.domId,styles:this.state.styles,items:this.items}):null)},i}(n.a.Component);var Vi=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){return n.a.createElement("div",this.containerProps(),n.a.createElement(Ui,this.renderProps()))},i}(mi);function Yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(r),!0).forEach((function(t){qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xi=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props.domId||"default-dom-id",t=this.props,r=t.styles,i=t.options,o=t.styleParams,l=t.eventsListener,c=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(t,["styles","options","styleParams","eventsListener"]),h=Ki(Ki(Ki(Ki({},s),i),r),o),u=Ki(Ki({},c),{},{styles:h,eventsListener:function(){return"function"==typeof l&&l.apply(void 0,arguments)},domId:e});if(this.props.useBlueprints);else{a.a.updateParams({domId:u.domId,container:u.container,styles:u.styles});var p=u.styles,d=p.galleryType,m=p.galleryLayout;void 0!==d&&void 0===m||(u=Ki(Ki({},u),{},{styles:De(u.styles)}))}var f=Vi;return Ai(u)&&(f=Ii),n.a.createElement(f,u)},i}(n.a.Component);function Ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(r),!0).forEach((function(t){Zi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qi=new(function(){function e(){}var t=e.prototype;return t.createBlueprint=function(e,t,r,i,n){var o={};try{var s=e.dimensions,a=e.items,l=e.styles,c=t.dimensions,h=t.items,u=t.styles,p=this.formatItemsIfNeeded(a,h),d=p.formattedItems,m=p.changed,f=this.formatStylesIfNeeded(l,u,n),g=f.formattedStyles,y=f.changed,b=this.formatContainerIfNeeded(s,l,c,u,{formattedStyles:g||r.styles}),v=b.formattedContainer,I=b.changed,O=m||y||I;if(o={itemsChanged:m,stylesChanged:y,containerChanged:I},O||!r){r||(r={});var w=this.createStructure({formattedContainer:v||r.container,formattedItems:d||r.items,formattedStyles:g||r.styles},O);g&&(r.styles=g),d&&(r.items=d),v&&(r.container=v),r.structure=w,!r.styles.oneRow&&r.styles.enableInfiniteScroll&&(r.container.height=r.container.galleryHeight=w.height)}}catch(S){console.error("Could not create blueprint, error:",S)}return{blueprint:r,changedParams:o}},t.formatItemsIfNeeded=function(e,t){var r,i={items:"",itemsAdded:""},n=t,o=!1;return!function(e,t){if(e===t)return i.itemsAdded="items are the same object.",!1;if(!e)return i.itemsAdded="new items do not exist.",!1;if(!t||t&&0===t.length)return i.itemsAdded="old items do not exist.",!1;if(t.length>=e.length)return i.itemsAdded="more old items than new items.",!1;var r=t.reduce((function(t,r,i){return t&&r.id===e[i].itemId}),!0);return r||(i.itemsAdded="items ids were changed. "),r}(e,n)?function(e,t){return e===t?(i.items="items are the same object.",!1):e?!t||t&&0===t.length?(i.items="old items do not exist.",!0):t.length!==e.length?(i.items="more new items than old items (or vice versa).",!0):e.reduce((function(e,r,n){var o=t[n];try{var s=e||!r||!o||r.itemId!==o.itemId||r.mediaUrl!==o.mediaUrl||r.measured!==o.measured||r.metaData&&o.metaData&&r.metaData.type!==o.metaData.type;return s&&(i.items="items #"+n+" id was changed."),s}catch(a){return i.items="an error occured",!0}}),!1):(i.items="new items do not exist.",!1)}(e,n)&&(r=e.map((function(e){return Object.assign(Pt.convertDtoToLayoutItem(e))})),this.gettingMoreItems=!1,o=!0):(r=n.concat(e.slice(n.length).map((function(e){return Pt.convertDtoToLayoutItem(e)}))),this.gettingMoreItems=!1,o=!0),{formattedItems:r,changed:o}},t.formatStylesIfNeeded=function(e,t,r){var i,n={styles:""},o=!1;if(function(e,t){if(!e)return n.styles="no new styles.",!1;if(!t)return n.styles="no old styles.",!0;try{var r={};Object.keys(t).sort().forEach((function(e){return r[e]=t[e]}));var i={};Object.keys(e).sort().forEach((function(t){return i[t]=e[t]}));var o=JSON.stringify(i)!==JSON.stringify(r);return o&&(n.styles="styles were changed."),o}catch(s){return console.error("Could not compare styles",s),!1}}(e,t)){e=$i($i({},s),e);(i=T(De(e),r)).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(e){return String(i[e])})).join("|"),i.layoutsVersion=2,o=!0}return{formattedStyles:i,changed:o}},t.formatContainerIfNeeded=function(e,t,r,i,n){var o,s=n.formattedStyles,l={dimensions:""},c=!1;return function(e){var t=e.newDimensionsParams,r=e.oldDimensionsParams,i=e.oldStylesParams;if(!i||!r)return l.dimensions="no old dimensions or styles. ",!0;if(!t)return l.dimensions="no new dimensions.",!1;var n={height:!(!i.oneRow&&i.enableInfiniteScroll)&&(!!t.height&&t.height!==r.height),width:!r||!!t.width&&t.width!==r.width,scrollBase:!!t.scrollBase&&t.scrollBase!==r.scrollBase};return Object.keys(n).reduce((function(e,t){return n[t]&&(l.dimensions+="dimensions."+t+" has changed. "),e||n[t]}),!1)}({newDimensionsParams:e,oldDimensionsParams:r,oldStylesParams:i})&&(a.a.updateParams({styles:s,container:e}),c=!0,o=Object.assign({},e,a.a.getGalleryDimensions())),{formattedContainer:o,changed:c}},t.createStructure=function(e){var t=e.formattedContainer,r=e.formattedStyles,i={items:e.formattedItems,container:t,styleParams:r,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return i.options.createLayoutOnInit=!1,this.layouter=new pt(i),this.layouter.createLayout(i)},e}());function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach((function(t){rn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nn(e,t,r,i,n,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?t(l):Promise.resolve(l).then(i,n)}function on(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var o=e.apply(t,r);function s(e){nn(o,i,n,s,a,"next",e)}function a(e){nn(o,i,n,s,a,"throw",e)}s(void 0)}))}}function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hn(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var un=new(function(){function e(e){var t=e.id;this.id=t+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=function(){},this.loopingItems=!1}var t=e.prototype;return t.init=function(e){this.api=e.api,this.currentState.totalItemsCount=e&&e.totalItemsCount||this.currentState.totalItemsCount,Ge.g.setFormFactor(e.formFactor)},t.createBlueprint=function(){var e=on(Jt.a.mark((function e(t){var r,i,n,o;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,e.t0=tn,e.t1=tn({},t),e.next=7,this.completeParams(t);case 7:return e.t2=e.sent,t=(0,e.t0)(e.t1,e.t2),r=Qi.createBlueprint(t,this.currentState,this.existingBlueprint,this.id,this.currentState.isUsingCustomInfoElements),i=r.blueprint,n=r.changedParams,o=Object.values(n).some((function(e){return!!e})),this.updateLastParamsIfNeeded(t,n),this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:o}),e.abrupt("return",this.cache[t]=this.existingBlueprint=i);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getMoreItems=function(){var e=on(Jt.a.mark((function e(t){var r;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<this.currentState.totalItemsCount)){e.next=7;break}return e.next=3,this.api.fetchMoreItems(t);case 3:(r=e.sent)&&this.createBlueprint({items:r}),e.next=8;break;case 7:this.existingBlueprint.styles.slideshowLoop&&this.duplicateGalleryItems();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.resetItemLooping=function(){this.loopingItems=!1},t.duplicateGalleryItems=function(){var e,t=(e=this.currentState.items).concat.apply(e,this.currentState.items.slice(0,this.currentState.totalItemsCount));this.loopingItems=!0,this.createBlueprint({items:t})},t.completeParams=function(){var e=on(Jt.a.mark((function e(t){var r,i,n,o,s,a,l,c;return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(r=t||{}).dimensions,n=r.container,o=r.items,s=r.styles,a=r.styleParams,l=r.options,c=r.domId,s=tn(tn(tn({},l),s),a),i=tn(tn({},i),n),e.next=5,this.fetchDimensionsIfNeeded(i);case 5:return i=e.sent,e.next=8,this.fetchItemsIfNeeded(o);case 8:return o=e.sent,e.next=11,this.fetchStylesIfNeeded(s);case 11:return s=e.sent,e.abrupt("return",{dimensions:i,items:o,styles:s,domId:c});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fetchDimensionsIfNeeded=function(){var e=on(Jt.a.mark((function e(t){return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){var t=!0;return e&&Object.keys(e).length>0&&(t=!1),t}(t)){e.next=11;break}if(e.t1=this.api.fetchDimensions,!e.t1){e.next=7;break}return e.next=6,this.api.fetchDimensions();case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=this.currentState.dimensions;case 10:t=e.t0;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fetchItemsIfNeeded=function(){var e=on(Jt.a.mark((function e(t){return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){var t=!0;return e&&e.length>0&&(t=!1),t}(t)){e.next=11;break}if(e.t1=!this.loopingItems&&this.api.fetchItems,!e.t1){e.next=7;break}return e.next=6,this.api.fetchItems();case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=this.currentState.items;case 10:t=e.t0;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.fetchStylesIfNeeded=function(){var e=on(Jt.a.mark((function e(t){return Jt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){var t=!0;return e&&Object.keys(e).length>0&&(t=!1),t}(t)){e.next=11;break}if(e.t1=this.api.fetchStyles,!e.t1){e.next=7;break}return e.next=6,this.api.fetchStyles();case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=this.currentState.styles;case 10:t=e.t0;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.updateLastParamsIfNeeded=function(e,t){var r=e.items,i=e.dimensions,n=e.styles;this.currentState.items=t.itemsChanged?r:this.currentState.items,this.currentState.dimensions=t.containerChanged?tn({},i):this.currentState.dimensions,this.currentState.styles=t.stylesChanged?tn({},n):this.currentState.styles},t.eventsListenerWrapper=function(e,t){!this.internalEventHandler.apply(this,t)&&e.apply(void 0,t)},t.needMoreItems=function(e){this.getMoreItems(e)},e}())({id:"layoutingGallery"}),pn=function(e){var t,r;function i(t){var r;return(r=e.call(this)||this).state={},un.init({api:{isUsingCustomInfoElements:function(){return t.customHoverRenderer||t.customInfoRenderer||t.customSlideshowInfoRenderer}}}),r.onNewProps(t),r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.onNewProps=function(e){var t=this,r=e.domId||"default-dom-id",i=e.styles,n=e.options,o=e.styleParams,a=e.eventsListener,l=hn(e,["styles","options","styleParams","eventsListener"]),c=ln(ln(ln(ln({},s),n),i),o),h=ln(ln({},l),{},{styles:c,eventsListener:function(){return"function"==typeof a&&a.apply(void 0,arguments)},domId:r});Ai(h)||un.createBlueprint(h).then((function(e){t.setState({blueprint:e})}))},o.componentWillReceiveProps=function(e){this.onNewProps(e)},o.render=function(){var e=this.props.domId||"default-dom-id",t=this.props,r=t.styles,i=t.options,o=t.styleParams,a=t.eventsListener,l=hn(t,["styles","options","styleParams","eventsListener"]),c=ln(ln(ln(ln({},s),i),r),o),h=ln(ln({},l),{},{styles:c,eventsListener:function(){return"function"==typeof a&&a.apply(void 0,arguments)},domId:e}),u=Vi,p={};if(Ai(h))u=Ii;else{if(!this.state.blueprint)return null;p=this.state.blueprint}return n.a.createElement(u,sn({},h,p))},i}(n.a.Component)},798:function(e,t,r){"use strict";var i={ON_GALLERY:0,OUTSIDE_GALLERY:1},n={CROP:"fill",FIT:"fit",MIN:"min",MAX:"max"},o={SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},s={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",SHARE_BUTTON_CLICKED:"SHARE_BUTTON_CLICKED",TEXT_DOWNLOAD_BUTTON_CLICKED:"TEXT_DOWNLOAD_BUTTON_CLICKED",LOVE_BUTTON_CLICKED:"LOVE_BUTTON_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",DOWNLOAD_BUTTON_CLICKED:"DOWNLOAD_BUTTON_CLICKED",BUY_NOW_CLICKED:"BUY_NOW_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED"},a={NO_EFFECT:"NO_EFFECT",EXPAND:"EXPAND",FADE_IN:"FADE_IN",ZOOM:"ZOOM"},l={SIDE:"SIDE",BOTTOM:"BOTTOM"},c=r(408),h=r(409),u={LEFT:"left",RIGHT:"right",CENTER:"center"},p={FIT_TO_SCREEN:0,SET_ITEMS_PER_ROW:1},d={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},m={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"},f=r(320),g=r(410),y={COLUMNS:!0,ROWS:!1},b={EXPAND:"expand",LINK:"link",NOTHING:"nothing",FULLSCREEN:"fullscreen"},v=r(178),I={LEFT_TO_RIGHT:!1,RIGHT_TO_LEFT:!0},O=r(411),w=r(412),S={PARTIAL:"partial",ALL:"all"},E={EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},P={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT"},T=r(206),L=r(413),x=r(414),C=r(184),A={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},_=r(415),R={BOTTOM:"bottom",LEFT:"left",TOP:"top",RIGHT:"right"},M=r(416),k={HOVER:"hover",AUTO:"auto",ON_CLICK:"onClick"},j=r(417),D={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};t.a={arrowsPosition:i,cubeType:n,dimensions:o,events:s,expandAnimations:a,expandInfoPositions:l,formFactor:c.a,gallerySizeType:h.a,galleryTextAlign:u,gridStyle:p,groupTypes:d,imageHoverAnimations:m,infoBehaviourOnHover:f.a,infoType:g.a,isVertical:y,itemClick:b,layout:v.a,layoutDirection:I,loadingMode:O.a,loadingWithColorMode:w.a,loadMoreAmount:S,mobileSwipeAnimations:E,overlayAnimations:P,placements:T.a,hasAbovePlacement:T.b,hasBelowPlacement:T.c,hasHoverPlacement:T.e,hasRightPlacement:T.g,hasLeftPlacement:T.f,hasVerticalPlacement:T.h,hasHorizontalPlacement:T.d,isAbovePlacement:T.i,isBelowPlacement:T.j,isHoverPlacement:T.l,isRightPlacement:T.n,isLeftPlacement:T.m,isVerticalPlacement:T.o,isHorizontalPlacement:T.k,resizeMethods:L.a,scrollAnimations:x.a,scrollDirection:C.a,socialNetworks:A,textBoxWidthCalculationOptions:_.a,thumbnailsAlignment:R,urlSizes:M.a,urlTypes:M.b,videoPlay:k,viewMode:j.a,watermarkDock:{LEFT_TOP:{top:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_TOP:{top:0,left:"50%",transform:"translate3d(-50%,0,0)"},RIGHT_TOP:{top:0,left:"auto",right:0,transform:"translate3d(0,0,0)"},LEFT_MIDDLE:{top:"50%",left:0,transform:"translate3d(0,-50%,0)",margin:0},MIDDLE:{top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",margin:0},RIGHT_MIDDLE:{top:"50%",left:"auto",right:0,transform:"translate3d(0,-50%,0)",margin:0},LEFT_DOWN:{top:"auto",bottom:0,left:0,transform:"translate3d(0,0,0)"},MIDDLE_DOWN:{top:"auto",left:"50%",bottom:0,transform:"translate3d(-50%,0,0)"},RIGHT_DOWN:{top:"auto",left:"auto",right:0,bottom:0,transform:"translate3d(0,0,0)"}},imagePlacementAnimations:D}}}]);